{"version":3,"sources":["img/inneBackground.png","img/Poland.png","img/sportBackground.png","img/celebryciBackground.jpg","img/politykaBackground.jpg","img/gospodarkaBackground.jpg","history.js","components/PrivateRoute.js","components/HomePage.js","constants/userConstants.js","helpers/authHeader.js","api/baseURL.js","helpers/HandleResponse.js","services/userService.js","constants/alertConstants.js","actions/alertActions.js","actions/loginActions.js","helpers/FormInputs.js","helpers/InfoComponents.js","helpers/LoadingContent.js","helpers/BackButton.js","components/BackHeader.js","components/Auth/LoginPage.js","constants/marketsConstants.js","helpers/authHeaderImgReq.js","services/marketService.js","constants/betsConstants.js","constants/paginationConstants.js","actions/paginationActions.js","actions/marketActions.js","helpers/MarketCategories.js","components/Markets/CreateMarketPage.js","components/Markets/MarketCoverPage.js","constants/playerConstants.js","services/playerService.js","actions/playerActions.js","components/NavigationBar.js","components/User/ProfilePage.js","components/Auth/RegisterPage.js","actions/registerActions.js","constants/contractConstants.js","services/contractService.js","actions/contractActions.js","components/Markets/BuyContractForm.js","components/Markets/Bet.js","components/Markets/BetsList.js","components/Markets/EditBetsPage.js","constants/tokenConstants.js","components/Auth/ResetPasswordPage.js","actions/tokenActions.js","components/Auth/ChangePasswordWithTokenPage.js","components/Auth/CheckTokenPage.js","components/Auth/ResetPasswordWithToken.js","helpers/MartketCovers.js","components/Markets/MakeMarketPublicPage.js","components/Markets/Market.js","components/Markets/PaginationBar.js","constants/filterConstants.js","actions/filterActions.js","components/Markets/MarketsFilter.js","components/Markets/SearchBar.js","components/Markets/MarketsList.js","components/Markets/MarketsPage.js","constants/transactionConstants.js","services/transactionService.js","actions/transactionActions.js","components/Markets/LineChart.js","components/Markets/MarketTrendChart.js","components/Markets/MarketDetails.js","components/Markets/EditMarketPage.js","components/Markets/SolveSingleBetMarketForm.js","components/Markets/SolveMultiBetMarketForm.js","components/Markets/SolveMarketPage.js","components/Contracts/ContractBet.js","components/Offers/Offer.js","components/Offers/OffersList.js","components/Contracts/ContractDetails.js","constants/filterContractConstants.js","actions/filterContractActions.js","components/Contracts/ContractFilter.js","components/Contracts/Contract.js","components/Contracts/ContractList.js","components/Contracts/ContractPage.js","components/User/EditPasswordPage.js","components/Offers/AddOfferPage.js","services/offerService.js","constants/offerConstants.js","components/Offers/BuyOfferModal.js","actions/offerActions.js","constants/filterOffersConstants.js","actions/filterOfferActions.js","components/Offers/BetOffers.js","constants/rankingConstants.js","components/Contracts/Ranking.js","actions/rankingActions.js","constants/filterTransactionConstants.js","actions/filterTransactionActions.js","components/Transactions/TransactionsFilter.js","components/Transactions/Transaction.js","components/Transactions/TransactionList.js","components/Transactions/TransactionsPage.js","components/Contracts/UserOfferPage.js","components/Markets/DeleteMarketPage.js","components/App.js","reducers/loginReducer.js","reducers/loadingReducer.js","reducers/marketsReducer.js","reducers/filterReducer.js","reducers/contractReducer.js","reducers/filterContractReducer.js","reducers/filterTransactionReducer.js","reducers/filterOffersReducer.js","reducers/index.js","reducers/alertReducer.js","reducers/paginationReducer.js","reducers/tokenReducer.js","reducers/betPriceReducer.js","reducers/playerReducer.js","reducers/offerReducer.js","reducers/rankingReducer.js","reducers/transactionReducer.js","index.js"],"names":["module","exports","createHashHistory","PrivateRoute","Component","component","rest","render","props","user","localStorage","getItem","expiry","jwt","decode","JSON","parse","token","exp","Date","getTime","isPrivate","to","pathname","state","from","location","connect","loggedIn","login","Container","className","Row","Col","sm","Image","variant","src","Poland","alt","Button","registerConstants","loginConstants","editPasswordConstants","authHeader","Authorization","baseURL","handleResponse","res","text","then","ok","error","statusText","Promise","reject","handleLoginResponse","data","handleBuying","status","handleTextResponse","textResponse","userService","username","password","reqOptions","method","headers","body","stringify","fetch","setItem","removeItem","firstName","surname","email","oldPassword","newPassword","repeatedNewPassword","repeatedPassword","alertConstants","alertActions","success","message","type","payload","clear","buyingError","deleteAlert","logout","history","push","renderInput","input","label","meta","placeholder","as","helpText","rows","max","min","disabled","Form","Group","Label","Control","renderError","Text","renderSelectField","options","map","option","id","val","value","key","renderFileInput","accept","methodToHandle","name","onChange","event","touched","Alert","renderInfo","alert","renderInfoWithClose","onClose","dismissible","renderButtonContent","loading","submitText","pending","Spinner","animation","size","role","aria-hidden","BackButton","icon","faArrowCircleLeft","onClick","goBack","BackHeader","title","LoginPage","onSubmit","formValues","renderAlerts","this","handleSubmit","Field","React","formWrapped","reduxForm","form","validate","errors","LOGIN","dispatch","toString","marketsConstants","authHeaderImgReq","marketService","topic","category","endDate","description","marketId","typeOfMarkets","marketTitle","marketCategories","sortedBy","page","pageSize","marketCategoryParams","length","forEach","market","substr","betId","url","undefined","concat","marketCover","FormData","append","yesPrice","noPrice","shares","correctOption","betsConstants","paginationConstants","updateContractPagination","paginationValues","updateOfferPagination","fetchMarket","fetchBetPrice","betPrice","deleteBet","deleteBetPrice","solveMarket","correctBetOption","request","failure","MarketCategories","renderCategoryFilter","handleCategory","Check","CreateMarketPage","resetButtonDisable","createMarket","resetForm","setState","reset","checkIsEmptyField","e","target","renderForm","initialize","field","CREATE_MARKET","MarketCoverPage","imageFile","handleChange","preventDefault","files","localImageUrl","URL","createObjectURL","imageObject","window","onload","width","naturalWidth","height","naturalHeight","revokeObjectURL","setMarketCover","match","params","Array","document","querySelectorAll","fileInput","createRef","encType","ref","rounded","includes","SET_MARKET_COVER","playerConstants","playerService","fetchPlayer","NavigationBar","renderData","Nav","Link","bind","_","isEmpty","player","Navbar","faMoneyBillWave","Math","round","budget","Number","EPSILON","roles","NavDropdown","Item","renderRankingLink","bg","expand","sticky","collapseOnSelect","Brand","Toggle","aria-controls","Collapse","renderUserPanel","renderUnloggedUserPanel","FETCH_PLAYER","ProfilePage","renderContentByRole","faUser","renderContent","RegisterPage","register","test","repeatPassword","REGISTER","contractConstants","contractService","contractOption","maxPrice","contractStatus","betTitle","contractId","price","offerId","fetchContractDetails","BuyContractForm","buyContract","hideForm","color","renderLoadingPrice","BUY_CONTRACT","boughtContract","purchaser","Bet","submitted","backgroundColor","onClickDeleteBet","renderNotFoundMessage","renderBuyForm","correctBetId","Segment","href","published","renderPrice","ownProps","DELETE_BET","loadingPrice","FETCH_BETS_PRICE","BetsList","faTimes","bets","bet","bestYesPrice","bestNoPrice","EditBetsPage","addBet","renderBetsList","currentMarket","renderLoading","loadingMarket","renderNextStepButton","step","addingLoading","faTimesCircle","renderFailedToFetch","renderPageContent","betsSumValue","parseFloat","ADD_BET","FETCH_MARKET","markets","find","predictionMarket","tokenConstants","SEND_TOKEN_REQUEST","SEND_TOKEN_SUCCESS","SEND_TOKEN_FAILURE","CHECK_TOKEN_REQUEST","CHECK_TOKEN_SUCCESS","CHECK_TOKEN_FAILURE","ResetPasswordPage","sendToken","emailToReset","SEND_TOKEN","ChangePasswordWithTokenPage","changePasswordWithToken","CHANGE_PASSWORD_WITH_TOKEN","CHANGE_PASSWORD_WITH_TOKEN_REQUEST","info","CHANGE_PASSWORD_WITH_TOKEN_SUCCESS","CHANGE_PASSWORD_WITH_TOKEN_FAILURE","CheckTokenPage","checkToken","CHECK_TOKEN","ResetPasswordWithToken","isTokenCorrect","tokenCorrect","displayMarketCover","cover","sportBackground","celebryciBackground","politykaBackground","gospodarkaBackground","inneBackground","MakeMarketPublicPage","renderEditMenu","makeMarketPublic","makePublic","renderMarketIsAlreadyPublishedInfo","faExclamationCircle","renderMarketContent","style","margin","marketCategory","marginBottom","MAKE_MARKET_PUBLIC","Card","Img","Body","Title","author","Footer","date","createdDate","formatter","buildFormatter","polishStrings","PaginationBar","pageNeighbours","range","i","fetchPageNumbers","LEFT_PAGE","totalPages","paginationInfo","currentPage","number","totalNumbers","startPage","endPage","pages","hasLeftSpill","hasRightSpill","spillOffset","extraPages","aria-label","index","handleMoveLeft","handleMoveRight","changePage","renderPagination","filterConstants","selectCategory","unselectCategory","updateSearch","searchText","updateSorted","changePageSize","MarketsFilter","filters","handleSort","split","selectedCategories","handlePageSize","parseInt","renderPageSizeFilter","filterMarkets","SearchBar","onInputSearchChange","onSubmitSearch","search","InputGroup","Prepend","FormControl","aria-describedby","MarketsList","fetchMarkets","filter","clearFilters","prevProps","faSadTear","renderList","xs","md","Object","values","FETCH_MARKETS","pagination","content","omit","MarketsPage","Tabs","Tab","eventKey","unmountOnExit","renderTabs","transactionConstants","transactionService","timeAgo","clearTransactions","LineChart","canvasRef","time","myChart","labels","transactions","d","transactionDate","datasets","unit","setUnit","scales","xAxes","update","Chart","current","yAxes","ticks","fill","pointRadius","borderColor","borderWidth","lineTension","MarketTrendChart","currentBet","currentOption","onChangeTimeAgo","today","timestamp","setDate","getDate","dd","String","padStart","mm","getMonth","yyyy","getFullYear","fetchTransactions","onChangeBet","onChangeBetOption","renderMarketFilter","renderBetOptionFilter","renderTimeAgoFilter","FETCH_TRANSACTIONS","MarketDetails","renderMarketPage","substring","EditMarketPage","getSelectedOption","getOptions","opt","toLowerCase","editMarket","predictedDateEnd","enableReinitialize","EDIT_MARKET","initialValues","SolveSingleBetMarketForm","selected","SOLVE_MARKET","SolveMultiBetMarketForm","handleCorrectBetId","SolveMarketPage","renderSolveMarketInfo","compareDates","renderChooseCorrectBetForm","renderLoadingMarket","ContractBet","Offer","deleteOffer","isOwner","dealer","contract","onClickShowModal","DELETE_OFFER","OffersList","Table","striped","bordered","hover","offers","offer","ContractDetails","showModal","handleModalClose","renderDeletingLoading","Modal","show","deleting","onHide","Header","closeButton","renderContractStatus","playerId","marketInfo","renderOffers","FETCH_CONTRACT_DETAILS","contracts","filterContractConstants","changeContractPage","ContractFilter","handleContractOption","handleSortOption","renderContractOptionFilter","renderMarketTitleFilter","handleMarketTitleChange","renderContractStatusFilter","handleContractStatus","renderBetTitleFilter","handleBetTitleChange","renderSortFilter","updateContractFilters","resetFilters","offerPage","Contract","iconName","renderCardBorder","fluid","Content","Meta","extra","Icon","offersSize","ContractList","returnObjectSize","obj","hasOwnProperty","renderContractList","fetchContracts","fetchFilteredContracts","FETCH_CONTRACTS","filterContracts","paginationContractInfo","setStatusPending","ContractPage","defaultActiveKey","EditPasswordPage","editPassword","repeatNewPassword","EDIT_PASSWORD","AddOfferPage","onChangeprice","onChangeshares","addOffer","renderLoadingContainer","renderErrorInfo","controlId","renderAddOfferForm","loadingContract","ADD_OFFER","offerService","reqOption","offerConstants","BuyOfferModal","buyShares","onChangeShares","showModalForm","handleClose","backdrop","keyboard","maxValue","filterOffersConstants","BetOffers","handleShow","fetchOffers","prevState","offersPagination","filterOffers","FETCH_OFFERS","rankingConstants","Ranking","fetchRanking","ranking","faTrophy","renderRanking","FETCH_RANKING","filterTransactionConstants","changeTransactionPage","TransactionsFilter","handleOption","updateTransactionFilters","Transaction","faCalendar","faShoppingCart","Description","TransactionList","fetchFilteredTransactions","divided","transaction","FETCH_FILTERED_TRANSACTIONS","transactionsFilter","transactionPagination","clearPagination","TransactionsPage","UserOfferPage","DeleteMarketPage","deleteMarket","renderFirstDeleteBetsInfo","renderDeleteField","DELETE_MARKET","App","exact","path","HomePage","Divider","hidden","initialState","getActionName","actionType","slice","join","updateArr","arr","action","findIndex","newArray","combineReducers","formReducer","actionName","endsWith","sended","mapKeys","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","querySelector"],"mappings":"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","file":"static/js/main.3abc1d38.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/Poland.f63e26dd.png\";","module.exports = __webpack_public_path__ + \"static/media/sportBackground.578c60f3.png\";","module.exports = __webpack_public_path__ + \"static/media/celebryciBackground.7921ca20.jpg\";","module.exports = __webpack_public_path__ + \"static/media/politykaBackground.e914f677.jpg\";","module.exports = __webpack_public_path__ + \"static/media/gospodarkaBackground.e29d775f.jpg\";","import { createHashHistory } from 'history'; \r\nexport default createHashHistory();","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nconst isPrivate = () => {\r\n    const user = localStorage.getItem('user');\r\n    if(user) {\r\n        const expiry = jwt.decode(JSON.parse(user).token).exp;\r\n        const now = new Date();\r\n        return now.getTime() > expiry * 1000;\r\n    }\r\n    return true;\r\n   \r\n}\r\n\r\nexport const PrivateRoute = ({ component: Component, ...rest }) => (\r\n    <Route {...rest} render={props => (\r\n        isPrivate()\r\n            ? <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n            : <Component {...props} />\r\n    )} />\r\n);","import React from \"react\";\r\nimport { Container, Row, Col, Image, Button } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport Poland from \"../img/Poland.png\";\r\nimport { connect } from \"react-redux\";\r\nimport \"./HomePage.scss\";\r\n\r\nconst HomePage = (props) => {\r\n  return (\r\n    <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n      <header>\r\n        <h2>Dołącz do PredictBom już dziś !</h2>\r\n        <hr className=\"my-4\"></hr>\r\n      </header>\r\n      <Row>\r\n        <Col sm={6}>\r\n          <Image variant=\"top\" src={Poland} alt=\"Obrazek Polska\" className=\"img-cover\" />\r\n        </Col>\r\n        <Col sm={6}>\r\n          <div className=\"advantages home-info\">\r\n            <h4>Dlaczego warto do nas dołączyć ?</h4>\r\n            <p className=\"text-muted\">\r\n              <strong>\r\n                PredictBom jest darmową aplikacją związaną z rynkami\r\n                prognostycznymi.\r\n              </strong>\r\n              Weź udział w rynkach dotyczących najciekawszych wydarzeń\r\n              dziejących się w naszym kraju z zakresu kilku kategorii.\r\n            </p>\r\n          </div>\r\n          <div className=\"rules home-info\">\r\n            <h4>Zasady gry</h4>\r\n            <p className=\"text-muted\">\r\n              Gracze PredictBom otrzymują możliwość obrotu akcjami na wielu\r\n              interesujących rynkach prognoz. Ceny akcji wahają się między 0 a 1\r\n              $, gdzie za każdą akcję na poprawną opcję zakładową otrzymują 1 $.\r\n              Wykaż się umiejętnosciami prognostycznymi i kupuj akcje po jak\r\n              najbardziej korzystnych cenach i sprzedawaj je aby jak najbardziej\r\n              zwiększyć swój budżet. Zakupione akcje znajdziesz w zakładce\r\n              kontrakty. Aby gra była uczciwa i najbogatsi gracze nie wykupowali\r\n              wszystkich akcji dla danego rynku,{\" \"}\r\n              <strong>\r\n                dziennie możliwy jest zakup 1000 akcji na wybraną opcję\r\n                zakładową.\r\n              </strong>\r\n            </p>\r\n          </div>\r\n          <div className=\"bonus home-info\">\r\n            <h4>Odwiedzaj nas codziennie aby odebrać bonus !</h4>\r\n            <p className=\"text-muted\">\r\n              Nie zawsze będziesz dobrze obstawiać, aby odzyskać budżet\r\n              odwiedzaj nas codziennie!{\" \"}\r\n              <strong>\r\n                Przy pierwszym logowaniu każdego dnia otrzymasz 100$.\r\n              </strong>\r\n            </p>\r\n          </div>\r\n          {!props.loggedIn && (\r\n            <div className=\"text-center\">\r\n              <LinkContainer to=\"/register\" className=\"link-button\">\r\n                <Button variant=\"dark\">Dołącz do PredictBom</Button>\r\n              </LinkContainer>\r\n            </div>\r\n          )}\r\n          <div className=\"text-center\">\r\n            <LinkContainer to=\"/markets\" className=\"link-button\">\r\n              <Button variant=\"dark\">Przeglądaj rynki</Button>\r\n            </LinkContainer>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loggedIn: state.login.loggedIn,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(HomePage);\r\n","export const registerConstants = {\r\n    REGISTER_REQUEST: 'REGISTER_REQUEST',\r\n    REGISTER_SUCCESS: 'REGISTER_SUCCESS',\r\n    REGISTER_FAILURE: 'REGISTER_FAILURE'\r\n};\r\n\r\nexport const loginConstants = {\r\n    LOGIN_REQUEST: 'LOGIN_REQUEST',\r\n    LOGIN_SUCCESS: 'LOGIN_SUCCESS',\r\n    LOGIN_FAILURE: 'LOGIN_FAILURE',\r\n    LOGOUT: 'LOGOUT'\r\n}\r\n\r\nexport const editPasswordConstants = {\r\n    EDIT_PASSWORD_REQUEST: 'EDIT_PASSWORD_REQUEST',\r\n    EDIT_PASSWORD_SUCCESS: 'EDIT_PASSWORD_SUCCESS',\r\n    EDIT_PASSWORD_FAILURE: 'EDIT_PASSWORD_FAILURE',\r\n    CHANGE_PASSWORD_WITH_TOKEN_REQUEST:'CHANGE_PASSWORD_WITH_TOKEN_REQUEST',\r\n    CHANGE_PASSWORD_WITH_TOKEN_SUCCESS:'CHANGE_PASSWORD_WITH_TOKEN_SUCCESS',\r\n    CHANGE_PASSWORD_WITH_TOKEN_FAILURE:'CHANGE_PASSWORD_WITH_TOKEN_FAILURE'\r\n}","export default function authHeader() {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  return user && user.token\r\n    ? {\r\n        Authorization: \"Bearer \" + user.token,\r\n        \"Content-Type\": \"application/json\",\r\n      }\r\n    : {};\r\n}\r\n","// export const baseURL = \"http://localhost:8080\"\r\nexport const baseURL = \"https://predict-bom.herokuapp.com\"","export const handleResponse = (res) => {\r\n  return res.text().then((text) => {\r\n    if (!res.ok) {\r\n      let error = text || res.statusText;\r\n      return Promise.reject(error);\r\n    }\r\n    const data = text && JSON.parse(text);\r\n\r\n    return data;\r\n  });\r\n};\r\n\r\nexport const handleLoginResponse = (res) => {\r\n  return res.text().then((text) => {\r\n    const data = text && JSON.parse(text);\r\n    if (!res.ok) {\r\n      let error = (data && data.error) || res.statusText;\r\n\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    return data;\r\n  });\r\n};\r\n\r\nexport const handleBuying = (res) => {\r\n  return res.text().then((text) => {\r\n\r\n    if (res.status === 500) {\r\n      return Promise.reject(\r\n        \"W tym momencie dużo osób próbuje złożyć zamówienie, spróbuj ponownie za chwilę\"\r\n      );\r\n    }\r\n\r\n    // if (!data.purchaser) {\r\n    //   let error = data.info;\r\n    //   return Promise.reject(error);\r\n    //}\r\n    if (!res.ok) {\r\n      // let error = (data && data.error) || res.statusText;\r\n      return Promise.reject(text);\r\n    }\r\n\r\n    const data = text && JSON.parse(text);\r\n    return data;\r\n  });\r\n};\r\n","import authHeader from \"../helpers/authHeader\";\r\nimport { baseURL } from \"../api/baseURL\";\r\nimport { handleLoginResponse } from \"../helpers/HandleResponse\";\r\n\r\nconst login = (username, password) => {\r\n  const reqOptions = {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ username, password }),\r\n  };\r\n\r\n  return fetch(`${baseURL}/api/auth/signin`, reqOptions)\r\n    .then(handleLoginResponse)\r\n    .then((user) => {\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n\r\n      return user;\r\n    });\r\n};\r\n\r\nconst logout = () => {\r\n  localStorage.removeItem(\"user\");\r\n};\r\n\r\nconst register = (username, firstName, surname, email, password) => {\r\n  const reqOptions = {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ username, firstName, surname, email, password }),\r\n  };\r\n\r\n  return fetch(`${baseURL}/api/auth/signup`, reqOptions).then((res) =>\r\n    handleTextResponse(res)\r\n  );\r\n};\r\n\r\nconst sendToken = (email) => {\r\n  const reqOptions = {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  };\r\n  return fetch(\r\n    `${baseURL}/api/auth/resetPassword?username=${email}`,\r\n    reqOptions\r\n  ).then((res) => handleTextResponse(res));\r\n};\r\n\r\nconst checkToken = (token) => {\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n  };\r\n  return fetch(\r\n    `${baseURL}/api/auth/checkToken?token=${token}`,\r\n    reqOptions\r\n  ).then((res) => handleTextResponse(res));\r\n};\r\n\r\nconst changePasswordWithToken = (newPassword, repeatedPassword, token) => {\r\n  const reqOptions = {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({ newPassword, repeatedPassword, token }),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/api/auth/changePassword`,\r\n    reqOptions\r\n  ).then((res) => handleTextResponse(res));\r\n};\r\n\r\nconst editPassword = (oldPassword, newPassword, repeatedNewPassword) => {\r\n  const reqOptions = {\r\n    method: \"PUT\",\r\n    headers: authHeader(),\r\n    body: JSON.stringify({ oldPassword, newPassword, repeatedNewPassword }),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/api/auth/editPassword`,\r\n    reqOptions\r\n  ).then((res) => handleTextResponse(res));\r\n};\r\n\r\nconst handleTextResponse = (textResponse) => {\r\n  return textResponse.text().then((text) => {\r\n    if (!textResponse.ok) {\r\n      let error = text || textResponse.statusText;\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    return text;\r\n  });\r\n};\r\n\r\nexport const userService = {\r\n  login,\r\n  logout,\r\n  register,\r\n  sendToken,\r\n  checkToken,\r\n  editPassword,\r\n  changePasswordWithToken,\r\n};\r\n","export const alertConstants = {\r\n    ALERT_SUCCESS_INFO: 'ALERT_SUCCESS_INFO',\r\n    ALERT_ERROR: 'ALERT_ERROR',\r\n    ALERT_CLEAR: 'ALERT_CLEAR',\r\n    ALERT_BUYING: 'ALERT_BUYING',\r\n    ALERT_DELETING: 'ALERT_DELETING',\r\n    ALERT_CONNECTION_ERROR: 'ALERT_CONNECTION_ERROR'\r\n}\r\n\r\n","import { alertConstants } from \"../constants/alertConstants\";\r\n\r\nconst success = (message) => {\r\n  return {\r\n    type: alertConstants.ALERT_SUCCESS_INFO,\r\n    payload: message,\r\n  };\r\n};\r\n\r\nconst error = (message) => {\r\n  return {\r\n    type: alertConstants.ALERT_ERROR,\r\n    payload: message,\r\n  };\r\n};\r\n\r\nconst buyingError = (message) => {\r\n  return {\r\n    type: alertConstants.ALERT_BUYING,\r\n    payload: message,\r\n  };\r\n};\r\n\r\nconst clear = () => {\r\n  return {\r\n    type: alertConstants.ALERT_CLEAR,\r\n  };\r\n};\r\n\r\nconst deleteAlert = (message) => {\r\n  return {\r\n    type: alertConstants.ALERT_DELETING,\r\n    payload: message,\r\n  };\r\n};\r\n\r\nexport const alertActions = {\r\n  success,\r\n  error,\r\n  clear,\r\n  buyingError,\r\n  deleteAlert,\r\n};\r\n","import {loginConstants,editPasswordConstants} from '../constants/userConstants';\r\nimport {userService} from '../services/userService';\r\nimport history from '../history';\r\nimport { alertActions } from './alertActions';\r\n\r\nexport const login = ({username, password}) => {\r\n    return dispatch => {\r\n        dispatch(request({ username }));\r\n\r\n        userService.login(username, password)\r\n            .then(\r\n                user => { \r\n                    dispatch(success(user));\r\n                    history.push('/profile');\r\n                },\r\n                error => {\r\n            \r\n                    dispatch(failure());\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: loginConstants.LOGIN_REQUEST, user } }\r\n    function success(user) { return { type: loginConstants.LOGIN_SUCCESS, user } }\r\n    function failure() { return { type: loginConstants.LOGIN_FAILURE } }\r\n}\r\n\r\nexport const editPassword = ({oldPassword,newPassword,repeatedNewPassword}) => {\r\n    return dispatch => {\r\n        dispatch(request());\r\n\r\n        userService.editPassword(oldPassword,newPassword,repeatedNewPassword)\r\n            .then(\r\n                res => { \r\n                    dispatch(logout());\r\n                    dispatch(success());\r\n                    dispatch(alertActions.success(res));\r\n                },\r\n                error => {\r\n                    dispatch(failure());\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request() { return { type: editPasswordConstants.EDIT_PASSWORD_REQUEST} }\r\n    function success() { return { type: editPasswordConstants.EDIT_PASSWORD_SUCCESS} }\r\n    function failure() { return { type: editPasswordConstants.EDIT_PASSWORD_FAILURE} }\r\n}\r\n\r\n\r\nexport const logout = () => {\r\n    userService.logout();\r\n    history.push('/login');\r\n    return {type: loginConstants.LOGOUT};\r\n}","import React from \"react\";\r\nimport { Alert, Form } from \"react-bootstrap\";\r\n\r\nexport const renderInput = ({\r\n  input,\r\n  label,\r\n  meta,\r\n  type,\r\n  placeholder,\r\n  as,\r\n  helpText,\r\n  rows,\r\n  max,\r\n  min,\r\n  disabled,\r\n}) => {\r\n  return (\r\n    <Form.Group>\r\n      <Form.Label>{label}</Form.Label>\r\n      <Form.Control\r\n        {...input}\r\n        min={min}\r\n        max={max}\r\n        as={as}\r\n        type={type}\r\n        placeholder={placeholder}\r\n        rows={rows}\r\n        disabled={disabled}\r\n      />\r\n      {renderError(meta)}\r\n      {helpText && <Form.Text className=\"text-muted\">{helpText}</Form.Text>}\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nexport const renderSelectField = ({\r\n  input,\r\n  options,\r\n  label,\r\n  type,\r\n  disabled,\r\n  meta,\r\n}) => {\r\n  return (\r\n    <Form.Group>\r\n      <Form.Label>{label}</Form.Label>\r\n      <Form.Control {...input} as=\"select\" disabled={disabled}>\r\n        {options.map((option) => (\r\n          <option id={option.val} value={option.val} key={option.key}>\r\n            {option.text}\r\n          </option>\r\n        ))}\r\n      </Form.Control>\r\n      {renderError(meta)}\r\n    </Form.Group>\r\n  );\r\n};\r\n\r\nexport const renderFileInput = ({\r\n  input,\r\n  type,\r\n  meta,\r\n  accept,\r\n  methodToHandle,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <input\r\n        name={input.name}\r\n        type={type}\r\n        accept={accept}\r\n        onChange={(event) => methodToHandle(event, input)}\r\n      />\r\n      {renderError(meta)}\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\nconst renderError = ({ error, touched }) => {\r\n  if (touched && error) {\r\n    return <Alert variant=\"danger\">{error}</Alert>;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { Alert } from \"react-bootstrap\";\r\n\r\nexport const renderInfo = (alert, variant=\"danger\") => {\r\n    if (alert.payload) {\r\n      return (\r\n        <Alert className=\"mt-3\" variant={variant}>\r\n          {alert.payload}\r\n        </Alert>\r\n      );\r\n    }\r\n  }\r\n\r\n  export const renderInfoWithClose = (alert, clear,variant=\"danger\") => {\r\n    if (alert.payload) {\r\n      return (\r\n        <Alert\r\n          className=\"mt-3\"\r\n          onClose={() => clear()}\r\n          variant={variant}\r\n          dismissible\r\n        >\r\n          {alert.payload}\r\n        </Alert>\r\n      );\r\n    }\r\n  };","import React from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nexport const renderButtonContent = (loading, submitText) => {\r\n  if (typeof loading !== \"undefined\" && loading.pending) {\r\n    return (\r\n      <div>\r\n        <Spinner\r\n          as=\"span\"\r\n          animation=\"border\"\r\n          size=\"sm\"\r\n          role=\"status\"\r\n          aria-hidden=\"true\"\r\n        />\r\n        Ładowanie...\r\n      </div>\r\n    );\r\n  } else {\r\n    return submitText;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faArrowCircleLeft} from '@fortawesome/free-solid-svg-icons';\r\nimport history from '../history';\r\nimport './BackButton.scss';\r\n\r\nconst BackButton = () => {\r\n    return(\r\n        <FontAwesomeIcon className=\"back-icon\" icon={faArrowCircleLeft} size={\"2x\"} onClick={() => history.goBack()}>\r\n        </FontAwesomeIcon>\r\n        )\r\n}\r\n\r\nexport default BackButton;","import React from \"react\";\r\nimport BackButton from \"../helpers/BackButton\";\r\nimport './BackHeader.scss';\r\n\r\nconst BackHeader = (props) => {\r\n  return (\r\n    <header>\r\n      <BackButton />\r\n      <h2>{props.title}</h2>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default BackHeader;\r\n","import React from \"react\";\r\nimport {Container, Form, Button } from \"react-bootstrap\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"../../actions/loginActions\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {renderInput} from '../../helpers/FormInputs';\r\nimport {renderInfoWithClose,renderInfo} from '../../helpers/InfoComponents';\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\nimport BackHeader from '../BackHeader';\r\nimport {alertConstants} from '../../constants/alertConstants';\r\n\r\nclass LoginPage extends React.Component {\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.login(formValues);\r\n  };\r\n\r\n  renderAlerts = () => {\r\n    return (this.props.alert && this.props.alert.type === alertConstants.ALERT_SUCCESS_INFO) ? renderInfoWithClose(this.props.alert,this.props.clear,\"success\") : renderInfo(this.props.alert);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container form-container\">\r\n        <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n          <BackHeader title=\"Logowanie\" />\r\n          <hr className=\"my-4\"></hr>\r\n          <Field\r\n            type=\"text\"\r\n            label=\"Nazwa użytkownika\"\r\n            name=\"username\"\r\n            component={renderInput}\r\n            placeholder=\"Wprowadź nazwę użytkownika\"\r\n          ></Field>\r\n          <Form.Text className=\"text-muted\">\r\n            Zapewniamy że twoje dane będą bezpieczne\r\n          </Form.Text>\r\n          <Field\r\n            type=\"password\"\r\n            label=\"Hasło\"\r\n            name=\"password\"\r\n            component={renderInput}\r\n            placeholder=\"Wprowadź hasło\"\r\n          ></Field>\r\n\r\n          <Button id=\"loginButton\" variant=\"primary\" type=\"submit\">\r\n            {renderButtonContent(this.props.loading,\"Zaloguj się\")}\r\n          </Button>\r\n        </Form>\r\n        <Link to=\"/resetPassword\">Zapomniałeś hasła ?</Link>\r\n        {this.renderAlerts()}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n\r\n  if (!formValues.username) {\r\n    errors.username = \"Musisz podać nazwę użytkownika\";\r\n  }\r\n\r\n  if (!formValues.password) {\r\n    errors.password = \"Musisz podać hasło\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    alert: state.alert,\r\n    loading: state.loading.LOGIN,\r\n  };\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"loginForm\",\r\n  validate,\r\n})(LoginPage);\r\n\r\nexport default connect(mapStateToProps, { login, clear: alertActions.clear })(formWrapped);\r\n","export const marketsConstants = {\r\n    SET_MARKET_COVER_REQUEST: 'SET_MARKET_COVER_REQUEST',\r\n    SET_MARKET_COVER_SUCCESS: 'SET_MARKET_COVER_SUCCESS',\r\n    SET_MARKET_COVER_FAILURE: 'SET_MARKET_COVER_FAILURE',\r\n    EDIT_MARKET_REQUEST:'EDIT_MARKET_REQUEST',\r\n    EDIT_MARKET_SUCCESS:'EDIT_MARKET_SUCCESS',\r\n    EDIT_MARKET_FAILURE:'EDIT_MARKET_FAILURE',\r\n    ADD_BET_REQUEST: 'ADD_BET_REQUEST',\r\n    ADD_BET_SUCCESS: 'ADD_BET_SUCCESS',\r\n    ADD_BET_FAILURE: 'ADD_BET_FAILURE',\r\n    DELETE_BET_REQUEST: 'DELETE_BET_REQUEST',\r\n    DELETE_BET_SUCCESS: 'DELETE_BET_SUCCESS',\r\n    DELETE_BET_FAILURE: 'DELETE_BET_FAILURE',\r\n    FETCH_MARKETS_REQUEST: 'FETCH_MARKETS_REQUEST',\r\n    FETCH_MARKETS_SUCCESS: 'FETCH_MARKETS_SUCCESS',\r\n    FETCH_MARKETS_FAILURE: 'FETCH_MARKETS_FAILURE',\r\n    CREATE_MARKET_REQUEST: 'CREATE_MARKET_REQUEST',\r\n    CREATE_MARKET_SUCCESS: 'CREATE_MARKET_SUCCESS',\r\n    CREATE_MARKET_FAILURE: 'CREATE_MARKET_FAILURE',\r\n    FETCH_MARKET_REQUEST: 'FETCH_MARKET_REQUEST',\r\n    FETCH_MARKET_SUCCESS: 'FETCH_MARKET_SUCCESS',\r\n    FETCH_MARKET_FAILURE: 'FETCH_MARKET_FAILURE',\r\n    MAKE_MARKET_PUBLIC_REQUEST: 'MAKE_MARKET_PUBLIC_REQUEST',\r\n    MAKE_MARKET_PUBLIC_SUCCESS: 'MAKE_MARKET_PUBLIC_SUCCESS',\r\n    MAKE_MARKET_PUBLIC_FAILURE: 'MAKE_MARKET_PUBLIC_FAILURE',\r\n    SOLVE_MARKET_REQUEST: 'SOLVE_MARKET_REQUEST',\r\n    SOLVE_MARKET_SUCCESS: 'SOLVE_MARKET_SUCCESS',\r\n    SOLVE_MARKET_FAILURE: 'SOLVE_MARKET_FAILURE',\r\n    DELETE_MARKET_REQUEST: 'DELETE_MARKET_REQUEST',\r\n    DELETE_MARKET_SUCCESS: 'DELETE_MARKET_SUCCESS',\r\n    DELETE_MARKET_FAILURE: 'DELETE_MARKET_FAILURE'\r\n};\r\n","export default function authHeaderImgReq() {\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  return user && user.token ? { Authorization: \"Bearer \" + user.token } : {};\r\n}\r\n","import authHeader from \"../helpers/authHeader\";\r\nimport authHeaderImgReq from \"../helpers/authHeaderImgReq\";\r\nimport { handleResponse } from \"../helpers/HandleResponse\";\r\nimport { baseURL } from \"../api/baseURL\";\r\n\r\nconst createMarket = (topic, category, endDate, description) => {\r\n  const reqOptions = {\r\n    method: \"POST\",\r\n    headers: authHeader(),\r\n    body: JSON.stringify({ topic, category, endDate, description }),\r\n  };\r\n\r\n  return fetch(`${baseURL}/markets/new`, reqOptions).then((res) =>\r\n    handleResponse(res)\r\n  );\r\n};\r\n\r\nconst editMarket = (marketId, topic, category, endDate, description) => {\r\n  const reqOptions = {\r\n    method: \"PUT\",\r\n    headers: authHeader(),\r\n    body: JSON.stringify({ topic, category, endDate, description }),\r\n  };\r\n\r\n  return fetch(`${baseURL}/markets/edit/${marketId}`, reqOptions).then((res) =>\r\n    handleResponse(res)\r\n  );\r\n};\r\n\r\nconst fetchMarkets = (\r\n  typeOfMarkets,\r\n  marketTitle,\r\n  marketCategories = [],\r\n  sortedBy,\r\n  page,\r\n  pageSize\r\n) => {\r\n  let marketCategoryParams = \"\";\r\n  if (marketCategories.length > 0) {\r\n    marketCategories.forEach((market) => {\r\n      marketCategoryParams += `marketCategory=${market}&`;\r\n    });\r\n  }\r\n\r\n  marketCategoryParams.length > 0\r\n    ? marketCategoryParams.substr(0, marketCategoryParams.length - 1)\r\n    : (marketCategoryParams = \"marketCategory=\");\r\n\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/markets${typeOfMarkets}?marketTitle=${marketTitle}&${marketCategoryParams}&page=${page}&size=${pageSize}&sortAttribute=${sortedBy[0]}&sortDirection=${sortedBy[1]}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nconst fetchMarket = (marketId) => {\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(`${baseURL}/markets/${marketId}`, reqOptions).then((res) =>\r\n    handleResponse(res)\r\n  );\r\n};\r\n\r\nexport const fetchBetPrice = (betId,option) => {\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: authHeader(),\r\n  };\r\n  let url = `${baseURL}/markets/betPrice?betId=${betId}`;\r\n  if(typeof option !== undefined) url.concat(`?option=${option}`)\r\n  return fetch(url, reqOptions).then((res) =>\r\n    handleResponse(res)\r\n  );\r\n};\r\n\r\n\r\nconst fetchBetPriceByOption = (betId, option) => {\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/markets/betPrice?betId=${betId}&option=${option}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nconst setMarketCover = (marketId, { marketCover }) => {\r\n  const data = new FormData();\r\n  data.append(\"marketCover\", marketCover);\r\n  const reqOptions = {\r\n    method: \"POST\",\r\n    headers: authHeaderImgReq(),\r\n    body: data,\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/markets/marketCover/${marketId}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nexport const addBet = (marketId, yesPrice, noPrice, title, shares) => {\r\n  const reqOptions = {\r\n    method: \"POST\",\r\n    headers: authHeader(),\r\n    body: JSON.stringify({ marketId, yesPrice, noPrice, title, shares }),\r\n  };\r\n\r\n  return fetch(`${baseURL}/markets/addBet`, reqOptions).then((res) =>\r\n    handleResponse(res)\r\n  );\r\n};\r\n\r\nexport const deleteBet = (betId) => {\r\n  const reqOptions = {\r\n    method: \"POST\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/markets/deleteBet?betId=${betId}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nexport const solveMarket = (marketId, betId, correctOption) => {\r\n  const reqOptions = {\r\n    method: \"PUT\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/markets/solveMarket?marketId=${marketId}&betId=${betId}&correctOption=${correctOption}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nconst makePublic = (marketId) => {\r\n  const reqOptions = {\r\n    method: \"PUT\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/markets/makePublic?marketId=${marketId}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nconst deleteMarket = (marketId) => {\r\n  const reqOptions = {\r\n    method: \"DELETE\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/markets/delete?marketId=${marketId}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nexport const marketService = {\r\n  createMarket,\r\n  editMarket,\r\n  fetchMarkets,\r\n  fetchMarket,\r\n  fetchBetPrice,\r\n  fetchBetPriceByOption,\r\n  deleteMarket,\r\n  setMarketCover,\r\n  addBet,\r\n  deleteBet,\r\n  makePublic,\r\n  solveMarket\r\n};\r\n","export const betsConstants = {\r\n    FETCH_BET_PRICE_REQUEST: 'FETCH_BETS_PRICE_REQUEST',\r\n    FETCH_BET_PRICE_SUCCESS: 'FETCH_BETS_PRICE_SUCCESS',\r\n    FETCH_BET_PRICE_FAILURE: 'FETCH_BETS_PRICE_FAILURE',\r\n    DELETE_BET:'DELETE_BET',\r\n    FETCH_BET:'FETCH_BET'\r\n};","export const paginationConstants = {\r\n    UPDATE_PAGINATION: 'UPDATE_PAGINATION',\r\n    UPDATE_CONTRACT_PAGINATION:'UPDATE_CONTRACT_PAGINATION',\r\n    UPDATE_OFFERS_PAGINATION:'UPDATE_OFFERS_PAGINATION',\r\n    UPDATE_TRANSACTION_PAGINATION:'UPDATE_TRANSACTION_PAGINATION',\r\n    CLEAR_PAGINATION:'CLEAR_PAGINATION'\r\n}","import {paginationConstants} from '../constants/paginationConstants';\r\n\r\nexport const updatePagination = (paginationValues) => {\r\n    return {\r\n        type: paginationConstants.UPDATE_PAGINATION,\r\n        payload: paginationValues\r\n    }\r\n}\r\n\r\nexport const updateContractPagination = (paginationValues) => {\r\n    return {\r\n        type: paginationConstants.UPDATE_CONTRACT_PAGINATION,\r\n        payload: paginationValues\r\n    }\r\n}\r\n\r\nexport const updateTransactionPagination = (paginationValues) => {\r\n    return {\r\n        type: paginationConstants.UPDATE_TRANSACTION_PAGINATION,\r\n        payload: paginationValues\r\n    }\r\n}\r\n\r\nexport const updateOfferPagination = (paginationValues) => {\r\n    return {\r\n        type: paginationConstants.UPDATE_OFFERS_PAGINATION,\r\n        payload: paginationValues\r\n    }\r\n}\r\n\r\nexport const clearPagination = () => {\r\n    return {\r\n        type: paginationConstants.CLEAR_PAGINATION\r\n    }\r\n}","import { marketsConstants } from \"../constants/marketsConstants\";\r\nimport history from \"../history\";\r\nimport { alertActions } from \"./alertActions\";\r\nimport { marketService } from \"../services/marketService\";\r\nimport { betsConstants } from \"../constants/betsConstants\";\r\nimport { updatePagination } from \"./paginationActions\";\r\nimport _ from \"lodash\";\r\n\r\nexport const createMarket = ({\r\n  topic,\r\n  category,\r\n  endDate = \"\",\r\n  description,\r\n}) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n\r\n    marketService.createMarket(topic, category, endDate, description).then(\r\n      (res) => {\r\n        dispatch(success(res));\r\n        history.push(`/markets/editBets/${res.marketId}`);\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request(market) {\r\n    return { type: marketsConstants.CREATE_MARKET_REQUEST };\r\n  }\r\n  function success(market) {\r\n    return { type: marketsConstants.CREATE_MARKET_SUCCESS, payload: market };\r\n  }\r\n  function failure() {\r\n    return { type: marketsConstants.CREATE_MARKET_FAILURE };\r\n  }\r\n};\r\n\r\nexport const editMarket = (\r\n  marketId,\r\n  { topic, category, endDate = \"\", description }\r\n) => {\r\n  return (dispatch) => {\r\n    dispatch(request({ marketId }));\r\n    marketService\r\n      .editMarket(marketId, topic, category, endDate, description)\r\n      .then(\r\n        (res) => {\r\n          dispatch(success(res));\r\n          history.push(`/markets/details/${marketId}`)\r\n        },\r\n        (error) => {\r\n          dispatch(failure());\r\n          dispatch(alertActions.error(error.toString()));\r\n        }\r\n      );\r\n  };\r\n\r\n  function request(market) {\r\n    return { type: marketsConstants.CREATE_MARKET_REQUEST, payload: market };\r\n  }\r\n  function success(market) {\r\n    return { type: marketsConstants.CREATE_MARKET_SUCCESS, payload: market };\r\n  }\r\n  function failure() {\r\n    return { type: marketsConstants.CREATE_MARKET_FAILURE };\r\n  }\r\n};\r\n\r\nexport const fetchMarkets = (\r\n  typeOfMarkets,\r\n  marketTitle,\r\n  marketCategories,\r\n  sortedBy,\r\n  page,\r\n  pageSize\r\n) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    marketService\r\n      .fetchMarkets(\r\n        typeOfMarkets,\r\n        marketTitle,\r\n        marketCategories,\r\n        sortedBy,\r\n        page,\r\n        pageSize\r\n      )\r\n      .then(\r\n        (markets) => {\r\n          dispatch(success(markets.content));\r\n          dispatch(updatePagination(_.omit(markets, [\"content\"])));\r\n        },\r\n        (error) => {\r\n          dispatch(failure());\r\n          dispatch(alertActions.error(error.toString()));\r\n        }\r\n      );\r\n  };\r\n\r\n  function request() {\r\n    return { type: marketsConstants.FETCH_MARKETS_REQUEST };\r\n  }\r\n  function success(markets) {\r\n    return { type: marketsConstants.FETCH_MARKETS_SUCCESS, payload: markets };\r\n  }\r\n  function failure() {\r\n    return { type: marketsConstants.FETCH_MARKETS_FAILURE };\r\n  }\r\n};\r\n\r\nexport const fetchMarket = (marketId) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    marketService.fetchMarket(marketId).then(\r\n      (market) => {\r\n        dispatch(success(market));\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: marketsConstants.FETCH_MARKET_REQUEST };\r\n  }\r\n  function success(market) {\r\n    return { type: marketsConstants.FETCH_MARKET_SUCCESS, payload: market };\r\n  }\r\n  function failure() {\r\n    return { type: marketsConstants.FETCH_MARKET_FAILURE };\r\n  }\r\n};\r\n\r\nexport const deleteMarket = (marketId) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    marketService.deleteMarket(marketId).then(\r\n      (market) => {\r\n        history.push(\"/markets\");\r\n        dispatch(success(market));\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: marketsConstants.DELETE_MARKET_REQUEST };\r\n  }\r\n  function success(market) {\r\n    return { type: marketsConstants.DELETE_MARKET_SUCCESS, payload: market };\r\n  }\r\n  function failure() {\r\n    return { type: marketsConstants.DELETE_MARKET_FAILURE };\r\n  }\r\n};\r\n\r\nexport const setMarketCover = (marketId, marketCover) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    marketService.setMarketCover(marketId, marketCover).then(\r\n      (res) => {\r\n        dispatch(success(res));\r\n        history.push(`/markets/details/${marketId}`);\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: marketsConstants.SET_MARKET_COVER_REQUEST };\r\n  }\r\n  function success(market) {\r\n    return { type: marketsConstants.SET_MARKET_COVER_SUCCESS, payload: market };\r\n  }\r\n  function failure() {\r\n    return { type: marketsConstants.SET_MARKET_COVER_FAILURE };\r\n  }\r\n};\r\n\r\nexport const addBet = (marketId, yesPrice, noPrice, title, shares) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    marketService.addBet(marketId, yesPrice, noPrice, title, shares).then(\r\n      (res) => {\r\n        dispatch(success(res.predictionMarket));\r\n        dispatch(addBetPrice(res.betPrice));\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: marketsConstants.ADD_BET_REQUEST };\r\n  }\r\n  function success(market) {\r\n    return { type: marketsConstants.ADD_BET_SUCCESS, payload: market };\r\n  }\r\n  function failure() {\r\n    return { type: marketsConstants.ADD_BET_FAILURE };\r\n  }\r\n  function addBetPrice(betPrice) {\r\n    return { type: betsConstants.FETCH_BET_PRICE_SUCCESS, payload: betPrice };\r\n  }\r\n};\r\n\r\nexport const fetchBetPrice = (betId) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    marketService.fetchBetPrice(betId).then(\r\n      (betPrice) => {\r\n        dispatch(success(betPrice));\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: betsConstants.FETCH_BET_PRICE_REQUEST };\r\n  }\r\n  function success(betPrice) {\r\n    return { type: betsConstants.FETCH_BET_PRICE_SUCCESS, payload: betPrice };\r\n  }\r\n  function failure() {\r\n    return { type: betsConstants.FETCH_BET_PRICE_FAILURE };\r\n  }\r\n};\r\n\r\nexport const deleteBet = (betId) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    marketService.deleteBet(betId).then(\r\n      (res) => {\r\n        dispatch(success(res));\r\n        dispatch(deleteBetPrice(betId));\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: marketsConstants.DELETE_BET_REQUEST };\r\n  }\r\n  function success(market) {\r\n    return { type: marketsConstants.DELETE_BET_SUCCESS, payload: market };\r\n  }\r\n  function failure() {\r\n    return { type: marketsConstants.DELETE_BET_FAILURE };\r\n  }\r\n  function deleteBetPrice(betId) {\r\n    return { type: betsConstants.DELETE_BET, payload: betId };\r\n  }\r\n};\r\n\r\nexport const makePublic = (marketId) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    marketService.makePublic(marketId).then(\r\n      (res) => {\r\n        dispatch(success(res));\r\n        history.push(`/markets/details/${marketId}`);\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return {\r\n      type: marketsConstants.MAKE_MARKET_PUBLIC_REQUEST,\r\n    };\r\n  }\r\n  function success(market) {\r\n    return {\r\n      type: marketsConstants.MAKE_MARKET_PUBLIC_SUCCESS,\r\n      payload: market,\r\n    };\r\n  }\r\n  function failure() {\r\n    return { type: marketsConstants.MAKE_MARKET_PUBLIC_FAILURE };\r\n  }\r\n};\r\n\r\n\r\nexport const solveMarket = (marketId, betId, correctBetOption = true) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    marketService.solveMarket(marketId, betId, correctBetOption).then(\r\n      (res) => {\r\n        dispatch(success(res));\r\n        history.push(`/markets/details/${marketId}`);\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return {\r\n      type: marketsConstants.SOLVE_MARKET_REQUEST,\r\n    };\r\n  }\r\n  function success(market) {\r\n    return {\r\n      type: marketsConstants.SOLVE_MARKET_SUCCESS,\r\n      payload: market,\r\n    };\r\n  }\r\n  function failure() {\r\n    return { type: marketsConstants.SOLVE_MARKET_FAILURE };\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\n\r\nexport const MarketCategories = [\r\n  { val: \"SPORT\", text: \"Sport\", key: 1 },\r\n  { val: \"ECONOMY\", text: \"Gospodarka\", key: 2 },\r\n  { val: \"CELEBRITIES\", text: \"Celebryci\", key: 3 },\r\n  { val: \"POLICY\", text: \"Polityka\", key: 4 },\r\n  { val: \"OTHER\", text: \"Inne\", key: 5 },\r\n];\r\n\r\nexport const renderCategoryFilter = (handleCategory) => {\r\n  const filterCategories = [\r\n    { label: \"Sport\", value: \"SPORT\", key: 1 },\r\n    { label: \"Celebryci\", value: \"CELEBRITIES\", key: 2 },\r\n    { label: \"Polityka\", value: \"POLICY\", key: 3 },\r\n    { label: \"Gospodarka\", value: \"ECONOMY\", key: 4 },\r\n    { label: \"Inne\", value: \"OTHER\", key: 5 },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <h4>Kategorie</h4>\r\n      <Form.Group>\r\n        {filterCategories.map((category) => (\r\n          <Form.Check\r\n            onClick={handleCategory}\r\n            key={category.value}\r\n            label={category.label}\r\n            value={category.value}\r\n            name=\"checkbox\"\r\n            type=\"checkbox\"\r\n          />\r\n        ))}\r\n      </Form.Group>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Container, Form, Button } from \"react-bootstrap\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport { createMarket } from \"../../actions/marketActions\";\r\nimport {\r\n  renderInput,\r\n  renderSelectField\r\n} from \"../../helpers/FormInputs\";\r\nimport { renderInfoWithClose } from \"../../helpers/InfoComponents\";\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\nimport BackHeader from \"../BackHeader\";\r\nimport { MarketCategories } from \"../../helpers/MarketCategories\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\n\r\nclass CreateMarketPage extends React.Component {\r\n  state = {\r\n    resetButtonDisable: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.initialize({ category: \"SPORT\" });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.createMarket(formValues);\r\n  };\r\n\r\n  resetForm = () => {\r\n    this.setState({ resetButtonDisable: true });\r\n    this.props.reset();\r\n  };\r\n\r\n  checkIsEmptyField = (e) => {\r\n    e.target.value\r\n      ? this.setState({ resetButtonDisable: false })\r\n      : this.setState({ resetButtonDisable: true });\r\n  };\r\n\r\n  renderForm = () => {\r\n    return (\r\n      <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n        <Field\r\n          onChange={this.checkIsEmptyField}\r\n          type=\"text\"\r\n          label=\"Tytuł rynku\"\r\n          name=\"topic\"\r\n          component={renderInput}\r\n          placeholder=\"Wprowadź tytuł rynku prognostycznego\"\r\n        ></Field>\r\n        <Field\r\n          onChange={this.checkIsEmptyField}\r\n          helpText=\"Jeżeli nie wiesz kiedy może zakończyć się dany rynek nie wypełniaj tego pola\"\r\n          type=\"date\"\r\n          label=\"Przewidywana data zakończenia rynku\"\r\n          name=\"endDate\"\r\n          component={renderInput}\r\n        ></Field>\r\n        <Field\r\n          onChange={this.checkIsEmptyField}\r\n          name=\"category\"\r\n          label=\"Wybierz kategorię rynku\"\r\n          options={MarketCategories}\r\n          component={renderSelectField}\r\n        />\r\n        <Field\r\n          onChange={this.checkIsEmptyField}\r\n          as=\"textarea\"\r\n          rows=\"5\"\r\n          id=\"description\"\r\n          name=\"description\"\r\n          label=\"Krótko opisz rynek i jego zasady\"\r\n          component={renderInput}\r\n        />\r\n        <Button\r\n          id=\"createMarketButton\"\r\n          className=\"form-button\"\r\n          variant=\"primary\"\r\n          type=\"submit\"\r\n        >\r\n          {renderButtonContent(this.props.loading, \"Stwórz rynek\")}\r\n        </Button>\r\n        <Button\r\n          className=\"form-button\"\r\n          variant=\"primary\"\r\n          type=\"reset\"\r\n          onClick={this.resetForm}\r\n          disabled={this.state.resetButtonDisable}\r\n        >\r\n          Cofnij zmiany\r\n        </Button>\r\n      </Form>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        <BackHeader title=\"Tworzenie rynku prognostycznego\" />\r\n        <hr className=\"my-4\"></hr>\r\n        {this.renderForm()}\r\n        {renderInfoWithClose(this.props.alert, this.props.clear)}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  const requiredFields = [\"topic\", \"description\"];\r\n  requiredFields.forEach((field) => {\r\n    if (!formValues[field]) {\r\n      errors[field] = \"To pole jest wymagane\";\r\n    }\r\n  });\r\n\r\n  if (formValues.endDate) {\r\n    let predictedDate = new Date(formValues.endDate);\r\n    let dateNow = new Date();\r\n\r\n    if (predictedDate < dateNow) {\r\n      errors[\"endDate\"] = \"Musisz podać datę późniejszą od dzisiejszej\";\r\n    }\r\n  }\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    alert: state.alert,\r\n    loading: state.loading.CREATE_MARKET,\r\n  };\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"createMarketForm\",\r\n  validate,\r\n})(CreateMarketPage);\r\n\r\nexport default connect(mapStateToProps, {\r\n  createMarket,\r\n  clear: alertActions.clear,\r\n})(formWrapped);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Container,\r\n  Form,\r\n  Button,\r\n  Image\r\n} from \"react-bootstrap\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { setMarketCover } from \"../../actions/marketActions\";\r\nimport BackHeader from \"../BackHeader\";\r\nimport { renderFileInput } from \"../../helpers/FormInputs\";\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\n\r\nclass MarketCoverPage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.fileInput = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    resetButtonDisable: true,\r\n    imageFile: null,\r\n  };\r\n\r\n  handleChange = (event, input) => {\r\n    event.preventDefault();\r\n    let imageFile = event.target.files[0];\r\n    if (imageFile) {\r\n      const localImageUrl = URL.createObjectURL(imageFile);\r\n      const imageObject = new window.Image();\r\n\r\n      imageObject.onload = () => {\r\n        imageFile.width = imageObject.naturalWidth;\r\n        imageFile.height = imageObject.naturalHeight;\r\n        input.onChange(imageFile);\r\n\r\n        URL.revokeObjectURL(imageFile);\r\n      };\r\n      this.setState({ imageFile: localImageUrl, resetButtonDisable: false });\r\n      imageObject.src = localImageUrl;\r\n    }\r\n  };\r\n\r\n  onSubmit = (marketCover) => {\r\n    this.props.setMarketCover(this.props.match.params.id, marketCover);\r\n  };\r\n\r\n  resetForm = () => {\r\n    Array.from(document.querySelectorAll(\"input\")).forEach(\r\n      (input) => (input.value = \"\")\r\n    );\r\n    this.props.reset();\r\n    this.setState({ imageFile: null, resetButtonDisable: true });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        <BackHeader title=\"Edytuj zdjęcie\" />\r\n        <hr className=\"my-4\"></hr>\r\n        <Form\r\n          onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n          encType=\"multipart/form-data\"\r\n        >\r\n          <Field\r\n            ref={(ref) => (this.fileInput = ref)}\r\n            accept=\"image/*\"\r\n            type=\"file\"\r\n            name=\"marketCover\"\r\n            component={renderFileInput}\r\n            methodToHandle={this.handleChange}\r\n          />\r\n          <div className=\"img-box\">\r\n            {this.state.imageFile && (\r\n              <Image className=\"img\" src={this.state.imageFile} rounded />\r\n            )}\r\n          </div>\r\n          <Button className=\"form-button\" variant=\"primary\" type=\"submit\">\r\n            {renderButtonContent(this.props.loading,\"Zatwierdź\")}\r\n          </Button>\r\n          <Button\r\n            className=\"form-button\"\r\n            variant=\"primary\"\r\n            type=\"reset\"\r\n            onClick={this.resetForm}\r\n            disabled={this.state.resetButtonDisable}\r\n          >\r\n            Cofnij zmiany\r\n          </Button>\r\n        </Form>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n\r\n  if (formValues.marketCover) {\r\n    if (!formValues.marketCover.type.includes(\"image\")) {\r\n      errors[\"marketCover\"] = \"Wybierz plik który jest obrazem\";\r\n    }\r\n  }\r\n\r\n  if (!formValues.marketCover) {\r\n    errors[\"marketCover\"] = \"Wybierz zdjęcie\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    alert: state.alert,\r\n    loading: state.loading.SET_MARKET_COVER,\r\n  };\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"editCoverForm\",\r\n  validate,\r\n})(MarketCoverPage);\r\n\r\nexport default connect(mapStateToProps, { setMarketCover })(formWrapped);\r\n","export const playerConstants = {\r\n    FETCH_PLAYER_REQUEST:'FETCH_PLAYER_REQUEST',\r\n    FETCH_PLAYER_SUCCESS:'FETCH_PLAYER_SUCCESS',\r\n    FETCH_PLAYER_FAILURE:'FETCH_PLAYER_FAILURE'\r\n}","import authHeader from \"../helpers/authHeader\";\r\nimport { baseURL } from \"../api/baseURL\";\r\nimport { handleResponse } from \"../helpers/HandleResponse\";\r\n\r\nconst fetchPlayer = (username) => {\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(`${baseURL}/player/${username}`, reqOptions).then((res) =>\r\n    handleResponse(res)\r\n  );\r\n};\r\n\r\nconst fetchRanking = () => {\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(`${baseURL}/player/ranking`, reqOptions).then((res) =>\r\n    handleResponse(res)\r\n  );\r\n};\r\n\r\n// const handleResponse = (res) => {\r\n\r\n//     return res\r\n//     .text()\r\n//     .then(text => {\r\n\r\n//         const data = text && JSON.parse(text);\r\n//         if(!res.ok) {\r\n//             let error = (data && data.message) || res.statusText;\r\n//             return Promise.reject(error);\r\n//         }\r\n\r\n//         return data;\r\n//     });\r\n// }\r\n\r\nexport const playerService = {\r\n  fetchPlayer,\r\n  fetchRanking,\r\n};\r\n","import { playerConstants } from \"../constants/playerConstants\";\r\nimport { playerService } from \"../services/playerService\";\r\nimport { alertActions } from \"./alertActions\";\r\n\r\nexport const fetchPlayer = (username) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    playerService.fetchPlayer(username).then(\r\n      (user) => {\r\n        dispatch(success(user));\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: playerConstants.FETCH_PLAYER_REQUEST };\r\n  }\r\n  function success(payload) {\r\n    return { type: playerConstants.FETCH_PLAYER_SUCCESS, payload };\r\n  }\r\n  function failure() {\r\n    return { type: playerConstants.FETCH_PLAYER_FAILURE };\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Nav, Navbar, NavDropdown } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMoneyBillWave } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { logout } from \"../actions/loginActions\";\r\nimport { fetchPlayer } from \"../actions/playerActions\";\r\nimport _ from \"lodash\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nclass NavigationBar extends React.Component {\r\n  componentDidMount() {\r\n    if (\r\n      this.props.login.loggedIn &&\r\n      this.props.login.user.roles.includes(\"ROLE_PLAYER\")\r\n    ) {\r\n      this.props.fetchPlayer(this.props.login.user.username);\r\n    }\r\n  }\r\n\r\n  logout(e) {\r\n    e.preventDefault();\r\n    this.props.logout();\r\n  }\r\n\r\n  renderRankingLink() {\r\n    return (\r\n      <LinkContainer to=\"/ranking\">\r\n        <Nav.Link>Ranking</Nav.Link>\r\n      </LinkContainer>\r\n    );\r\n  }\r\n\r\n  renderUserPanel() {\r\n    switch (this.props.login.user.roles[0]) {\r\n      case \"ROLE_MODERATOR\":\r\n        return (\r\n          <Nav className=\"mr-auto\">\r\n            <NavDropdown title=\"Rynki\">\r\n              <LinkContainer to=\"/createMarket\">\r\n                <NavDropdown.Item>Dodaj nowy rynek</NavDropdown.Item>\r\n              </LinkContainer>\r\n              <LinkContainer to=\"/markets/\">\r\n                <NavDropdown.Item>Rynki publiczne</NavDropdown.Item>\r\n              </LinkContainer>\r\n              {/* <LinkContainer to=\"/markets/private\">\r\n                <NavDropdown.Item>Rynki nieopublikowane</NavDropdown.Item>\r\n              </LinkContainer> */}\r\n            </NavDropdown>\r\n            {this.renderRankingLink()}\r\n          </Nav>\r\n        );\r\n      case \"ROLE_PLAYER\":\r\n        return (\r\n          <Nav className=\"mr-auto\">\r\n            <LinkContainer to=\"/markets\">\r\n              <Nav.Link>Rynki</Nav.Link>\r\n            </LinkContainer>\r\n            <LinkContainer to=\"/offers\">\r\n              <Nav.Link>Twoje oferty</Nav.Link>\r\n            </LinkContainer>\r\n            <LinkContainer to=\"/contracts\">\r\n              <Nav.Link>Kontrakty</Nav.Link>\r\n            </LinkContainer>\r\n            <LinkContainer to=\"/transactions\">\r\n              <Nav.Link>Transakcje</Nav.Link>\r\n            </LinkContainer>\r\n            {this.renderRankingLink()}\r\n          </Nav>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  renderUnloggedUserPanel() {\r\n    return (\r\n      <Nav className=\"mr-auto\">\r\n        <LinkContainer to=\"/register\">\r\n          <Nav.Link>Rejestracja</Nav.Link>\r\n        </LinkContainer>\r\n        <LinkContainer to=\"/login\">\r\n          <Nav.Link id=\"linkToLogin\">Logowanie</Nav.Link>\r\n        </LinkContainer>\r\n        <LinkContainer to=\"/markets\">\r\n          <Nav.Link>Rynki</Nav.Link>\r\n        </LinkContainer>\r\n        {this.renderRankingLink()}\r\n      </Nav>\r\n    );\r\n  }\r\n\r\n  renderData = () => {\r\n    if (this.props.login.loggedIn) {\r\n      return (\r\n        <Nav>\r\n          <LinkContainer to=\"/profile\">\r\n            <Nav.Link>{this.props.login.user.username}</Nav.Link>\r\n          </LinkContainer>\r\n          <Nav.Link onClick={this.logout.bind(this)}>Wyloguj się</Nav.Link>\r\n          {!_.isEmpty(this.props.player) && (\r\n            <Navbar.Text>\r\n              <FontAwesomeIcon icon={faMoneyBillWave} /> Budżet:{\" \"}\r\n              {Math.round((this.props.player.budget + Number.EPSILON) * 100) /\r\n                100}{\" \"}\r\n              $\r\n            </Navbar.Text>\r\n          )}\r\n        </Nav>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Navbar\r\n        bg=\"primary\"\r\n        variant=\"dark\"\r\n        expand=\"lg\"\r\n        sticky=\"top\"\r\n        collapseOnSelect\r\n      >\r\n        <LinkContainer to=\"/\">\r\n          <Navbar.Brand>PredictBom</Navbar.Brand>\r\n        </LinkContainer>\r\n        <Navbar.Toggle\r\n          id=\"navbar-toggle\"\r\n          aria-controls=\"responsive-navbar-nav\"\r\n        />\r\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n          {this.props.login.loggedIn\r\n            ? this.renderUserPanel()\r\n            : this.renderUnloggedUserPanel()}\r\n          {this.renderData()}\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    login: state.login,\r\n    player: state.player,\r\n    loading: state.loading.FETCH_PLAYER,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { logout, fetchPlayer })(NavigationBar);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Button, Row, Col } from \"react-bootstrap\";\r\nimport { fetchPlayer } from \"../../actions/playerActions\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { logout } from \"../../actions/loginActions\";\r\nimport \"./ProfilePage.scss\";\r\n\r\nclass ProfilePage extends React.Component {\r\n  componentDidMount() {\r\n    if (this.props.user && this.props.user.roles.includes(\"ROLE_PLAYER\")) {\r\n      this.props.fetchPlayer(this.props.user.username);\r\n    }\r\n  }\r\n\r\n  renderContentByRole = (role) => {\r\n    switch (role) {\r\n      case \"ROLE_PLAYER\":\r\n        return (\r\n          <div>\r\n            <LinkContainer to=\"/markets\">\r\n              <Button className=\"profile-button\" variant=\"outline-dark\">\r\n                Przeglądaj rynki\r\n              </Button>\r\n            </LinkContainer>\r\n            <LinkContainer to=\"/contracts\">\r\n              <Button className=\"profile-button\" variant=\"outline-dark\">\r\n                Przeglądaj kontrakty\r\n              </Button>\r\n            </LinkContainer>\r\n            <LinkContainer to=\"/offers\">\r\n              <Button className=\"profile-button\" variant=\"outline-dark\">\r\n                Przeglądaj twoje oferty\r\n              </Button>\r\n            </LinkContainer>\r\n            <LinkContainer to=\"/transactions\">\r\n              <Button className=\"profile-button\" variant=\"outline-dark\">\r\n                Przeglądaj transakcje\r\n              </Button>\r\n            </LinkContainer>\r\n          </div>\r\n        );\r\n      case \"ROLE_MODERATOR\":\r\n        return (\r\n          <div>\r\n            <LinkContainer to=\"/markets\">\r\n              <Button className=\"profile-button\" variant=\"outline-dark\">\r\n                Przeglądaj rynki prognostyczne\r\n              </Button>\r\n            </LinkContainer>\r\n            <LinkContainer to=\"/createMarket\">\r\n              <Button\r\n                id=\"addNewMarket\"\r\n                className=\"profile-button\"\r\n                variant=\"outline-dark\"\r\n              >\r\n                Dodaj nowy rynek\r\n              </Button>\r\n            </LinkContainer>\r\n          </div>\r\n        );\r\n      case \"ROLE_ADMIN\":\r\n        return (\r\n          <div>\r\n            <Button className=\"profile-button\" variant=\"outline-dark\">\r\n              Dodaj moderatora\r\n            </Button>\r\n          </div>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  renderContent() {\r\n    if(this.props.user) {\r\n      return (\r\n        <Container className=\"bg-light border rounded shadow-container profile-container\">\r\n          <h3>Witaj {this.props.user.username} !</h3>\r\n          <hr className=\"my-4\"></hr>\r\n          <Row>\r\n            <Col sm={6} className=\"text-center\">\r\n              <FontAwesomeIcon size=\"6x\" icon={faUser} />\r\n            </Col>\r\n            <Col>\r\n              <h5>\r\n                <b>Imię:</b> {this.props.user.firstName}\r\n              </h5>\r\n              <h5>\r\n                <b>Nazwisko:</b> {this.props.user.surname}\r\n              </h5>\r\n              <h5>\r\n                <b>Email:</b> {this.props.user.email}\r\n              </h5>\r\n              {this.props.player.budget && (\r\n                <h5>\r\n                  <b>Budżet: </b>\r\n                  {Math.round((this.props.player.budget + Number.EPSILON) * 100) /\r\n                    100}{\" \"}\r\n                  $\r\n                </h5>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n          <hr className=\"my-4\"></hr>\r\n          <div className=\"text-center\">\r\n            {this.renderContentByRole(this.props.user.roles[0])}\r\n            <LinkContainer to=\"/ranking\">\r\n              <Button className=\"profile-button\" variant=\"outline-dark\">\r\n                Wyświetl ranking\r\n              </Button>\r\n            </LinkContainer>\r\n            <LinkContainer to=\"/editPassword\">\r\n              <Button\r\n                id=\"openEditPasswordButton\"\r\n                className=\"profile-button\"\r\n                variant=\"outline-dark\"\r\n              >\r\n                Zmień hasło\r\n              </Button>\r\n            </LinkContainer>\r\n            <Button\r\n              onClick={() => this.props.logout()}\r\n              className=\"profile-button\"\r\n              variant=\"outline-dark\"\r\n            >\r\n              Wyloguj się\r\n            </Button>\r\n          </div>\r\n        </Container>\r\n      );\r\n    }\r\n    }\r\n\r\n  render() {\r\n    return(\r\n      <div>\r\n        {this.renderContent()}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.login.user,\r\n    player: state.player,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchPlayer, logout })(ProfilePage);\r\n","import React from \"react\";\r\nimport { Container, Form, Button } from \"react-bootstrap\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport { register } from \"../../actions/registerActions\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\nimport { renderInput } from \"../../helpers/FormInputs\";\r\nimport {renderInfo} from '../../helpers/InfoComponents';\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\nimport BackHeader from \"../BackHeader\";\r\n\r\nclass RegisterPage extends React.Component {\r\n  componentWillUnmount() {\r\n    if(this.props.alert && !this.props.alert.type === \"ALERT_SUCCESS_INFO\") this.props.clear();\r\n  }\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.register(formValues);\r\n  };\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container form-container\">\r\n        <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n          <BackHeader title=\"Rejestracja\" />\r\n          <hr className=\"my-4\"></hr>\r\n          <Field\r\n            type=\"text\"\r\n            label=\"Nazwa użytkownika\"\r\n            name=\"username\"\r\n            component={renderInput}\r\n            placeholder=\"Wprowadź nazwę użytkownika\"\r\n          ></Field>\r\n          <Form.Text className=\"text-muted\">\r\n            Zapewniamy że twoje dane będą bezpieczne\r\n          </Form.Text>\r\n          <Field\r\n            type=\"text\"\r\n            label=\"Imię\"\r\n            name=\"firstName\"\r\n            component={renderInput}\r\n            placeholder=\"Podaj swoje imię\"\r\n          ></Field>\r\n          <Field\r\n            type=\"text\"\r\n            label=\"Nazwisko\"\r\n            name=\"surname\"\r\n            component={renderInput}\r\n            placeholder=\"Podaj swoje nazwisko\"\r\n          ></Field>\r\n          <Field\r\n            type=\"text\"\r\n            label=\"Adres e-mail\"\r\n            name=\"email\"\r\n            component={renderInput}\r\n            placeholder=\"Wprowadź swój adres e-mail\"\r\n          ></Field>\r\n          <Field\r\n            type=\"password\"\r\n            label=\"Hasło\"\r\n            name=\"password\"\r\n            component={renderInput}\r\n            placeholder=\"Wprowadź hasło\"\r\n          ></Field>\r\n          <Field\r\n            type=\"password\"\r\n            label=\"Powtórz hasło\"\r\n            name=\"repeatPassword\"\r\n            component={renderInput}\r\n            placeholder=\"Powtórz swoje hasło\"\r\n          ></Field>\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            {renderButtonContent(this.props.loading, \"Załóż konto\")}\r\n          </Button>\r\n        </Form>\r\n        {renderInfo(this.props.alert)}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  const requiredFields = [\r\n    \"username\",\r\n    \"firstName\",\r\n    \"surname\",\r\n    \"email\",\r\n    \"password\",\r\n    \"repeatPassword\",\r\n  ];\r\n  requiredFields.forEach((field) => {\r\n    if (!formValues[field]) {\r\n      errors[field] = \"To pole jest wymagane\";\r\n    }\r\n  });\r\n  if (\r\n    formValues.email &&\r\n    !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(formValues.email)\r\n  ) {\r\n    errors.email = \"Niepoprawny adres e-mail\";\r\n  }\r\n\r\n  if (formValues.password !== formValues.repeatPassword) {\r\n    errors.repeatPassword = \"Podane hasła są różne\";\r\n  }\r\n\r\n  if(formValues.password && (formValues.password.length < 6 || formValues.password > 40)) {\r\n    errors.password = \"Hasło musi zawierać od 6 do 40 znaków\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    alert: state.alert,\r\n    loading: state.loading.REGISTER,\r\n  };\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"registerForm\",\r\n  validate,\r\n})(RegisterPage);\r\n\r\nexport default connect(mapStateToProps, {\r\n  register,\r\n  clear: alertActions.clear,\r\n})(formWrapped);\r\n","import { registerConstants } from \"../constants/userConstants\";\r\nimport { userService } from \"../services/userService\";\r\nimport history from \"../history\";\r\nimport { alertActions } from \"./alertActions\";\r\n\r\nexport const register = ({ username, firstName, surname, email, password }) => {\r\n  return (dispatch) => {\r\n    dispatch(request({ username }));\r\n\r\n    userService.register(username, firstName, surname, email, password).then(\r\n      (text) => {\r\n        dispatch(success());\r\n        dispatch(alertActions.success(text));\r\n        history.push(\"/login\");\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: registerConstants.REGISTER_REQUEST };\r\n  }\r\n  function success() {\r\n    return { type: registerConstants.REGISTER_SUCCESS };\r\n  }\r\n  function failure() {\r\n    return { type: registerConstants.REGISTER_FAILURE };\r\n  }\r\n};\r\n","export const contractConstants = {\r\n    BUY_CONTRACT_REQUEST: 'BUY_CONTRACT_REQUEST',\r\n    BUY_CONTRACT_SUCCESS: 'BUY_CONTRACT_SUCCESS',\r\n    BUY_CONTRACT_FAILURE: 'BUY_CONTRACT_FAILURE',\r\n    FETCH_CONTRACTS_REQUEST: 'FETCH_CONTRACTS_REQUEST',\r\n    FETCH_CONTRACTS_SUCCESS: 'FETCH_CONTRACTS_SUCCESS',\r\n    FETCH_CONTRACTS_FAILURE: 'FETCH_CONTRACTS_FAILURE',\r\n    FETCH_CONTRACT_REQUEST: 'FETCH_CONTRACT_REQUEST',\r\n    FETCH_CONTRACT_SUCCESS: 'FETCH_CONTRACT_SUCCESS',\r\n    FETCH_CONTRACT_FAILURE: 'FETCH_CONTRACT_FAILURE',\r\n    FETCH_CONTRACT_DETAILS_REQUEST: 'FETCH_CONTRACT_DETAILS_REQUEST',\r\n    FETCH_CONTRACT_DETAILS_SUCCESS:'FETCH_CONTRACT_DETAILS_SUCCESS',\r\n    FETCH_CONTRACT_DETAILS_FAILURE:'FETCH_CONTRACT_DETAILS_FAILURE',\r\n    ADD_OFFER_REQUEST:'ADD_OFFER_REQUEST',\r\n    ADD_OFFER_SUCCESS:'ADD_OFFER_SUCCESS',\r\n    ADD_OFFER_FAILURE:'ADD_OFFER_FAILURE',\r\n    DELETE_OFFER_REQUEST:'DELETE_OFFER_REQUEST',\r\n    DELETE_OFFER_SUCCESS:'DELETE_OFFER_SUCCESS',\r\n    DELETE_OFFER_FAILURE:'DELETE_OFFER_FAILURE'\r\n};","import authHeader from \"../helpers/authHeader\";\r\nimport { baseURL } from \"../api/baseURL\";\r\nimport { handleResponse, handleBuying } from \"../helpers/HandleResponse\";\r\n\r\nconst buyContract = (betId, marketId, contractOption, maxPrice, shares) => {\r\n  const reqOptions = {\r\n    method: \"POST\",\r\n    headers: authHeader(),\r\n    body: JSON.stringify({ betId, marketId, contractOption, maxPrice, shares }),\r\n  };\r\n\r\n  return fetch(`${baseURL}/markets/buyContract`, reqOptions).then((res) =>\r\n    handleBuying(res)\r\n  );\r\n};\r\n\r\nconst fetchFilteredContracts = (\r\n  contractStatus,\r\n  contractOption,\r\n  betTitle,\r\n  marketTitle,\r\n  marketCategories = [],\r\n  sortedBy,\r\n  page,\r\n  pageSize\r\n) => {\r\n  let marketCategoryParams = \"\";\r\n  if (marketCategories.length > 0) {\r\n    marketCategories.forEach((market) => {\r\n      marketCategoryParams += `marketCategory=${market}&`;\r\n    });\r\n  }\r\n\r\n  marketCategoryParams.length > 0\r\n    ? marketCategoryParams.substr(0, marketCategoryParams.length - 1)\r\n    : (marketCategoryParams = \"marketCategory=\");\r\n\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/contracts/filtered?contractStatus=${contractStatus}&contractOption=${contractOption}&betTitle=${betTitle}&marketTitle=${marketTitle}&${marketCategoryParams}&page=${page}&size=${pageSize}&sortAttribute=${sortedBy[0]}&sortDirection=${sortedBy[1]}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nconst fetchContracts = (page, pageSize) => {\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/contracts?page=${page}&size=${pageSize}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nconst fetchContractDetails = (betId) => {\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: authHeader(),\r\n  };\r\n  return fetch(`${baseURL}/contracts/${betId}`, reqOptions).then((res) =>\r\n    handleResponse(res)\r\n  );\r\n};\r\n\r\n\r\nconst addOffer = (contractId, shares, price) => {\r\n  const reqOptions = {\r\n    method: \"POST\",\r\n    headers: authHeader(),\r\n    body: JSON.stringify({ contractId, shares, price }),\r\n  };\r\n\r\n  return fetch(`${baseURL}/contracts/addOffer`, reqOptions).then((res) =>\r\n    handleResponse(res)\r\n  );\r\n};\r\n\r\nconst deleteOffer = (offerId) => {\r\n  const reqOptions = {\r\n    method: \"DELETE\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/contracts/deleteOffer?offerId=${offerId}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nexport const contractService = {\r\n  buyContract,\r\n  fetchFilteredContracts,\r\n  fetchContracts,\r\n  fetchContractDetails,\r\n  addOffer,\r\n  deleteOffer,\r\n};\r\n","import { contractConstants } from \"../constants/contractConstants\";\r\nimport { contractService } from \"../services/contractService\";\r\nimport history from \"../history\";\r\nimport { alertActions } from \"./alertActions\";\r\nimport _ from \"lodash\";\r\nimport { playerConstants } from \"../constants/playerConstants\";\r\nimport { updateContractPagination } from \"./paginationActions\";\r\n\r\nexport const buyContract = (\r\n  betId,\r\n  marketId,\r\n  contractOption,\r\n  { maxPrice, shares }\r\n) => {\r\n  return (dispatch) => {\r\n    dispatch(request({ betId }));\r\n    contractService\r\n      .buyContract(betId, marketId, contractOption, maxPrice, shares)\r\n      .then(\r\n        (res) => {\r\n          dispatch(success(res.boughtContract));\r\n          dispatch(fetchUser(res.purchaser));\r\n          history.push(\"/contracts\");\r\n        },\r\n        (error) => {\r\n          dispatch(failure());\r\n          dispatch(alertActions.buyingError(error.toString()));\r\n        }\r\n      );\r\n  };\r\n\r\n  function request(market) {\r\n    return { type: contractConstants.BUY_CONTRACT_REQUEST, payload: market };\r\n  }\r\n  function fetchUser(payload) {\r\n    return { type: playerConstants.FETCH_PLAYER_SUCCESS, payload };\r\n  }\r\n  function success(market) {\r\n    return { type: contractConstants.BUY_CONTRACT_SUCCESS, payload: market };\r\n  }\r\n  function failure() {\r\n    return { type: contractConstants.BUY_CONTRACT_FAILURE };\r\n  }\r\n};\r\n\r\nexport const fetchFilteredContracts = (\r\n  contractStatus,\r\n  contractOption,\r\n  betTitle,\r\n  marketTitle,\r\n  marketCategories,\r\n  sortedBy,\r\n  page,\r\n  pageSize\r\n) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    contractService\r\n      .fetchFilteredContracts(\r\n        contractStatus,\r\n        contractOption,\r\n        betTitle,\r\n        marketTitle,\r\n        marketCategories,\r\n        sortedBy,\r\n        page,\r\n        pageSize\r\n      )\r\n      .then(\r\n        (res) => {\r\n          dispatch(success(res.content));\r\n          dispatch(updateContractPagination(_.omit(res, [\"content\"])));\r\n        },\r\n        (error) => {\r\n          dispatch(failure());\r\n          dispatch(alertActions.error(error.toString()));\r\n        }\r\n      );\r\n  };\r\n\r\n  function request() {\r\n    return { type: contractConstants.FETCH_CONTRACTS_REQUEST };\r\n  }\r\n  function success(payload) {\r\n    return { type: contractConstants.FETCH_CONTRACTS_SUCCESS, payload };\r\n  }\r\n  function failure() {\r\n    return { type: contractConstants.FETCH_CONTRACTS_FAILURE };\r\n  }\r\n};\r\n\r\nexport const fetchContracts = (page, pageSize) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    contractService.fetchContracts(page, pageSize).then(\r\n      (res) => {\r\n        dispatch(success(res.content));\r\n        dispatch(updateContractPagination(_.omit(res, [\"content\"])));\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: contractConstants.FETCH_CONTRACTS_REQUEST };\r\n  }\r\n  function success(payload) {\r\n    return { type: contractConstants.FETCH_CONTRACTS_SUCCESS, payload };\r\n  }\r\n  function failure() {\r\n    return { type: contractConstants.FETCH_CONTRACTS_FAILURE };\r\n  }\r\n};\r\n\r\nexport const fetchContractDetails = (id) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    contractService.fetchContractDetails(id).then(\r\n      (res) => {\r\n        dispatch(success(res));\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: contractConstants.FETCH_CONTRACT_DETAILS_REQUEST };\r\n  }\r\n  function success(payload) {\r\n    return { type: contractConstants.FETCH_CONTRACT_DETAILS_SUCCESS, payload };\r\n  }\r\n  function failure() {\r\n    return { type: contractConstants.FETCH_CONTRACT_DETAILS_FAILURE };\r\n  }\r\n};\r\n\r\nexport const addOffer = (contractId, shares, price) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    contractService.addOffer(contractId, shares, price).then(\r\n      (res) => {\r\n        dispatch(success(res));\r\n        history.push(`/contracts/details/${contractId}`);\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: contractConstants.ADD_OFFER_REQUEST };\r\n  }\r\n  function success(payload) {\r\n    return { type: contractConstants.ADD_OFFER_SUCCESS, payload };\r\n  }\r\n  function failure() {\r\n    return { type: contractConstants.ADD_OFFER_FAILURE };\r\n  }\r\n};\r\n\r\nexport const deleteOffer = (offerId) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    contractService.deleteOffer(offerId).then(\r\n      (res) => {\r\n        dispatch(success(res));\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.deleteAlert(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: contractConstants.DELETE_OFFER_REQUEST };\r\n  }\r\n  function success(payload) {\r\n    return { type: contractConstants.DELETE_OFFER_SUCCESS, payload };\r\n  }\r\n  function failure() {\r\n    return { type: contractConstants.DELETE_OFFER_FAILURE };\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {Form, Button} from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { buyContract } from \"../../actions/contractActions\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\nimport {renderInput} from '../../helpers/FormInputs';\r\nimport { renderInfo } from \"../../helpers/InfoComponents\";\r\nimport './BuyContractForm.scss';\r\n\r\nclass BuyContractForm extends React.Component {\r\n  componentDidMount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.buyContract(\r\n      this.props.betId,\r\n      this.props.marketId,\r\n      this.props.contractOption,\r\n      formValues\r\n    );\r\n  };\r\n\r\n  renderForm = () => {\r\n    return (\r\n      <div>\r\n        <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n          <h4>\r\n            Wybrana opcja na  \r\n            {this.props.contractOption ? <span> tak</span> : <span> nie</span>}\r\n          </h4>\r\n          <Form.Text className=\"buy-info\">\r\n            Podaj swoje kryteria zakupu akcji a system wyszuka dla ciebie\r\n            najlepsze oferty. Iloczyn maksymalnej ceny za jedną akcję i ich\r\n            liczby nie powinien przekraczać wartości twojego budżetu! Pamiętaj\r\n            także o limicie zakupów do 1000 akcji dziennie.\r\n          </Form.Text>\r\n          <hr className=\"my-4\"></hr>\r\n          <Field\r\n            type=\"number\"\r\n            max=\"1\"\r\n            name=\"maxPrice\"\r\n            label=\"Podaj maksymalną cenę 1 akcji\"\r\n            component={renderInput}\r\n          />\r\n          <Field\r\n            type=\"number\"\r\n            min=\"1\"\r\n            max=\"1000\"\r\n            name=\"shares\"\r\n            label=\"Ile akcji chcesz kupić\"\r\n            component={renderInput}\r\n          />\r\n          <div className=\"buy-form-buttons\">\r\n            <Button className=\"form-button\" variant=\"primary\" type=\"submit\">\r\n              Kup\r\n            </Button>\r\n            <Button\r\n              className=\"form-button\"\r\n              variant=\"primary\"\r\n              onClick={this.props.hideForm}\r\n            >\r\n              Zamknij\r\n            </Button>\r\n          </div>\r\n        </Form>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderLoadingPrice() {\r\n    if (\r\n      typeof this.props.loading !== \"undefined\" &&\r\n      this.props.loading.pending\r\n    ) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <Loader type=\"TailSpin\" color=\"black\" />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderForm()}\r\n        {this.renderLoadingPrice()}\r\n        {renderInfo(this.props.alert)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    alert: state.alert,\r\n    loading: state.loading.BUY_CONTRACT,\r\n  };\r\n};\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  const requiredFields = [\"maxPrice\", \"shares\"];\r\n  requiredFields.forEach((field) => {\r\n    if (!formValues[field]) {\r\n      errors[field] = \"To pole jest wymagane\";\r\n    }\r\n  });\r\n\r\n  return errors;\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"buyContractForm\",\r\n  validate,\r\n})(BuyContractForm);\r\n\r\nexport default connect(mapStateToProps, {\r\n  buyContract,\r\n  clear: alertActions.clear,\r\n})(formWrapped);\r\n","import React from \"react\";\r\nimport { Row, Col, Button, Spinner } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { Segment } from \"semantic-ui-react\";\r\nimport { deleteBet } from \"../../actions/marketActions\";\r\nimport { fetchBetPrice } from \"../../actions/marketActions\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport BuyContractForm from \"./BuyContractForm\";\r\nimport _ from \"lodash\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport \"./Bet.scss\";\r\n\r\nclass Bet extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.hideForm = this.hideForm.bind(this);\r\n  }\r\n\r\n  state = {\r\n    submitted: false,\r\n    contractOption: null,\r\n    backgroundColor: \"blue\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.fetchBetPrice(this.props.betId);\r\n\r\n    if (this.props.correctBetId > 0)\r\n      if (this.props.correctBetId === this.props.betId) {\r\n        this.props.correctBetOption\r\n          ? this.setState({ backgroundColor: \"green\" })\r\n          : this.setState({ backgroundColor: \"red\" });\r\n      } else {\r\n        this.setState({ backgroundColor: \"red\" });\r\n      }\r\n  }\r\n\r\n  hideForm = () => {\r\n    this.setState({ contractOption: null });\r\n    this.props.clear();\r\n  };\r\n\r\n  renderButtonContent() {\r\n    if (\r\n      typeof this.props.loading !== \"undefined\" &&\r\n      this.props.loading.pending &&\r\n      this.state.submitted\r\n    ) {\r\n      return (\r\n        <div>\r\n          <Spinner\r\n            as=\"span\"\r\n            animation=\"border\"\r\n            size=\"sm\"\r\n            role=\"status\"\r\n            aria-hidden=\"true\"\r\n          />\r\n          Ładowanie...\r\n        </div>\r\n      );\r\n    } else {\r\n      return \"Usuń\";\r\n    }\r\n  }\r\n\r\n  onClickDeleteBet = () => {\r\n    this.setState({ submitted: true });\r\n    this.props.clear();\r\n    this.props.deleteBet(this.props.betId);\r\n  };\r\n\r\n  renderNotFoundMessage = () => {\r\n    if (!this.props.betPrice && this.props.alert) {\r\n    }\r\n  };\r\n\r\n  renderPrice() {\r\n    if (this.props.betPrice) {\r\n      if (this.props.correctBetId === 0) {\r\n        return (\r\n          <Row className=\"text-center\">\r\n            <Col sm={4}>\r\n              <h5>Ostatnia cena tak</h5>\r\n              <h6>{this.props.betPrice.yesPrice} $</h6>\r\n              {!_.isEmpty(this.props.player) && (\r\n                <Button\r\n                  variant={\"success\"}\r\n                  onClick={() => this.setState({ contractOption: true })}\r\n                >\r\n                  Kup\r\n                </Button>\r\n              )}\r\n            </Col>\r\n            <Col>\r\n              <LinkContainer\r\n                className=\"mb-3\"\r\n                to={`/offers/bet/${this.props.betId}/${true}`}\r\n              >\r\n                <Button>Przeglądaj oferty na tak</Button>\r\n              </LinkContainer>\r\n              <LinkContainer to={`/offers/bet/${this.props.betId}/${false}`}>\r\n                <Button>Przeglądaj oferty na nie</Button>\r\n              </LinkContainer>\r\n            </Col>\r\n            <Col sm={4}>\r\n              <h5>Ostatnia cena nie</h5>\r\n              <h6>{this.props.betPrice.noPrice} $</h6>\r\n              {!_.isEmpty(this.props.player) && (\r\n                <Button\r\n                  variant={\"danger\"}\r\n                  onClick={() => this.setState({ contractOption: false })}\r\n                >\r\n                  Kup\r\n                </Button>\r\n              )}\r\n            </Col>\r\n          </Row>\r\n        );\r\n      } else {\r\n        return (\r\n          <div>\r\n            {this.props.correctBetId === this.props.betId ? (\r\n              <div>\r\n                {this.props.correctBetOption ? (\r\n                  <h5>Zakład poprawny dla opcji na tak</h5>\r\n                ) : (\r\n                  <h5>Zakład poprawny dla opcji na nie</h5>\r\n                )}\r\n              </div>\r\n            ) : (\r\n              <div>\r\n                {!this.props.correctBetOption ? (\r\n                  <h5>Zakład poprawny dla opcji na tak</h5>\r\n                ) : (\r\n                  <h5>Zakład poprawny dla opcji na nie</h5>\r\n                )}\r\n              </div>\r\n            )}\r\n            <hr className=\"my-4\"></hr>\r\n            <Row>\r\n              <Col sm={6}>\r\n                {this.props.betPrice.yesPrice > 0 ? (\r\n                  <p>Ostatnia cena na tak: {this.props.betPrice.yesPrice}</p>\r\n                ) : (\r\n                  <p>Nie dokonano zakupu kontraktów na opcję \"tak\"</p>\r\n                )}\r\n              </Col>\r\n              <Col>\r\n                {this.props.betPrice.noPrice > 0 ? (\r\n                  <p>Ostatnia cena na nie: {this.props.betPrice.noPrice}</p>\r\n                ) : (\r\n                  <p>Nie dokonano zakupu kontraktów na opcję \"nie\"</p>\r\n                )}\r\n              </Col>\r\n            </Row>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  renderLoadingPrice() {\r\n    if (\r\n      !this.props.betPrice &&\r\n      this.props.correctBetId === 0 &&\r\n      !this.props.alert\r\n    ) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <Loader type=\"TailSpin\" color=\"black\" />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderBuyForm = () => {\r\n    if (this.state.contractOption != null && this.props.player) {\r\n      return (\r\n        <div>\r\n          <hr className=\"my-4\"></hr>\r\n          <BuyContractForm\r\n            budget={this.props.player.budget}\r\n            marketId={this.props.marketId}\r\n            betId={this.props.betId}\r\n            contractOption={this.state.contractOption}\r\n            hideForm={this.hideForm}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Segment color={this.state.backgroundColor} className=\"m-3\">\r\n          <h2 className=\"ui header\">{this.props.title}</h2>\r\n          {window.location.href.includes(\"editBets\") && !this.props.published && (\r\n            <Button className=\"close-button\" onClick={this.onClickDeleteBet}>\r\n              {this.renderButtonContent()}\r\n            </Button>\r\n          )}\r\n          {this.renderPrice()}\r\n          {this.renderLoadingPrice()}\r\n          {this.renderBuyForm()}\r\n        </Segment>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    loading: state.loading.DELETE_BET,\r\n    betPrice: state.betPrice[ownProps.betId],\r\n    loadingPrice: state.loading.FETCH_BETS_PRICE,\r\n    player: state.player,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  clear: alertActions.clear,\r\n  deleteBet,\r\n  fetchBetPrice,\r\n})(Bet);\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Bet from \"./Bet\";\r\n\r\nclass BetsList extends React.Component {\r\n  renderNotFoundInfo() {\r\n    return (\r\n      <div>\r\n        <FontAwesomeIcon icon={faTimes} size={\"6x\"} />\r\n        <h3>Nie znaleziono zakładów</h3>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    if (this.props.bets === null) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <FontAwesomeIcon icon={faTimes} size={\"6x\"} />\r\n          <h3>Nie znaleziono zakładów</h3>\r\n          <h6>Dodaj zakłady, bez nich rynek nie będzie mógł się toczyć !</h6>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        {this.props.bets.map((bet) => (\r\n          <Bet\r\n            correctBetId={this.props.correctBetId}\r\n            correctBetOption={this.props.correctBetOption}\r\n            published={this.props.published}\r\n            bestYesPrice={bet.bestYesPrice}\r\n            bestNoPrice={bet.bestNoPrice}\r\n            key={bet.id}\r\n            betId={bet.id}\r\n            marketId={this.props.marketId}\r\n            title={bet.title}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default BetsList;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Container,\r\n  Form,\r\n  Button,\r\n  Spinner,\r\n  Row,\r\n  Col,\r\n} from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimesCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { addBet, deleteBet, fetchMarket } from \"../../actions/marketActions\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport BetsList from \"./BetsList\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport BackHeader from \"../BackHeader\";\r\nimport { renderInput } from \"../../helpers/FormInputs\";\r\nimport { renderInfoWithClose } from \"../../helpers/InfoComponents\";\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\n\r\nclass EditBetsPage extends React.Component {\r\n  state = {\r\n    marketId: this.props.match.params.id,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.fetchMarket(this.props.match.params.id);\r\n    this.props.initialize({ shares: 10000 });\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.addBet(\r\n      this.props.match.params.id,\r\n      formValues.yesPrice,\r\n      formValues.noPrice,\r\n      formValues.title,\r\n      formValues.shares\r\n    );\r\n  };\r\n\r\n  renderBetsList = () => {\r\n    return (\r\n      <BetsList\r\n        bets={this.props.currentMarket.bets}\r\n        correctBetId={this.props.currentMarket.correctBetId}\r\n        published={this.props.currentMarket.published}\r\n        marketId={this.props.match.params.id}\r\n      />\r\n    );\r\n  };\r\n\r\n  renderLoading = () => {\r\n    if (\r\n      !this.props.currentMarket &&\r\n      typeof this.props.loadingMarket !== \"undefined\" &&\r\n      this.props.loadingMarket.pending\r\n    ) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <Spinner\r\n            as=\"span\"\r\n            animation=\"border\"\r\n            size=\"sm\"\r\n            role=\"status\"\r\n            aria-hidden=\"true\"\r\n          />\r\n          <h3>Pobieranie danych rynku</h3>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderNextStepButton = () => {\r\n    if (this.props.currentMarket.bets) {\r\n      return (\r\n        <LinkContainer to={`/markets/makePublic/${this.props.match.params.id}`}>\r\n          <Button id=\"confirmBetsButton\" variant=\"primary\" type=\"submit\">\r\n            Zatwierdź zakłady\r\n          </Button>\r\n        </LinkContainer>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderPageContent() {\r\n    if (\r\n      this.props.currentMarket &&\r\n      this.props.currentMarket.correctBetId === 0\r\n    ) {\r\n      return (\r\n        <div>\r\n          <BackHeader title={this.props.currentMarket.topic} />\r\n          <hr className=\"my-4\"></hr>\r\n          <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n            <Field\r\n              onChange={this.checkIsEmptyField}\r\n              type=\"text\"\r\n              label=\"Dodawanie zakładu\"\r\n              name=\"title\"\r\n              component={renderInput}\r\n              placeholder=\"Wprowadź tytuł zakładu\"\r\n            ></Field>\r\n            <Row>\r\n              <Col sm={6}>\r\n                <Field\r\n                  type=\"number\"\r\n                  label=\"Podaj cenę kontraktu na tak\"\r\n                  max=\"1\"\r\n                  name=\"yesPrice\"\r\n                  component={renderInput}\r\n                  placeholder=\"Podaj cenę kontraktu na tak\"\r\n                ></Field>\r\n              </Col>\r\n              <Col sm={6}>\r\n                <Field\r\n                  type=\"number\"\r\n                  label=\"Podaj cenę kontraktu na nie\"\r\n                  max=\"1\"\r\n                  name=\"noPrice\"\r\n                  component={renderInput}\r\n                  placeholder=\"Podaj cenę kontraktu na nie\"\r\n                ></Field>\r\n              </Col>\r\n            </Row>\r\n            <Field\r\n              component={renderInput}\r\n              name=\"shares\"\r\n              min={10000}\r\n              max={100000}\r\n              step={1}\r\n              type=\"number\"\r\n              label=\"Podaj poczatkowa liczbę akcji wystawionych na sprzedaż\"\r\n            />\r\n            <Button id=\"addBetButton\" variant=\"primary\" type=\"submit\">\r\n              {renderButtonContent(this.props.addingLoading, \"Dodaj zakład\")}\r\n            </Button>\r\n          </Form>\r\n          {renderInfoWithClose(this.props.alert, this.props.clear)}\r\n          {this.renderBetsList()}\r\n          {this.renderNextStepButton()}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderFailedToFetch() {\r\n    if (\r\n      !this.props.currentMarket &&\r\n      typeof this.props.loadingMarket !== \"undefined\" &&\r\n      !this.props.loadingMarket.pending\r\n    ) {\r\n      return (\r\n        <div>\r\n          <FontAwesomeIcon icon={faTimesCircle} size={\"6x\"} />\r\n          <h2>\r\n            Wystąpił błąd pobierania danych. Odśwież stronę i spróbuj ponownie\r\n          </h2>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        {this.renderLoading()}\r\n        {this.renderFailedToFetch()}\r\n        {this.renderPageContent()}\r\n        {/* {this.renderFailedFetch()} */}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  const requiredFields = [\"title\", \"yesPrice\", \"noPrice\", \"shares\"];\r\n  requiredFields.forEach((field) => {\r\n    if (!formValues[field]) {\r\n      errors[field] = \"To pole jest wymagane\";\r\n    }\r\n  });\r\n\r\n  const betsSumValue =\r\n    parseFloat(formValues.yesPrice) + parseFloat(formValues.noPrice);\r\n\r\n  if (parseFloat(formValues.yesPrice) <= 0)\r\n    errors[\"yesPrice\"] = \"Cena musi być wartością dodatnią większą od zera\";\r\n\r\n  if (parseFloat(formValues.noPrice) <= 0)\r\n    errors[\"noPrice\"] = \"Cena musi być wartością dodatnią większą od zera\";\r\n\r\n  if (betsSumValue > 1.1 || betsSumValue < 1) {\r\n    errors[\"yesPrice\"] =\r\n      \"Różnica między cenami na tak i nie może wynosić maksymalnie 10 $\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    alert: state.alert,\r\n    addingLoading: state.loading.ADD_BET,\r\n    loadingMarket: state.loading.FETCH_MARKET,\r\n    currentMarket: state.markets.find(\r\n      (market) => market.marketId.toString() === ownProps.match.params.id\r\n    ),\r\n  };\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"editBets\",\r\n  validate,\r\n})(EditBetsPage);\r\n\r\nexport default connect(mapStateToProps, {\r\n  addBet,\r\n  deleteBet,\r\n  fetchMarket,\r\n  clear: alertActions.clear,\r\n})(formWrapped);\r\n","export const tokenConstants = {\r\n    SEND_TOKEN_REQUEST: 'SEND_TOKEN_REQUEST',\r\n    SEND_TOKEN_SUCCESS: 'SEND_TOKEN_SUCCESS',\r\n    SEND_TOKEN_FAILURE: 'SEND_TOKEN_FAILURE',\r\n    CHECK_TOKEN_REQUEST: 'CHECK_TOKEN_REQUEST',\r\n    CHECK_TOKEN_SUCCESS: 'CHECK_TOKEN_SUCCESS',\r\n    CHECK_TOKEN_FAILURE: 'CHECK_TOKEN_FAILURE'\r\n}","import React from \"react\";\r\nimport { Container, Form, Button } from \"react-bootstrap\";\r\nimport { renderInput } from \"../../helpers/FormInputs\";\r\nimport { renderInfoWithClose } from \"../../helpers/InfoComponents\";\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport { sendToken } from \"../../actions/tokenActions\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\n\r\nclass ResetPasswordPage extends React.Component {\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.sendToken(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        <header>\r\n          <h2>Podaj swój adres e-mail</h2>\r\n        </header>\r\n        <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n          <Field\r\n            onChange={this.checkIsEmptyField}\r\n            helpText=\"Na podany adres e-mail zostanie wysłany token do resetu hasła\"\r\n            type=\"text\"\r\n            name=\"emailToReset\"\r\n            component={renderInput}\r\n            placeholder=\"Adres e-mail konta\"\r\n          ></Field>\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            {renderButtonContent(this.props.loading, \"Zatwierdź\")}\r\n          </Button>\r\n        </Form>\r\n        {renderInfoWithClose(this.props.alert, this.props.clear)}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  if (!formValues.emailToReset) {\r\n    errors[\"emailToReset\"] = \"To pole jest wymagane\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loading: state.loading.SEND_TOKEN,\r\n    alert: state.alert,\r\n  };\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"sendTokenForm\",\r\n  validate,\r\n})(ResetPasswordPage);\r\n\r\nexport default connect(mapStateToProps, {\r\n  sendToken,\r\n  clear: alertActions.clear,\r\n})(formWrapped);\r\n","import {tokenConstants} from '../constants/tokenConstants';\r\nimport {userService} from '../services/userService';\r\nimport history from '../history';\r\nimport { alertActions } from './alertActions';\r\n\r\nexport const sendToken = ({emailToReset}) => {\r\n    return dispatch => {\r\n        dispatch(request({ emailToReset }));\r\n\r\n        userService.sendToken(emailToReset)\r\n            .then(\r\n                user => { \r\n                    dispatch(success(emailToReset));\r\n                    history.push('/resetPasswordWithToken')\r\n                },\r\n                error => {\r\n                   \r\n                    dispatch(failure(error.toString()));\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: tokenConstants.SEND_TOKEN_REQUEST, payload:user } }\r\n    function success(user) { return { type: tokenConstants.SEND_TOKEN_SUCCESS, payload:user } }\r\n    function failure(error) { return { type: tokenConstants.SEND_TOKEN_FAILURE, payload:error } }\r\n}\r\n\r\n\r\nexport const checkToken = ({token}) => {\r\n    return dispatch => {\r\n        dispatch(request({ token }));\r\n\r\n        userService.checkToken(token)\r\n            .then(\r\n                res => { \r\n                    dispatch(success(token));\r\n                    dispatch(alertActions.success(res));\r\n                    // history.push('/resetPasswordWithToken')\r\n                },\r\n                error => {\r\n                   \r\n                    dispatch(failure(error.toString()));\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request(user) { return { type: tokenConstants.CHECK_TOKEN_REQUEST, payload:user } }\r\n    function success(user) { return { type: tokenConstants.CHECK_TOKEN_SUCCESS, payload:user } }\r\n    function failure(error) { return { type: tokenConstants.CHECK_TOKEN_FAILURE, payload:error } }\r\n}\r\n\r\nexport const changePasswordWithToken = ({newPassword,repeatedPassword},token) => {\r\n    return dispatch => {\r\n        dispatch(request({ token }));\r\n\r\n        userService.changePasswordWithToken(newPassword,repeatedPassword,token)\r\n            .then(\r\n                info => { \r\n                    dispatch(success());\r\n                    dispatch(alertActions.success(info))\r\n                    history.push(\"/login\");\r\n                },\r\n                error => {\r\n                    dispatch(failure());\r\n                    dispatch(alertActions.error(error.toString()));\r\n                }\r\n            );\r\n    };\r\n\r\n    function request() { return { type: tokenConstants.CHANGE_PASSWORD_WITH_TOKEN_REQUEST } }\r\n    function success() { return { type: tokenConstants.CHANGE_PASSWORD_WITH_TOKEN_SUCCESS } }\r\n    function failure() { return { type: tokenConstants.CHANGE_PASSWORD_WITH_TOKEN_FAILURE } }\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Form, Button } from \"react-bootstrap\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { changePasswordWithToken } from \"../../actions/tokenActions\";\r\nimport { renderInput } from \"../../helpers/FormInputs\";\r\nimport { renderInfoWithClose } from \"../../helpers/InfoComponents\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\n\r\nclass ChangePasswordWithTokenPage extends React.Component {\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.changePasswordWithToken(formValues, this.props.token);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        <header>\r\n          <h2>Wprowadź nowe hasło dla swojego konta</h2>\r\n        </header>\r\n        <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n          <Field\r\n            type=\"password\"\r\n            name=\"newPassword\"\r\n            component={renderInput}\r\n            placeholder=\"Wprowadź hasło\"\r\n          ></Field>\r\n          <Field\r\n            type=\"password\"\r\n            name=\"repeatedPassword\"\r\n            component={renderInput}\r\n            placeholder=\"Powtórz hasło\"\r\n          ></Field>\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            {renderButtonContent(this.props.loading, \"Zmień hasło\")}\r\n          </Button>\r\n        </Form>\r\n        {renderInfoWithClose(this.props.alert, this.props.clear)}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  const requiredFields = [\"newPassword\", \"repeatedPassword\"];\r\n  requiredFields.forEach((field) => {\r\n    if (!formValues[field]) {\r\n      errors[field] = \"To pole jest wymagane\";\r\n    }\r\n  });\r\n\r\n  if (formValues.newPassword !== formValues.repeatPassword) {\r\n    errors.repeatPassword = \"Podane hasła są różne\";\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    alert: state.alert,\r\n    token: state.token.token,\r\n    loading: state.loading.CHANGE_PASSWORD_WITH_TOKEN,\r\n  };\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"changePasswordWithToken\",\r\n  validate,\r\n})(ChangePasswordWithTokenPage);\r\n\r\nexport default connect(mapStateToProps, {\r\n  changePasswordWithToken,\r\n  clear: alertActions.clear,\r\n})(formWrapped);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Form, Button, Container } from \"react-bootstrap\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { checkToken } from \"../../actions/tokenActions\";\r\nimport { renderInput } from \"../../helpers/FormInputs\";\r\nimport { renderInfoWithClose } from \"../../helpers/InfoComponents\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\n\r\nclass CheckTokenPage extends React.Component {\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.checkToken(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        <header>\r\n          <h2>\r\n            Wprowadź token który otrzymałeś na podany wcześniej adres e-mail\r\n          </h2>\r\n        </header>\r\n        <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n          <Field\r\n            type=\"text\"\r\n            name=\"token\"\r\n            component={renderInput}\r\n            placeholder=\"Token\"\r\n          ></Field>\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            {renderButtonContent(this.props.loading, \"Zatwierdź\")}\r\n          </Button>\r\n        </Form>\r\n        {renderInfoWithClose(this.props.alert, this.props.clear)}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  if (!formValues.token) {\r\n    errors[\"token\"] = \"To pole jest wymagane\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loading: state.loading.CHECK_TOKEN,\r\n    alert: state.alert,\r\n  };\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"checkTokenForm\",\r\n  validate,\r\n})(CheckTokenPage);\r\n\r\nexport default connect(mapStateToProps, {\r\n  checkToken,\r\n  clear: alertActions.clear,\r\n})(formWrapped);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ChangePasswordWithTokenPage from \"./ChangePasswordWithTokenPage\";\r\nimport CheckTokenPage from \"./CheckTokenPage\";\r\n\r\nclass ResetPasswordWithToken extends React.Component {\r\n  render() {\r\n    if (this.props.isTokenCorrect) {\r\n      return (\r\n        <div>\r\n          <ChangePasswordWithTokenPage />\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <CheckTokenPage />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return { isTokenCorrect: state.token.tokenCorrect };\r\n};\r\n\r\nexport default connect(mapStateToProps)(ResetPasswordWithToken);\r\n","import sportBackground from \"../img/sportBackground.png\";\r\nimport celebryciBackground from \"../img/celebryciBackground.jpg\";\r\nimport politykaBackground from \"../img/politykaBackground.jpg\";\r\nimport gospodarkaBackground from \"../img/gospodarkaBackground.jpg\";\r\nimport inneBackground from \"../img/inneBackground.png\";\r\n\r\nconst setMarketCover = (category) => {\r\n  switch (category) {\r\n    case \"SPORT\":\r\n      return sportBackground;\r\n    case \"CELEBRITIES\":\r\n      return celebryciBackground;\r\n    case \"POLICY\":\r\n      return politykaBackground;\r\n    case \"ECONOMY\":\r\n      return gospodarkaBackground;\r\n    case \"OTHER\":\r\n      return inneBackground;\r\n    default:\r\n      return inneBackground;\r\n  }\r\n};\r\n\r\nexport const displayMarketCover = (cover, category) => {\r\n  return cover\r\n    ? `data:image/jpeg;base64,${cover.data}`\r\n    : setMarketCover(category);\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Image, Spinner, Button } from \"react-bootstrap\";\r\nimport { fetchMarket, makePublic } from \"../../actions/marketActions\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport BetsList from \"./BetsList\";\r\nimport { renderInfo } from \"../../helpers/InfoComponents\";\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\nimport { displayMarketCover } from \"../../helpers/MartketCovers\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faExclamationCircle } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nclass MakeMarketPublicPage extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchMarket(this.props.match.params.id);\r\n  }\r\n\r\n  renderBetsList = () => {\r\n    if (!this.props.currentMarket.bets) {\r\n      return (\r\n        <div>\r\n          Brak zakładów. Nie możesz opublikować rynku dopóki nie dodasz zakładów\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h4>Zakłady</h4>\r\n        <BetsList\r\n          correctBetId={this.props.currentMarket.correctBetId}\r\n          bets={this.props.currentMarket.bets}\r\n          marketId={this.props.match.params.id}\r\n        />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderEditMenu = () => {\r\n    return (\r\n      <div className=\"text-center\">\r\n        <LinkContainer to={`/markets/editCover/${this.props.match.params.id}`}>\r\n          <Button variant=\"primary\" className=\"edit-market-button\">\r\n            Zmień okładkę\r\n          </Button>\r\n        </LinkContainer>\r\n        <LinkContainer to={`/markets/editBets/${this.props.match.params.id}`}>\r\n          <Button variant=\"primary\" className=\"edit-market-button\">\r\n            Edytuj zakłady\r\n          </Button>\r\n        </LinkContainer>\r\n        <LinkContainer to={`/markets/editMarket/${this.props.match.params.id}`}>\r\n          <Button variant=\"primary\" className=\"edit-market-button\">\r\n            Edytuj dane rynku\r\n          </Button>\r\n        </LinkContainer>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  makeMarketPublic = () => {\r\n    this.props.makePublic(this.props.match.params.id);\r\n  };\r\n\r\n  renderMarketIsAlreadyPublishedInfo = () => {\r\n    return (\r\n      <div className=\"text-center\">\r\n        <FontAwesomeIcon icon={faExclamationCircle} size={\"6x\"} />\r\n        <h2>Rynek posiada już status publiczny</h2>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderMarketContent = () => {\r\n    if (this.props.currentMarket) {\r\n      if (!this.props.currentMarket.published) {\r\n        return (\r\n          <div>\r\n            <h4>{this.props.currentMarket.topic}</h4>\r\n            {this.props.currentMarket.marketCover && (\r\n              <Image\r\n                style={{ margin: \"10px auto\" }}\r\n                className=\"img\"\r\n                src={displayMarketCover(this.props.currentMarket.marketCover,this.props.currentMarket.marketCategory)}\r\n                rounded\r\n              />\r\n            )}\r\n            <h5>\r\n              Przewidywana data zakończenia - {this.props.currentMarket.endDate}\r\n            </h5>\r\n            <hr className=\"my-4\"></hr>\r\n            {this.renderBetsList()}\r\n            <hr className=\"my-4\"></hr>\r\n            <h4>Edytuj zakład</h4>\r\n            {this.renderEditMenu()}\r\n            <hr className=\"my-4\"></hr>\r\n            <h4>Opublikuj rynek</h4>\r\n            <div className=\"text-center\">\r\n              <Button\r\n                variant=\"primary\"\r\n                className=\"edit-market-button\"\r\n                onClick={this.makeMarketPublic}\r\n              >\r\n                {renderButtonContent(this.props.loading, \"Opublikuj rynek\")}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        );\r\n      } else {\r\n        return <div>{this.renderMarketIsAlreadyPublishedInfo()}</div>;\r\n      }\r\n    }\r\n  };\r\n\r\n  renderLoading = () => {\r\n    if (\r\n      !this.props.currentMarket &&\r\n      typeof this.props.loadingMarket !== \"undefined\" &&\r\n      this.props.loadingMarket.pending\r\n    ) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <Spinner\r\n            as=\"span\"\r\n            animation=\"border\"\r\n            size=\"sm\"\r\n            role=\"status\"\r\n            aria-hidden=\"true\"\r\n          />\r\n          <h3>Pobieranie danych rynku</h3>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        <header style={{ marginBottom: \"30px\" }}>\r\n          <h3>To już ostatni krok</h3>\r\n          <p>\r\n            Za chwilę twój rynek stanie się widoczny dla użytkowników. Sprawdź\r\n            czy wszystkie wprowadzone dane i zakłady są prawidłowe. Po\r\n            opublikowaniu rynku nie będziesz mógł edytować cen i usuwać zakładów\r\n            !\r\n          </p>\r\n        </header>\r\n        <hr className=\"my-4\"></hr>\r\n        {this.renderLoading()}\r\n        {this.renderMarketContent()}\r\n        {renderInfo(this.props.alert)}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    alert: state.alert,\r\n    loadingMarket: state.loading.FETCH_MARKET,\r\n    loading: state.loading.MAKE_MARKET_PUBLIC,\r\n    currentMarket: state.markets.find(\r\n      (market) => market.marketId.toString() === ownProps.match.params.id\r\n    ),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchMarket, makePublic })(\r\n  MakeMarketPublicPage\r\n);\r\n","import React from \"react\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Card, Button } from \"react-bootstrap\";\r\nimport TimeAgo from \"react-timeago\";\r\nimport polishStrings from \"react-timeago/lib/language-strings/pl\";\r\nimport buildFormatter from \"react-timeago/lib/formatters/buildFormatter\";\r\nimport { connect } from \"react-redux\";\r\nimport { displayMarketCover } from \"../../helpers/MartketCovers\";\r\nimport \"./Market.scss\";\r\n\r\nconst Market = (props) => {\r\n  return (\r\n    <Card>\r\n      <LinkContainer to={`/markets/details/${props.marketId}`}>\r\n        <Card.Img\r\n          variant=\"top\"\r\n          src={displayMarketCover(props.marketCover, props.marketCategory)}\r\n          className=\"market-cover\"\r\n        />\r\n      </LinkContainer>\r\n      <Card.Body>\r\n        <Card.Title>{props.marketTitle}</Card.Title>\r\n        <Card.Text>{props.description}</Card.Text>\r\n        {props.user &&\r\n          props.user.username === props.author &&\r\n          props.correctBetId === 0 && (\r\n            <div>\r\n              {!props.published && (\r\n                <LinkContainer\r\n                  className=\"market-card-buttons\"\r\n                  to={`/markets/editCover/${props.marketId}`}\r\n                >\r\n                  <Button>Zmień zdjęcie</Button>\r\n                </LinkContainer>\r\n              )}\r\n\r\n              <LinkContainer\r\n                className=\"market-card-buttons\"\r\n                to={`/markets/editBets/${props.marketId}`}\r\n              >\r\n                <Button>\r\n                  {!props.published ? (\r\n                    <span>Zarządzaj zakładami</span>\r\n                  ) : (\r\n                    <span>Dodaj zakład</span>\r\n                  )}\r\n                </Button>\r\n              </LinkContainer>\r\n              {props.bets && !props.published && (\r\n                <LinkContainer\r\n                  className=\"market-card-buttons\"\r\n                  to={`/markets/makePublic/${props.marketId}`}\r\n                >\r\n                  <Button>Opublikuj rynek</Button>\r\n                </LinkContainer>\r\n              )}\r\n              {/* {props.bets && !props.published && ( */}\r\n              <LinkContainer\r\n                className=\"market-card-buttons\"\r\n                to={`/markets/editMarket/${props.marketId}`}\r\n              >\r\n                <Button>Edytuj dane rynku</Button>\r\n              </LinkContainer>\r\n              {/* )} */}\r\n              {props.published && (\r\n                <LinkContainer\r\n                  className=\"market-card-buttons\"\r\n                  to={`/markets/solveMarket/${props.marketId}`}\r\n                >\r\n                  <Button>Rozwiąż rynek</Button>\r\n                </LinkContainer>\r\n              )}\r\n              {!props.published && (\r\n                <LinkContainer\r\n                  className=\"market-card-buttons\"\r\n                  to={`/markets/delete/${props.marketId}`}\r\n                >\r\n                  <Button>Usuń rynek</Button>\r\n                </LinkContainer>\r\n              )}\r\n            </div>\r\n          )}\r\n      </Card.Body>\r\n      <Card.Footer>\r\n        <small className=\"text-muted\">\r\n          Dodano{\" \"}\r\n          <TimeAgo\r\n            date={props.createdDate}\r\n            formatter={buildFormatter(polishStrings)}\r\n          />\r\n        </small>\r\n      </Card.Footer>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.login.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(Market);\r\n","import React from \"react\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass PaginationBar extends React.Component {\r\n  state = {\r\n    pageNeighbours: 1,\r\n  };\r\n\r\n  range = (from, to, step = 1) => {\r\n    let i = from;\r\n    const range = [];\r\n\r\n    while (i <= to) {\r\n      range.push(i);\r\n      i += step;\r\n    }\r\n\r\n    return range;\r\n  };\r\n\r\n  fetchPageNumbers = () => {\r\n    const LEFT_PAGE = \"LEFT\";\r\n    const RIGHT_PAGE = \"RIGHT\";\r\n    const totalPages = this.props.paginationInfo.totalPages;\r\n    const currentPage = this.props.paginationInfo.number;\r\n    const pageNeighbours = this.state.pageNeighbours;\r\n\r\n    /**\r\n     * totalNumbers: the total page numbers to show on the control\r\n     * totalBlocks: totalNumbers + 2 to cover for the left(<) and right(>) controls\r\n     */\r\n    const totalNumbers = pageNeighbours * 2 + 3;\r\n    const totalBlocks = totalNumbers + 2;\r\n\r\n    if (totalPages > totalBlocks) {\r\n      const startPage = Math.max(2, currentPage - pageNeighbours);\r\n      const endPage = Math.min(totalPages - 1, currentPage + pageNeighbours);\r\n      let pages = this.range(startPage, endPage);\r\n\r\n      /**\r\n       * hasLeftSpill: has hidden pages to the left\r\n       * hasRightSpill: has hidden pages to the right\r\n       * spillOffset: number of hidden pages either to the left or to the right\r\n       */\r\n      const hasLeftSpill = startPage > 2;\r\n      const hasRightSpill = totalPages - endPage > 1;\r\n      const spillOffset = totalNumbers - (pages.length + 1);\r\n\r\n      switch (true) {\r\n        // handle: (1) < {5 6} [7] {8 9} (10)\r\n        case hasLeftSpill && !hasRightSpill: {\r\n          const extraPages = this.range(startPage - spillOffset, startPage - 1);\r\n          pages = [LEFT_PAGE, ...extraPages, ...pages];\r\n          break;\r\n        }\r\n\r\n        // handle: (1) {2 3} [4] {5 6} > (10)\r\n        case !hasLeftSpill && hasRightSpill: {\r\n          const extraPages = this.range(endPage + 1, endPage + spillOffset);\r\n          pages = [...pages, ...extraPages, RIGHT_PAGE];\r\n          break;\r\n        }\r\n\r\n        // handle: (1) < {4 5} [6] {7 8} > (10)\r\n        case hasLeftSpill && hasRightSpill:\r\n        default: {\r\n          pages = [LEFT_PAGE, ...pages, RIGHT_PAGE];\r\n          break;\r\n        }\r\n      }\r\n\r\n      return [1, ...pages, totalPages];\r\n    }\r\n\r\n    return this.range(1, totalPages);\r\n  };\r\n\r\n  renderPagination() {\r\n    if (this.props.paginationInfo) {\r\n      if (\r\n        !this.props.paginationInfo.totalPages ||\r\n        this.props.paginationInfo.totalPages === 1\r\n      )\r\n        return null;\r\n\r\n      const LEFT_PAGE = \"LEFT\";\r\n      const RIGHT_PAGE = \"RIGHT\";\r\n\r\n      const { number } = this.props.paginationInfo;\r\n      const pages = this.fetchPageNumbers();\r\n\r\n      return (\r\n        <Nav aria-label=\"Countries Pagination\" className=\"text-center\">\r\n          <ul className=\"pagination\">\r\n            {pages.map((page, index) => {\r\n              if (page === LEFT_PAGE)\r\n                return (\r\n                  <li key={index} className=\"page-item\">\r\n                    <Nav.Link\r\n                      onClick={() => this.handleMoveLeft(number)}\r\n                      className=\"page-link\"\r\n                      aria-label=\"Previous\"\r\n                    >\r\n                      <span aria-hidden=\"true\">&laquo;</span>\r\n                      <span className=\"sr-only\">Previous</span>\r\n                    </Nav.Link>\r\n                  </li>\r\n                );\r\n\r\n              if (page === RIGHT_PAGE)\r\n                return (\r\n                  <Nav.Item key={index} className=\"page-item\">\r\n                    <Nav.Link\r\n                      onClick={() => this.handleMoveRight(number)}\r\n                      className=\"page-link\"\r\n                      aria-label=\"Next\"\r\n                    >\r\n                      <span aria-hidden=\"true\">&raquo;</span>\r\n                      <span className=\"sr-only\">Next</span>\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n                );\r\n\r\n              return (\r\n                <Nav.Item\r\n                  key={index}\r\n                  className={`page-item${number === page - 1 ? \" active\" : \"\"}`}\r\n                >\r\n                  <Nav.Link\r\n                    className=\"page-link\"\r\n                    onClick={() => this.changePage(page)}\r\n                  >\r\n                    {page}\r\n                  </Nav.Link>\r\n                </Nav.Item>\r\n              );\r\n            })}\r\n          </ul>\r\n        </Nav>\r\n      );\r\n    }\r\n  }\r\n\r\n  changePage(page) {\r\n    this.props.dispatch(this.props.changePage(page - 1));\r\n  }\r\n\r\n  handleMoveLeft(page) {\r\n    this.props.dispatch(\r\n      this.props.changePage(page - 1 - this.state.pageNeighbours * 2 - 1)\r\n    );\r\n  }\r\n\r\n  handleMoveRight(page) {\r\n    this.props.dispatch(\r\n      this.props.changePage(page + this.state.pageNeighbours * 2 + 1)\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return <div>{this.renderPagination()}</div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    paginationInfo: ownProps.paginationInfo,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PaginationBar);\r\n","export const filterConstants = {\r\n    SELECT_CATEGORY: 'SELECT_CATEGORY',\r\n    UNSELECT_CATEGORY: 'UNSELECT_CATEGORY',\r\n    UPDATE_SEARCH: 'UPDATE_SEARCH',\r\n    UPDATE_SORTED: 'UPDATE_SORTED',\r\n    UPDATE_CURRENT_PAGE: 'UPDATE_CURRENT_PAGE',\r\n    UPDATE_PAGE_SIZE: 'UPDATE_PAGE_SIZE',\r\n    CLEAR_FILTERS: 'CLEAR_FILTERS'\r\n}","import { filterConstants } from \"../constants/filterConstants\";\r\n\r\nexport const selectCategory = (category) => {\r\n  return {\r\n    type: filterConstants.SELECT_CATEGORY,\r\n    payload: category,\r\n  };\r\n};\r\n\r\nexport const unselectCategory = (category) => {\r\n  return {\r\n    type: filterConstants.UNSELECT_CATEGORY,\r\n    payload: category,\r\n  };\r\n};\r\n\r\nexport const updateSearch = (searchText) => {\r\n  return {\r\n    type: filterConstants.UPDATE_SEARCH,\r\n    payload: searchText,\r\n  };\r\n};\r\n\r\nexport const updateSorted = (sortedBy) => {\r\n  return {\r\n    type: filterConstants.UPDATE_SORTED,\r\n    payload: sortedBy,\r\n  };\r\n};\r\n\r\nexport const changePage = (page) => {\r\n  return {\r\n    type: filterConstants.UPDATE_CURRENT_PAGE,\r\n    payload: page,\r\n  };\r\n};\r\n\r\nexport const changePageSize = (pageSize) => {\r\n  return {\r\n    type: filterConstants.UPDATE_PAGE_SIZE,\r\n    payload: pageSize,\r\n  };\r\n};\r\n\r\nexport const clearFilters = () => {\r\n  return {\r\n    type: filterConstants.CLEAR_FILTERS,\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport {\r\n  selectCategory,\r\n  unselectCategory,\r\n  updateSorted,\r\n  changePageSize,\r\n} from \"../../actions/filterActions\";\r\nimport {renderCategoryFilter} from '../../helpers/MarketCategories'\r\n\r\nclass MarketsFilter extends React.Component {\r\n  state = {\r\n    filters: [],\r\n  };\r\n\r\n  range = (from, to, step = 1) => {\r\n    let i = from;\r\n    const range = [];\r\n\r\n    while (i <= to) {\r\n      range.push(i);\r\n      i += step;\r\n    }\r\n\r\n    return range;\r\n  };\r\n\r\n  handleSort = (e) => {\r\n    this.props.dispatch(updateSorted(e.target.value.split(\",\")));\r\n  };\r\n\r\n  handleCategory = (e) => {\r\n    if (this.props.selectedCategories.includes(e.target.value)) {\r\n      this.props.dispatch(unselectCategory(e.target.value));\r\n    } else {\r\n      this.props.dispatch(selectCategory(e.target.value));\r\n    }\r\n  };\r\n\r\n  handlePageSize = (e) => {\r\n    this.props.dispatch(changePageSize(parseInt(e.target.value)));\r\n  };\r\n\r\n  renderPageSizeFilter() {\r\n    return (\r\n      <div>\r\n        <Form.Label>\r\n          <h5>Rozmiar strony</h5>\r\n        </Form.Label>\r\n        <Form.Control as=\"select\" onChange={this.handlePageSize}>\r\n          {this.range(10, 30, 10).map((number) => (\r\n            <option key={number} value={number}>\r\n              {number}\r\n            </option>\r\n          ))}\r\n        </Form.Control>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Form.Label>\r\n          <h5>Sortuj według</h5>\r\n        </Form.Label>\r\n        <Form.Control as=\"select\" onChange={this.handleSort}>\r\n          <option value={\"createdDate,desc\"}>Od najnowszych</option>\r\n          <option value={\"createdDate,asc\"}>Od najstarszych</option>\r\n          <option value={\"endDate,desc\"}>\r\n            Nabliższego czasu zakończenia\r\n          </option>\r\n          <option value={\"endDate,asc\"}>\r\n            Najdalszego czasu zakończenia\r\n          </option>\r\n        </Form.Control>\r\n        <hr className=\"my-4\"></hr>\r\n        {this.renderPageSizeFilter()}\r\n        <hr className=\"my-4\"></hr>\r\n        {renderCategoryFilter(this.handleCategory)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selectedCategories: state.filterMarkets.selectedCategories,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MarketsFilter);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button, InputGroup, FormControl } from \"react-bootstrap\";\r\n\r\nclass SearchBar extends React.Component {\r\n  state = {\r\n    searchText: \"\",\r\n  };\r\n\r\n  onInputSearchChange = (e) => {\r\n    this.setState({ searchText: e.target.value });\r\n  };\r\n\r\n  onSubmitSearch = () => {\r\n    this.props.dispatch(this.props.search(this.state.searchText));\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <InputGroup className=\"mb-3\">\r\n          <InputGroup.Prepend>\r\n            <Button variant=\"outline-dark\" onClick={this.onSubmitSearch}>\r\n              Szukaj\r\n            </Button>\r\n          </InputGroup.Prepend>\r\n          <FormControl\r\n            onChange={this.onInputSearchChange}\r\n            aria-describedby=\"basic-addon1\"\r\n          />\r\n        </InputGroup>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    search: ownProps.search,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchBar);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchMarkets } from \"../../actions/marketActions\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport Market from \"./Market\";\r\nimport PaginationBar from \"./PaginationBar\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faSadTear,\r\n  faExclamationCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { changePage, clearFilters } from \"../../actions/filterActions\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\nimport MarketsFilter from \"./MarketsFilter\";\r\nimport SearchBar from \"./SearchBar\";\r\nimport { updateSearch } from \"../../actions/filterActions\";\r\n\r\nclass MarketsList extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchMarkets(\r\n      this.props.typeOfMarkets,\r\n      \"\",\r\n      this.props.filter.selectedCategories,\r\n      this.props.filter.sortedBy,\r\n      0,\r\n      this.props.filter.pageSize\r\n    );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n    this.props.clearFilters();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      !(JSON.stringify(this.props.filter) === JSON.stringify(prevProps.filter))\r\n    ) {\r\n      this.props.fetchMarkets(\r\n        this.props.typeOfMarkets,\r\n        this.props.filter.marketTitle,\r\n        this.props.filter.selectedCategories,\r\n        this.props.filter.sortedBy,\r\n        this.props.filter.page,\r\n        this.props.filter.pageSize\r\n      );\r\n    }\r\n  }\r\n\r\n  renderNotFoundMessage() {\r\n    if (!this.props.alert.payload) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <FontAwesomeIcon icon={faSadTear} size={\"6x\"} />\r\n          <h3>W tej chwili w grze nie toczą się żadne rynki</h3>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <FontAwesomeIcon icon={faExclamationCircle} size={\"6x\"} />\r\n          <h3>{this.props.alert.payload}</h3>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderContent() {\r\n    if (\r\n      typeof this.props.loading !== \"undefined\" &&\r\n      this.props.loading.pending\r\n    ) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <Loader type=\"TailSpin\" color=\"black\" />\r\n        </div>\r\n      );\r\n    } else {\r\n      return <div>{this.renderList()}</div>;\r\n    }\r\n  }\r\n\r\n  renderList() {\r\n    if (this.props.markets.length > 0) {\r\n      return (\r\n        <Row>\r\n          {this.props.markets.map((market) => (\r\n            <Col\r\n              xs={12}\r\n              md={6}\r\n              className=\"d-flex align-items-stretch\"\r\n              style={{ margin: \"20px 0\" }}\r\n              key={market.marketId}\r\n            >\r\n              <Market\r\n                author={market.author}\r\n                marketId={market.marketId}\r\n                published={market.published}\r\n                marketTitle={market.topic}\r\n                description={market.description}\r\n                marketCategory={market.category}\r\n                marketCover={market.marketCover}\r\n                createdDate={market.createdDate}\r\n                bets={market.bets}\r\n                correctBetId={market.correctBetId}\r\n              />\r\n            </Col>\r\n          ))}\r\n          <PaginationBar\r\n            paginationInfo={this.props.paginationInfo}\r\n            changePage={changePage}\r\n          />\r\n        </Row>\r\n      );\r\n    } else {\r\n      return <div>{this.renderNotFoundMessage()}</div>;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"mt-4\">\r\n        <SearchBar search={updateSearch} />\r\n        <Row>\r\n          <Col sm={3}>\r\n            <MarketsFilter />\r\n          </Col>\r\n          <Col sm={9}>{this.renderContent()}</Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    typeOfMarkets: ownProps.typeOfMarkets,\r\n    markets: Object.values(state.markets),\r\n    loading: state.loading.FETCH_MARKETS,\r\n    filter: state.filterMarkets,\r\n    alert: state.alert,\r\n    paginationInfo: state.pagination.paginationInfo,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchMarkets,\r\n  clear: alertActions.clear,\r\n  clearFilters,\r\n})(MarketsList);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Tab, Tabs, Container } from \"react-bootstrap\";\r\nimport MarketsList from \"./MarketsList\";\r\nimport BackHeader from \"../BackHeader\";\r\n\r\nclass MarketsPage extends React.Component {\r\n  renderTabs() {\r\n    if (\r\n      this.props.user &&\r\n      this.props.user.roles.includes(\"ROLE_MODERATOR\")\r\n    ) {\r\n      return (\r\n        <Tabs id=\"controlled-tab-example\" className=\"mt-4\">\r\n          <Tab eventKey=\"private\" title=\"Prywatne\" unmountOnExit>\r\n            <MarketsList typeOfMarkets=\"/private\" />\r\n          </Tab>\r\n          <Tab\r\n            eventKey=\"filteredWaitingForBets\"\r\n            title=\"Bez zakładów\"\r\n            unmountOnExit\r\n          >\r\n            <MarketsList typeOfMarkets=\"/filteredWaitingForBets\" />\r\n          </Tab>\r\n          <Tab eventKey=\"publicMod\" title=\"Opublikowane przez ciebie\" unmountOnExit>\r\n            <MarketsList title=\"Trwające rynki\" typeOfMarkets=\"/public\" />\r\n          </Tab>\r\n          <Tab eventKey=\"public\" title=\"Publiczne\" unmountOnExit>\r\n            <MarketsList title=\"Trwające rynki\" typeOfMarkets=\"/public\" />\r\n          </Tab>\r\n          <Tab eventKey=\"solvedMod\" title=\"Zakończone przez ciebie\" unmountOnExit>\r\n            <MarketsList title=\"Trwające rynki\" typeOfMarkets=\"/solvedByMod\" />\r\n          </Tab>\r\n          <Tab eventKey=\"solved\" title=\"Zakończone\" unmountOnExit>\r\n            <MarketsList title=\"Trwające rynki\" typeOfMarkets=\"/solved\" />\r\n          </Tab>\r\n        </Tabs>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Tabs id=\"controlled-tab-example\" className=\"mt-4\">\r\n        {/* <Tab eventKey=\"private\" title=\"Prywatne\" unmountOnExit>\r\n            <MarketsList typeOfMarkets=\"/private\" />\r\n          </Tab>\r\n        <Tab\r\n            eventKey=\"filteredWaitingForBets\"\r\n            title=\"Bez zakładów\"\r\n            unmountOnExit\r\n          >\r\n            <MarketsList\r\n              typeOfMarkets=\"/filteredWaitingForBets\"\r\n            />\r\n          </Tab> */}\r\n        <Tab eventKey=\"home\" title=\"Trwające\" unmountOnExit>\r\n          <MarketsList title=\"Trwające rynki\" typeOfMarkets=\"/\" />\r\n        </Tab>\r\n        <Tab eventKey=\"profile\" title=\"Zakończone\" unmountOnExit>\r\n          <MarketsList title=\"Zakończone rynki\" typeOfMarkets=\"/solved\" />\r\n        </Tab>\r\n      </Tabs>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container\">\r\n        <BackHeader title=\"Rynki prognostyczne\" />\r\n        {this.renderTabs()}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.login.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(MarketsPage);\r\n","export const transactionConstants = {\r\n    FETCH_TRANSACTIONS_REQUEST:'FETCH_TRANSACTIONS_REQUEST',\r\n    FETCH_TRANSACTIONS_SUCCESS:'FETCH_TRANSACTIONS_SUCCESS',\r\n    FETCH_TRANSACTIONS_FAILURE:'FETCH_TRANSACTIONS_FAILURE',\r\n    CLEAR_TRANSACTIONS:'CLEAR_TRANSACTIONS',\r\n    FETCH_FILTERED_TRANSACTIONS_REQUEST:'FETCH_FILTERED_TRANSACTIONS_REQUEST',\r\n    FETCH_FILTERED_TRANSACTIONS_SUCCESS:'FETCH_FILTERED_TRANSACTIONS_SUCCESS',\r\n    FETCH_FILTERED_TRANSACTIONS_FAILURE:'FETCH_FILTERED_TRANSACTIONS_FAILURE'\r\n}","import authHeader from \"../helpers/authHeader\";\r\nimport { baseURL } from \"../api/baseURL\";\r\nimport { handleResponse } from \"../helpers/HandleResponse\";\r\n\r\nconst fetchTransactions = (betId, option, timeAgo) => {\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: authHeader(),\r\n  };\r\n  return fetch(\r\n    `${baseURL}/transactions/chart?betId=${betId}&option=${option}&timeAgo=${timeAgo}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nconst fetchTransactionsFiltered = (\r\n  type,\r\n  option,\r\n  betTitle,\r\n  marketTitle,\r\n  marketCategories = [],\r\n  page,\r\n  pageSize,\r\n  sortedBy\r\n) => {\r\n  let marketCategoryParams = \"\";\r\n  if (marketCategories.length > 0) {\r\n    marketCategories.forEach((market) => {\r\n      marketCategoryParams += `marketCategory=${market}&`;\r\n    });\r\n  }\r\n\r\n  marketCategoryParams.length > 0\r\n    ? marketCategoryParams.substr(0, marketCategoryParams.length - 1)\r\n    : (marketCategoryParams = \"marketCategory=\");\r\n\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/transactions/${type}?option=${option}&betTitle=${betTitle}&marketTitle=${marketTitle}&${marketCategoryParams}&sortAttribute=${sortedBy[0]}&sortDirection=${sortedBy[1]}&page=${page}&size=${pageSize}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nexport const transactionService = {\r\n  fetchTransactions,\r\n  fetchTransactionsFiltered,\r\n};\r\n","import { transactionConstants } from \"../constants/transactionConstants\";\r\nimport { transactionService } from \"../services/transactionService\";\r\nimport { updateTransactionPagination } from \"./paginationActions\";\r\nimport { alertActions } from \"./alertActions\";\r\nimport _ from \"lodash\";\r\n\r\nexport const fetchTransactions = (betId, option, timeAgo) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    transactionService.fetchTransactions(betId, option, timeAgo).then(\r\n      (res) => {\r\n        dispatch(success(res));\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: transactionConstants.FETCH_TRANSACTIONS_REQUEST };\r\n  }\r\n  function success(payload) {\r\n    return { type: transactionConstants.FETCH_TRANSACTIONS_SUCCESS, payload };\r\n  }\r\n  function failure() {\r\n    return { type: transactionConstants.FETCH_TRANSACTIONS_FAILURE };\r\n  }\r\n};\r\n\r\nexport const fetchFilteredTransactions = (\r\n  type,\r\n  option,\r\n  betTitle,\r\n  marketTitle,\r\n  marketCategories,\r\n  page,\r\n  pageSize,\r\n  sortedBy\r\n) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    transactionService\r\n      .fetchTransactionsFiltered(\r\n        type,\r\n        option,\r\n        betTitle,\r\n        marketTitle,\r\n        marketCategories,\r\n        page,\r\n        pageSize,\r\n        sortedBy\r\n      )\r\n      .then(\r\n        (res) => {\r\n          dispatch(success(res.content));\r\n          dispatch(updateTransactionPagination(_.omit(res, [\"content\"])));\r\n        },\r\n        (error) => {\r\n          dispatch(failure());\r\n          dispatch(alertActions.error(error.toString()));\r\n        }\r\n      );\r\n  };\r\n\r\n  function request() {\r\n    return { type: transactionConstants.FETCH_FILTERED_TRANSACTIONS_REQUEST };\r\n  }\r\n  function success(payload) {\r\n    return {\r\n      type: transactionConstants.FETCH_FILTERED_TRANSACTIONS_SUCCESS,\r\n      payload,\r\n    };\r\n  }\r\n  function failure() {\r\n    return { type: transactionConstants.FETCH_FILTERED_TRANSACTIONS_FAILURE };\r\n  }\r\n};\r\n\r\nexport const clearTransactions = () => {\r\n  return {\r\n    type: transactionConstants.CLEAR_TRANSACTIONS,\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { Chart } from 'react-chartjs-2';\r\n\r\nclass LineChart extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.canvasRef = React.createRef();\r\n      }\r\n\r\n      setUnit(time) {\r\n          if(time < 60 * 1000) {\r\n            return \"second\"\r\n          }else if(time > 60 * 1000 && time < 60*60*1000){\r\n            return \"minute\"\r\n          }else if( time < 24*60*60*1000 && time > 60*60*1000){\r\n            return \"hour\"\r\n          }else{\r\n            return \"day\"\r\n          }\r\n      }\r\n    \r\n      componentDidUpdate() {\r\n        this.myChart.data.labels = this.props.transactions.map(d => new Date(d.transactionDate).getTime());\r\n        this.myChart.data.datasets[0].data = this.props.transactions.map(d => d.price);\r\n       \r\n        if(this.props.transactions.length > 0){\r\n        let time = (new Date(this.props.transactions[this.props.transactions.length-1].transactionDate).getTime() - new Date(this.props.transactions[0].transactionDate).getTime())\r\n        let unit = this.setUnit(time)\r\n        this.myChart.options.scales.xAxes[0].time.unit = unit;\r\n        }\r\n\r\n        this.myChart.update();\r\n      }\r\n    \r\n      componentDidMount() {\r\n        \r\n        this.myChart = new Chart(this.canvasRef.current, {\r\n          type: 'line',\r\n          options: {\r\n            scales: {\r\n              xAxes: [\r\n                {\r\n                  type: 'time',\r\n                  time: {\r\n                    unit: 'month'\r\n                  }\r\n                }\r\n              ],\r\n              yAxes: [\r\n                {\r\n                  ticks: {\r\n                    min: 0\r\n                  }\r\n                }\r\n              ]\r\n            }\r\n          },\r\n          data: {\r\n            labels: this.props.transactions.map(d => new Date(d.transactionDate).getTime()),\r\n            datasets: [{\r\n              label: this.props.title,\r\n              data: this.props.transactions.map(d => d.price),\r\n              fill: 'none',\r\n              backgroundColor: this.props.color,\r\n              pointRadius: 2,\r\n              borderColor: this.props.color,\r\n              borderWidth: 1,\r\n              lineTension: 0\r\n            }]\r\n          }\r\n        });\r\n      }\r\n\r\n      render() {\r\n        return <canvas ref={this.canvasRef} />;\r\n      }\r\n}\r\n\r\nexport default LineChart;","import React from \"react\";\r\nimport { Form, Row, Col } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  fetchTransactions,\r\n  clearTransactions,\r\n} from \"../../actions/transactionActions\";\r\nimport LineChart from \"./LineChart\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nclass MarketTrendChart extends React.Component {\r\n  state = {\r\n    currentBet: this.props.bets[0].id,\r\n    currentOption: true,\r\n    timeAgo: 1,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.canvasRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    var today = new Date();\r\n    today.setDate(today.getDate() - 1);\r\n    var dd = String(today.getDate()).padStart(2, \"0\");\r\n    var mm = String(today.getMonth() + 1).padStart(2, \"0\"); //January is 0!\r\n    var yyyy = today.getFullYear();\r\n\r\n    today = yyyy + \"-\" + mm + \"-\" + dd;\r\n    this.setState({ timeAgo: today });\r\n    this.props.fetchTransactions(\r\n      this.state.currentBet,\r\n      this.state.currentOption,\r\n      today\r\n    );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clearTransactions();\r\n  }\r\n\r\n  onChangeTimeAgo = (e) => {\r\n    var today;\r\n    if (this.props.correctBetId > 0) {\r\n      let timestamp = Date.parse(this.props.endDate);\r\n      today = new Date(timestamp);\r\n    } else {\r\n      today = new Date();\r\n    }\r\n    today.setDate(today.getDate() - e.target.value);\r\n    var dd = String(today.getDate()).padStart(2, \"0\");\r\n    var mm = String(today.getMonth() + 1).padStart(2, \"0\");\r\n    var yyyy = today.getFullYear();\r\n\r\n    today = yyyy + \"-\" + mm + \"-\" + dd;\r\n    this.setState({ timeAgo: today });\r\n    this.props.fetchTransactions(\r\n      this.state.currentBet,\r\n      this.state.currentOption,\r\n      today\r\n    );\r\n  };\r\n\r\n  onChangeBet = (e) => {\r\n    this.setState({ currentBet: e.target.value });\r\n    this.props.fetchTransactions(\r\n      e.target.value,\r\n      this.state.currentOption,\r\n      this.state.timeAgo\r\n    );\r\n  };\r\n\r\n  onChangeBetOption = (e) => {\r\n    this.setState({ currentOption: e.target.value });\r\n    this.props.fetchTransactions(\r\n      this.state.currentBet,\r\n      e.target.value,\r\n      this.state.timeAgo\r\n    );\r\n  };\r\n\r\n  renderLoading() {\r\n    if (\r\n      typeof this.props.loading !== \"undefined\" &&\r\n      this.props.loading.pending\r\n    ) {\r\n      return (\r\n        <Loader\r\n          height={50}\r\n          width={50}\r\n          className=\"m-3\"\r\n          type=\"TailSpin\"\r\n          color=\"black\"\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  renderMarketFilter() {\r\n    return (\r\n      <div>\r\n        <h5>Zakład</h5>\r\n        <Form.Control as=\"select\" onChange={this.onChangeBet}>\r\n          {this.props.bets.map((bet) => (\r\n            <option key={bet.id} value={bet.id}>{bet.title}</option>\r\n          ))}\r\n        </Form.Control>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderBetOptionFilter() {\r\n    return (\r\n      <div>\r\n        <h5>Opcja zakładu</h5>\r\n        <Form.Control as=\"select\" onChange={this.onChangeBetOption}>\r\n          <option value={true}>Opcja na tak</option>\r\n          <option value={false}>Opcja na nie</option>\r\n        </Form.Control>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderTimeAgoFilter() {\r\n    const times = [\r\n      { value: 1, text: \"Ostatni dzień\" },\r\n      { value: 7, text: \"Ostatni tydzień\" },\r\n      { value: 30, text: \"Ostatni miesiąc\" },\r\n      { value: 90, text: \"Ostatnie 90 dni\" },\r\n    ];\r\n\r\n    return (\r\n      <div>\r\n        <h5>Przedział czasowy</h5>\r\n        <Form.Control as=\"select\" onChange={this.onChangeTimeAgo}>\r\n          {times.map((time) => (\r\n            <option key={time.value} value={time.value}>{time.text}</option>\r\n          ))}\r\n        </Form.Control>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <header className=\"mb-5\">\r\n          <h4>Trend rynku</h4>\r\n        </header>\r\n        {this.props.transactions && (\r\n          <div>\r\n            <Row>\r\n              <Col sm={4}>{this.renderMarketFilter()}</Col>\r\n              <Col sm={4}>{this.renderBetOptionFilter()}</Col>\r\n              <Col sm={4}>{this.renderTimeAgoFilter()}</Col>\r\n            </Row>\r\n            <hr className=\"my-4\"></hr>\r\n            {this.renderLoading()}\r\n            <LineChart\r\n              transactions={this.props.transactions}\r\n              color=\"#3E517A\"\r\n              title={\"Cena akcji\"}\r\n            />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    loading: state.loading.FETCH_TRANSACTIONS,\r\n    alert: state.alert,\r\n    transactions: state.transactions,\r\n    betId: ownProps.betId,\r\n    option: ownProps.option,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchTransactions,\r\n  clearTransactions,\r\n})(MarketTrendChart);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Col, Container, Image, Row, Spinner } from \"react-bootstrap\";\r\nimport { fetchMarket } from \"../../actions/marketActions\";\r\nimport BetsList from \"./BetsList\";\r\nimport MarketTrendChart from \"./MarketTrendChart\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSadTear } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport BackHeader from \"../BackHeader\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\nimport { displayMarketCover } from \"../../helpers/MartketCovers\";\r\n\r\n\r\nclass MarketDetails extends React.Component {\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.currentMarket)\r\n      this.props.fetchMarket(this.props.match.params.id);\r\n  }\r\n\r\n  renderLoading = () => {\r\n    if (\r\n      !this.props.currentMarket &&\r\n      typeof this.props.loadingMarket !== \"undefined\" &&\r\n      this.props.loadingMarket.pending\r\n    ) {\r\n      return (\r\n        <Container className=\"text-center bg-light border rounded shadow-container create-market-container\">\r\n          <Spinner\r\n            as=\"span\"\r\n            animation=\"border\"\r\n            size=\"sm\"\r\n            role=\"status\"\r\n            aria-hidden=\"true\"\r\n          />\r\n          <h3>Pobieranie danych rynku</h3>\r\n        </Container>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderBetsList = () => {\r\n    return (\r\n      <BetsList\r\n        correctBetId={this.props.currentMarket.correctBetId}\r\n        correctBetOption={this.props.currentMarket.correctBetOption}\r\n        bets={this.props.currentMarket.bets}\r\n        marketId={this.props.match.params.id}\r\n      />\r\n    );\r\n  };\r\n\r\n  renderNotFoundMessage() {\r\n    if (this.props.alert.payload && this.props.alert.type !== \"ALERT_BUYING\")\r\n      return (\r\n        <Container className=\"text-center bg-light border rounded shadow-container create-market-container\">\r\n          <FontAwesomeIcon icon={faSadTear} size={\"6x\"} />\r\n          <h3>{this.props.alert.payload}</h3>\r\n        </Container>\r\n      );\r\n  }\r\n\r\n  renderMarketPage = () => {\r\n    if (this.props.currentMarket) {\r\n      return (\r\n        <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n          <BackHeader title={this.props.currentMarket.topic} />\r\n          <hr className=\"my-4\"></hr>\r\n          <Row>\r\n            <Col sm={6}>\r\n              <Image\r\n                variant=\"top\"\r\n                src={displayMarketCover(this.props.currentMarket.marketCover,this.props.currentMarket.category)}\r\n                className=\"market-cover\"\r\n              />\r\n            </Col>\r\n            <Col sm={6}>\r\n              <div className=\"rules\">\r\n                <h4>Zasady rynku</h4>\r\n                <p>{this.props.currentMarket.description}</p>\r\n                <hr className=\"my-4\"></hr>\r\n              </div>\r\n              <div className=\"endDate\">\r\n                {this.props.currentMarket.correctBetId === 0 ? <h4>Przewidywana data zakończenia</h4> : <h4>Data zakończenia</h4>}\r\n                {this.props.currentMarket.endDate.substring(0, 4) === \"3000\" ? (\r\n                  <p>Nieokreślona</p>\r\n                ) : (\r\n                  <p>{this.props.currentMarket.endDate}</p>\r\n                )}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n          <hr className=\"my-4\"></hr>\r\n          <div className=\"bets\">\r\n            <h4>Zakłady</h4>\r\n            {this.renderBetsList()}\r\n            {!this.props.currentMarket.bets && (\r\n              <LinkContainer\r\n                className=\"text-center\"\r\n                to={`/markets/editBets/${this.props.currentMarket.marketId}`}\r\n              >\r\n                <Button>Dodaj zakłady</Button>\r\n              </LinkContainer>\r\n            )}\r\n          </div>\r\n          <hr className=\"my-4\"></hr>\r\n          {this.props.currentMarket.bets && (\r\n            <MarketTrendChart\r\n              bets={this.props.currentMarket.bets}\r\n              option={true}\r\n              endDate={this.props.currentMarket.endDate}\r\n              correctBetId={this.props.currentMarket.correctBetId}\r\n            />\r\n          )}\r\n        </Container>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderLoading()}\r\n        {this.renderNotFoundMessage()}\r\n        {this.renderMarketPage()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    loadingMarket: state.loading.FETCH_MARKET,\r\n    currentMarket: state.markets.find(\r\n      (market) => market.marketId.toString() === ownProps.match.params.id\r\n    ),\r\n    alert: state.alert,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchMarket,\r\n  clear: alertActions.clear,\r\n})(MarketDetails);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Form, Button } from \"react-bootstrap\";\r\nimport { fetchMarket, editMarket } from \"../../actions/marketActions\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport BackHeader from \"../BackHeader\";\r\nimport { MarketCategories } from \"../../helpers/MarketCategories\";\r\nimport {\r\n  renderInput,\r\n  renderSelectField,\r\n} from \"../../helpers/FormInputs\";\r\nimport {renderInfo} from '../../helpers/InfoComponents';\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\n\r\nclass EditMarketPage extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchMarket(this.props.match.params.id);\r\n  }\r\n\r\n  getSelectedOption = (option) => {\r\n    return this.getOptions().find(\r\n      (opt) => opt.text.toLowerCase() === option.toLowerCase()\r\n    );\r\n  };\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.editMarket(this.props.match.params.id, formValues);\r\n  };\r\n\r\n  renderForm() {\r\n    if (this.props.currentMarket) {\r\n      return (\r\n        <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n          <Field\r\n            disabled={this.props.currentMarket.published}\r\n            type=\"text\"\r\n            label=\"Tytuł rynku\"\r\n            name=\"topic\"\r\n            component={renderInput}\r\n            placeholder=\"Wprowadź tytuł rynku prognostycznego\"\r\n          ></Field>\r\n          <Field\r\n            helpText=\"Jeżeli nie wiesz kiedy może zakończyć się dany rynek nie wypełniaj tego pola\"\r\n            type=\"date\"\r\n            label=\"Przewidywana data zakończenia rynku\"\r\n            name=\"endDate\"\r\n            component={renderInput}\r\n          ></Field>\r\n          <Field\r\n            disabled={this.props.currentMarket.published}\r\n            name=\"category\"\r\n            label=\"Wybierz kategorię rynku\"\r\n            options={MarketCategories}\r\n            component={renderSelectField}\r\n          />\r\n          <Field\r\n            disabled={this.props.currentMarket.published}\r\n            as=\"textarea\"\r\n            rows=\"5\"\r\n            name=\"description\"\r\n            label=\"Krótko opisz rynek i jego zasady\"\r\n            component={renderInput}\r\n          />\r\n          <Button className=\"form-button\" variant=\"primary\" type=\"submit\">\r\n            {renderButtonContent(this.props.loading, \"Zatwierdź\")}\r\n          </Button>\r\n        </Form>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        <BackHeader title=\"Edytuj rynek\" />\r\n        <hr className=\"my-4\"></hr>\r\n        {this.renderForm()}\r\n        {renderInfo(this.props.alert)}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  const requiredFields = [\"marketTitle\", \"description\"];\r\n  requiredFields.forEach((field) => {\r\n    if (!formValues[field]) {\r\n      errors[field] = \"To pole jest wymagane\";\r\n    }\r\n  });\r\n\r\n  if (formValues.predictedDateEnd) {\r\n    let predictedDate = new Date(formValues.predictedDateEnd);\r\n    let dateNow = new Date();\r\n\r\n    if (predictedDate < dateNow) {\r\n      errors[\"predictedDateEnd\"] =\r\n        \"Musisz podać datę późniejszą od dzisiejszej\";\r\n    }\r\n  }\r\n  return errors;\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"editMarketForm\",\r\n  validate,\r\n  enableReinitialize: true,\r\n})(EditMarketPage);\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    loadingMarket: state.loading.FETCH_MARKET,\r\n    loading: state.loading.EDIT_MARKET,\r\n    currentMarket: state.markets.find(\r\n      (market) => market.marketId.toString() === ownProps.match.params.id\r\n    ),\r\n    alert: state.alert,\r\n    initialValues: state.markets.find(\r\n      (market) => market.marketId.toString() === ownProps.match.params.id\r\n    ),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchMarket, editMarket })(\r\n  formWrapped\r\n);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { solveMarket } from \"../../actions/marketActions\";\r\nimport {renderSelectField} from '../../helpers/FormInputs';\r\nimport { renderInfo } from \"../../helpers/InfoComponents\";\r\nimport {renderButtonContent} from '../../helpers/LoadingContent'; \r\n\r\nclass SolveSingleBetMarketForm extends React.Component {\r\n  state = {\r\n    title: null,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.initialize({ correctBetOption: 0 });\r\n  }\r\n\r\n  getOptions() {\r\n    const options = [\r\n      {\r\n        val: 0,\r\n        text: `Wybierz prawidłową opcję dla zakładu \"${this.props.bets[0].title}\"`,\r\n        key: 1,\r\n        selected: \"selected\",\r\n      },\r\n      { val: true, text: \"Wybierz opcję na tak\", key: 2 },\r\n      { val: false, text: \"Wybierz opcję na nie\", key: 3 },\r\n    ];\r\n\r\n    return options;\r\n  }\r\n\r\n//   renderError({ error, touched }) {\r\n//     if (touched && error) {\r\n//       return <Alert variant=\"danger\">{error}</Alert>;\r\n//     }\r\n//   }\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.solveMarket(\r\n      this.props.marketId,\r\n      this.props.bets[0].id,\r\n      formValues.correctBetOption\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n        <Field\r\n          name=\"correctBetOption\"\r\n          label={`Wybierz prawidłową opcję dla zakładu \"${this.props.bets[0].title}\"`}\r\n          options={this.getOptions()}\r\n          component={renderSelectField}\r\n        />\r\n        <Button className=\"form-button\" variant=\"primary\" type=\"submit\">\r\n          {renderButtonContent(this.props.loading,\"Zatwierdź\")}\r\n        </Button>\r\n        {renderInfo(this.props.alert)}\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n\r\n  if (formValues.correctBetOption === 0)\r\n    errors[\"correctBetOption\"] = \"Wybierz prawidłową opcję !\";\r\n  return errors;\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"SolveSingleBetMarketForm\",\r\n  validate,\r\n})(SolveSingleBetMarketForm);\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loading: state.loading.SOLVE_MARKET,\r\n    alert: state.alert,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { solveMarket })(formWrapped);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { solveMarket } from \"../../actions/marketActions\";\r\nimport { renderInfo } from \"../../helpers/InfoComponents\";\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\n\r\nclass SolveMultiBetMarketForm extends React.Component {\r\n  state = {\r\n    correctBetId: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.initialize({ correctBetId: \"0\" });\r\n  }\r\n\r\n  handleCorrectBetId = (e) => {\r\n    this.setState({ correctBetId: e.target.value });\r\n  };\r\n\r\n  // handleSubmit(e) {\r\n  //   e.preventDefault();\r\n  // }\r\n\r\n  getOptions() {\r\n    const options = [\r\n      { val: 0, text: \"Wybierz zakład\", key: 1, selected: \"selected\" },\r\n    ];\r\n    for (let i = 0; i < this.props.bets.length; i++)\r\n      options.push({\r\n        val: this.props.bets[i].id,\r\n        text: this.props.bets[i].title,\r\n        key: i + 1,\r\n      });\r\n    return options;\r\n  }\r\n\r\n  renderSelectField = ({\r\n    input,\r\n    options,\r\n    label,\r\n    type,\r\n    meta: { touched, error },\r\n  }) => {\r\n    return (\r\n      <Form.Group>\r\n        <Form.Label>{label}</Form.Label>\r\n        <Form.Control {...input} as=\"select\">\r\n          {options.map((option) => (\r\n            <option value={option.val} key={option.key}>\r\n              {option.text}\r\n            </option>\r\n          ))}\r\n        </Form.Control>\r\n        {error && touched && <div>{this.renderError({ error, touched })}</div>}\r\n      </Form.Group>\r\n    );\r\n  };\r\n\r\n  renderError({ error, touched }) {\r\n    if (touched && error) {\r\n      return <Alert variant=\"danger\">{error}</Alert>;\r\n    }\r\n  }\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.solveMarket(\r\n      this.props.marketId,\r\n      formValues.correctBetId\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n        <Field\r\n          name=\"correctBetId\"\r\n          label=\"Wybierz prawidłowy zakład\"\r\n          options={this.getOptions()}\r\n          component={this.renderSelectField}\r\n        />\r\n        <Button className=\"form-button\" variant=\"primary\" type=\"submit\">\r\n          {renderButtonContent(this.props.loading, \"Zatwierdź\")}\r\n        </Button>\r\n        {renderInfo(this.props.alert)}\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n\r\n  if (formValues.correctBetId === 0)\r\n    errors[\"correctBetId\"] = \"Wybierz zakład !\";\r\n  return errors;\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"SolveMultiBetMarketForm\",\r\n  validate,\r\n})(SolveMultiBetMarketForm);\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loading: state.loading.SOLVE_MARKET,\r\n    alert: state.alert,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { solveMarket })(formWrapped);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { fetchMarket } from \"../../actions/marketActions\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport BetsList from \"./BetsList\";\r\nimport SolveSingleBetMarketForm from \"./SolveSingleBetMarketForm\";\r\nimport SolveMultiBetMarketForm from \"./SolveMultiBetMarketForm\";\r\nimport BackHeader from \"../BackHeader\";\r\n\r\nclass SolveMarketPage extends React.Component {\r\n  componentDidMount() {\r\n    if (!this.props.currentMarket)\r\n      this.props.fetchMarket(this.props.match.params.id);\r\n  }\r\n\r\n  renderBetsList = () => {\r\n    return (\r\n      <BetsList\r\n        bets={this.props.currentMarket.bets}\r\n        marketId={this.props.match.params.id}\r\n        correctBetId={this.props.currentMarket.correctBetId}\r\n      />\r\n    );\r\n  };\r\n\r\n  renderLoadingMarket() {\r\n    if (\r\n      !this.props.currentMarket &&\r\n      typeof this.props.loadingMarket !== \"undefined\" &&\r\n      this.props.loadingMarket.pending\r\n    ) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <Loader type=\"TailSpin\" color=\"black\" />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderSolveMarketInfo = () => {\r\n    return (\r\n      <div>\r\n        {this.compareDates(this.props.currentMarket.endDate)}\r\n        {this.renderChooseCorrectBetForm()}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  compareDates(endDate) {\r\n    var dateOne = new Date(endDate);\r\n    var dateTwo = new Date();\r\n    if (dateOne > dateTwo) {\r\n      return (\r\n        <div>\r\n          <h4>\r\n            Jeszcze nie nadeszła przewidywana data zakończenia. Na pewno chcesz\r\n            zakończyć rynek ?\r\n          </h4>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <h4>Rynek powinien się już zakończyć</h4>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderMarketPage = () => {\r\n    if (this.props.currentMarket) {\r\n      return (\r\n        <div>\r\n          <BackHeader\r\n            title={`Rozwiąż rynek \"${this.props.currentMarket.topic}\"`}\r\n          />\r\n          <hr className=\"my-4\"></hr>\r\n\r\n          <div>{this.renderSolveMarketInfo()}</div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderChooseCorrectBetForm = () => {\r\n    if (this.props.currentMarket) {\r\n      return (\r\n        <div>\r\n          {this.props.currentMarket.bets.length > 1 ? (\r\n            <SolveMultiBetMarketForm\r\n              bets={this.props.currentMarket.bets}\r\n              marketId={this.props.currentMarket.marketId}\r\n            />\r\n          ) : (\r\n            <SolveSingleBetMarketForm\r\n              bets={this.props.currentMarket.bets}\r\n              marketId={this.props.currentMarket.marketId}\r\n            />\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        <div>\r\n          {this.renderLoadingMarket()}\r\n          {this.renderMarketPage()}\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    loadingMarket: state.loading.FETCH_MARKET,\r\n    currentMarket: state.markets.find(\r\n      (market) => market.marketId.toString() === ownProps.match.params.id\r\n    ),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchMarket })(SolveMarketPage);\r\n","import React from 'react'; \r\nimport {connect} from 'react-redux';\r\nimport {Segment} from 'semantic-ui-react';\r\nimport {Row,Col} from 'react-bootstrap';\r\nimport {fetchBetPrice} from '../../actions/marketActions';\r\nimport Loader from 'react-loader-spinner';\r\n\r\n\r\nclass ContractBet extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.fetchBetPrice(this.props.betId,this.props.contractOption);\r\n    }\r\n    renderLoading= () => {\r\n        if((typeof this.props.loading !== 'undefined') && this.props.loading.pending){\r\n            return (<div>\r\n            <Loader\r\n            type=\"TailSpin\"\r\n            color=\"black\"\r\n            width={50}\r\n            height={50}/>\r\n       </div>)\r\n        }\r\n    }\r\n\r\n    renderPrice = () => {\r\n        if(this.props.betPrice) {\r\n            return <div>{this.props.contractOption ? <h4>Ostatnia cena: {this.props.betPrice.yesPrice}</h4> : <h4>Ostatnia cena: {this.props.betPrice.noPrice}</h4>}</div>;\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return(\r\n            <Segment color={this.props.contractOption ? \"green\" : \"red\"} className=\"mt-3\">\r\n             <Row>  \r\n                 <Col sm={9}>\r\n            <h2 className=\"ui header\">{this.props.title}</h2>\r\n            {this.props.contractOption ? <h4>Kontrakt na tak</h4> : <h4>Kontrakt na nie</h4>}\r\n                </Col>\r\n                <Col sm={3}>\r\n                    {this.renderPrice()}\r\n                    {this.renderLoading()}\r\n                </Col>\r\n            </Row> \r\n            </Segment>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state,ownProps) => {\r\n    return {\r\n        betPrice:state.betPrice[ownProps.betId],\r\n        loading: state.loading.FETCH_BETS_PRICE\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{fetchBetPrice})(ContractBet);","import React from 'react';\r\nimport { Button, Spinner } from 'react-bootstrap';\r\nimport { connect } from 'react-redux';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport {deleteOffer} from '../../actions/contractActions';\r\n\r\nclass Offer extends React.Component {\r\n\r\n    state = {\r\n        submitted:false\r\n    }\r\n\r\n    renderButtonContent = (text) => {\r\n        if (this.state.submitted && (typeof this.props.loading !== 'undefined') && this.props.loading.pending) {\r\n            return (\r\n                <div>\r\n                <Spinner\r\n                as=\"span\"\r\n                animation=\"border\"\r\n                size=\"sm\"\r\n                role=\"status\"\r\n                aria-hidden=\"true\"\r\n                />\r\n                Ładowanie...\r\n                </div>\r\n            )\r\n        }else{\r\n            return text\r\n        }\r\n    }\r\n\r\n    deleteOffer = () => {\r\n        this.props.deleteOffer(this.props.offerId);\r\n    }\r\n\r\n    \r\n\r\n    render(){\r\n        return(\r\n            <tr>\r\n                <td>{this.props.price}</td>\r\n                <td>{this.props.shares}</td>\r\n                <td>{this.props.createdDate}</td>\r\n               {(!this.props.isOwner || window.location.href.includes(\"offers\"))  && <td>{this.props.dealer}</td>} \r\n               {(this.props.isOwner && this.props.user && window.location.href.includes(\"offers\")) && \r\n               <td>\r\n                   <LinkContainer to={`/contracts/details/${this.props.contract}`}>\r\n                        <Button variant=\"primary\">Wyświetl ofertę</Button>\r\n                   </LinkContainer>\r\n               </td>\r\n               }\r\n               {!this.props.isOwner && this.props.user && this.props.user.roles.includes(\"ROLE_PLAYER\") && (<td><Button variant=\"primary\" onClick={() => this.props.onClickShowModal(this.props.shares,this.props.offerId)}>{this.renderButtonContent(\"Kup\")}</Button></td>)}\r\n                {this.props.isOwner && !window.location.href.includes(\"offers\") && (<td><Button onClick={this.deleteOffer} variant=\"danger\">{this.renderButtonContent(\"Usuń\")}</Button></td>)}    \r\n            </tr>\r\n        )\r\n    }\r\n   \r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        loading: state.loading.DELETE_OFFER,\r\n        user: state.login.user,\r\n        alert: state.alert\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{deleteOffer})(Offer);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Table} from 'react-bootstrap';\r\nimport Offer from './Offer';\r\n\r\n\r\nclass OffersList extends React.Component {\r\n\r\n    render() {\r\n \r\n        return(\r\n            <div>\r\n            <Table striped bordered hover>\r\n            <thead>\r\n                <tr>\r\n                <th>Cena akcji [$]</th>\r\n                <th>Liczba akcji</th>\r\n                <th>Data wystawienia</th>\r\n                <th>Czynności</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {this.props.offers.map(offer => <Offer key={offer.id} isOwner={this.props.isOwner} offerId={offer.id} shares={offer.shares} price={offer.price} createdDate={offer.createdDate}/>)}\r\n            </tbody>\r\n            </Table>\r\n       \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect()(OffersList);","import React from \"react\";\r\nimport { Container, Row, Col, Image,Button, Modal } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { fetchContractDetails } from \"../../actions/contractActions\";\r\nimport ContractBet from \"./ContractBet\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport OffersList from \"../Offers/OffersList\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { faSadTear } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\nimport { displayMarketCover } from \"../../helpers/MartketCovers\";\r\nimport BackHeader from \"../BackHeader\";\r\nimport './ContractDetails.scss';\r\n\r\nclass ContractDetails extends React.Component {\r\n  state = {\r\n    showModal: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.fetchContractDetails(this.props.match.params.id);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  renderLoading = () => {\r\n    if (\r\n      !this.props.contract &&\r\n      typeof this.props.loading !== \"undefined\" &&\r\n      this.props.loading.pending\r\n    ) {\r\n      return (\r\n        <Container className=\"text-center bg-light border rounded shadow-container create-market-container\">\r\n          <div className=\"text-center\">\r\n            <Loader type=\"TailSpin\" color=\"black\" />\r\n            <h3>Pobieranie danych kontraktu</h3>\r\n          </div>\r\n        </Container>\r\n      );\r\n    }\r\n  };\r\n\r\n  handleModalClose = () => {\r\n    this.props.clear();\r\n  };\r\n\r\n  renderDeletingLoading = () => {\r\n    return (\r\n      <Modal\r\n        show={\r\n          typeof this.props.deleting !== \"undefined\" &&\r\n          this.props.deleting.pending\r\n        }\r\n      >\r\n        <Modal.Body className=\"text-center\">\r\n          <h3>Usuwanie</h3>\r\n          <Loader type=\"TailSpin\" color=\"black\" />\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n\r\n  renderInfo = () => {\r\n    return (\r\n      <Modal\r\n        show={this.props.alert.type === \"ALERT_DELETING\"}\r\n        onHide={this.handleModalClose}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Nie udało się usunąć oferty</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>{this.props.alert.payload}</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={this.handleModalClose}>\r\n            Zamknij\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    );\r\n  };\r\n\r\n  renderContractStatus = (status) => {\r\n    switch (status.toLowerCase()) {\r\n      case \"pending\":\r\n        return <h5>Oczekujący</h5>;\r\n      case \"won\":\r\n        return <h5>Wygrany</h5>;\r\n      case \"lost\":\r\n        return <h5>Przegrany</h5>;\r\n      default:\r\n        return <h5>Oczekujący</h5>;\r\n    }\r\n  };\r\n\r\n  renderContent = () => {\r\n    if (\r\n      this.props.contract &&\r\n      this.props.user &&\r\n      this.props.contract.playerId === this.props.user.username\r\n    ) {\r\n      return (\r\n        <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n          <BackHeader title={this.props.contract.marketInfo.topic} />\r\n\r\n          <hr className=\"my-4\"></hr>\r\n          <div>\r\n            <ContractBet\r\n              betId={this.props.contract.bet.id}\r\n              contractOption={this.props.contract.contractOption}\r\n              title={this.props.contract.bet.title}\r\n            />\r\n          </div>\r\n          <hr className=\"my-4\"></hr>\r\n          <h4>Szczegóły kontraktu</h4>\r\n          <Row>\r\n            <Col sm={6}>\r\n              <Image\r\n                variant=\"top\"\r\n                src={displayMarketCover(\r\n                  this.props.contract.marketInfo.marketCover,\r\n                  this.props.contract.marketInfo.marketCategory\r\n                )}\r\n                className=\"contract-cover\"\r\n              />\r\n            </Col>\r\n            <Col sm={6}>\r\n              <div>\r\n                <h4>Liczba akcji</h4>\r\n                <h4>\r\n                  {this.props.contract.shares > 0 ? (\r\n                    <span>{this.props.contract.shares}</span>\r\n                  ) : (\r\n                    <span>Wszystkie akcje w sprzedaży</span>\r\n                  )}\r\n                </h4>\r\n              </div>\r\n              <hr className=\"my-4\"></hr>\r\n              <div>\r\n                <h4>Status kontraktu</h4>\r\n                {this.renderContractStatus(this.props.contract.contractStatus)}\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n\r\n          {this.props.contract.contractStatus === \"PENDING\" ? (\r\n            <div className=\"mt-3\">\r\n              <h4>Oferty</h4>\r\n              <hr className=\"my-4\"></hr>\r\n              <div>\r\n                {this.renderOffers()}\r\n                {this.props.contract && (\r\n                  <div className=\"button-container\">\r\n                    {this.props.contract.shares > 0 && (\r\n                      <LinkContainer\r\n                        className=\"mr-3\"\r\n                        to={`/offers/new/${this.props.match.params.id}`}\r\n                      >\r\n                        <Button variant=\"primary\">Dodaj ofertę</Button>\r\n                      </LinkContainer>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                <LinkContainer\r\n                  to={`/markets/details/${this.props.contract.bet.marketId}`}\r\n                >\r\n                  <Button variant=\"primary\">Wyświetl rynek</Button>\r\n                </LinkContainer>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <LinkContainer\r\n              className=\"mt-3\"\r\n              to={`/markets/details/${this.props.contract.bet.marketId}`}\r\n            >\r\n              <Button variant=\"primary\">Wyświetl rynek</Button>\r\n            </LinkContainer>\r\n          )}\r\n        </Container>\r\n      );\r\n    }\r\n  };\r\n  renderOffers = () => {\r\n    return (\r\n      <div>\r\n        {this.props.contract.offers ? (\r\n          <div>\r\n            <OffersList offers={this.props.contract.offers} isOwner={true} />\r\n          </div>\r\n        ) : (\r\n          <div className=\"text-center\">\r\n            <FontAwesomeIcon icon={faSadTear} size={\"5x\"} />\r\n            <h4>Brak ofert</h4>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderNotFoundMessage = () => {\r\n    if (\r\n      !this.props.contract &&\r\n      typeof this.props.loading !== \"undefined\" &&\r\n      !this.props.loading.pending\r\n    ) {\r\n      return (\r\n        <Container className=\"text-center bg-light border rounded shadow-container create-market-container\">\r\n          <FontAwesomeIcon icon={faSadTear} size={\"6x\"} />\r\n          <h3>{this.props.alert.payload}</h3>\r\n        </Container>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderLoading()}\r\n        {this.renderContent()}\r\n        {this.renderInfo()}\r\n        {this.renderDeletingLoading()}\r\n        {this.renderNotFoundMessage()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    loading: state.loading.FETCH_CONTRACT_DETAILS,\r\n    deleting: state.loading.DELETE_OFFER,\r\n    alert: state.alert,\r\n    contract: state.contracts.find(\r\n      (contract) => contract.id.toString() === ownProps.match.params.id\r\n    ),\r\n    user: state.login.user,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchContractDetails,\r\n  clear: alertActions.clear,\r\n})(ContractDetails);\r\n","export const filterContractConstants = {\r\n    UPDATE_FILTERS:'UPDATE_FILTERS',\r\n    CLEAR_FILTERS:'CLEAR_FILTERS',\r\n    UPDATE_CURRENT_CONTRACTS_PAGE:'UPDATE_CURRENT_CONTRACTS_PAGE',\r\n    SET_STATUS_PENDING:'SET_STATUS_PENDING'\r\n}","import { filterContractConstants } from \"../constants/filterContractConstants\";\r\n\r\nexport const updateContractFilters = (filters) => {\r\n  return {\r\n    type: filterContractConstants.UPDATE_FILTERS,\r\n    payload: filters,\r\n  };\r\n};\r\n\r\nexport const changeContractPage = (page) => {\r\n  return {\r\n    type: filterContractConstants.UPDATE_CURRENT_CONTRACTS_PAGE,\r\n    payload: page,\r\n  };\r\n};\r\n\r\nexport const clearFilters = () => {\r\n  return {\r\n    type: filterContractConstants.CLEAR_FILTERS,\r\n  };\r\n};\r\n\r\nexport const setStatusPending = () => {\r\n  return {\r\n    type: filterContractConstants.SET_STATUS_PENDING,\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { Form, Button } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  updateContractFilters,\r\n  clearFilters,\r\n} from \"../../actions/filterContractActions\";\r\nimport { renderCategoryFilter } from \"../../helpers/MarketCategories\";\r\n\r\nclass ContractFilter extends React.Component {\r\n  state = {\r\n    selectedCategories: [],\r\n    marketTitle: \"\",\r\n    betTitle: \"\",\r\n    page: 0,\r\n    contractStatus: \"\",\r\n    pageSize: 10,\r\n    contractOption: 0,\r\n    sortedBy: [\"modifiedDate\", \"desc\"],\r\n  };\r\n\r\n  handleContractOption = (e) => {\r\n    this.setState({ contractOption: e.target.value });\r\n  };\r\n\r\n  handleSortOption = (e) => {\r\n    this.setState({ sortedBy: e.target.value.split(\",\") });\r\n  };\r\n\r\n  renderContractOptionFilter = () => {\r\n    return (\r\n      <div>\r\n        <h4>Opcja kontraktu</h4>\r\n        <Form.Control as=\"select\" onChange={this.handleContractOption}>\r\n          <option value={0}>Wszystkie kontrakty</option>\r\n          <option value={1}>Kontrakty na tak</option>\r\n          <option value={2}>Kontrakty na nie</option>\r\n        </Form.Control>\r\n        <hr className=\"my-4\"></hr>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderMarketTitleFilter = () => {\r\n    return (\r\n      <div>\r\n        <h4>Tytuł rynku</h4>\r\n        <Form.Group>\r\n          <Form.Control\r\n            onChange={this.handleMarketTitleChange}\r\n            type=\"text\"\r\n            placeholder=\"Tytuł rynku\"\r\n          />\r\n        </Form.Group>\r\n        <hr className=\"my-4\"></hr>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderContractStatusFilter = () => {\r\n    return (\r\n      <div>\r\n        <h4>Status kontraktu</h4>\r\n        <Form.Control as=\"select\" onChange={this.handleContractStatus}>\r\n          <option value={\"\"}>Wszystkie</option>\r\n          <option value={\"PENDING\"}>Trwające</option>\r\n          <option value={\"WON\"}>Wygrane</option>\r\n          <option value={\"LOST\"}>Przegrane</option>\r\n        </Form.Control>\r\n        <hr className=\"my-4\"></hr>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderBetTitleFilter = () => {\r\n    return (\r\n      <div>\r\n        <h4>Tytuł zakładu</h4>\r\n        <Form.Group>\r\n          <Form.Control\r\n            onChange={this.handleBetTitleChange}\r\n            type=\"text\"\r\n            placeholder=\"Tytuł zakładu\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <hr className=\"my-4\"></hr>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderSortFilter = () => {\r\n    return (\r\n      <div>\r\n        <h4>Sortuj według</h4>\r\n        <Form.Control as=\"select\" onChange={this.handleSortOption}>\r\n          <option value={\"modifiedDate,desc\"}>Od najnowszych</option>\r\n          <option value={\"modifiedDate,asc\"}>Od najstarszych</option>\r\n        </Form.Control>\r\n        <hr className=\"my-4\"></hr>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  handleCategory = (e) => {\r\n    if (this.state.selectedCategories.includes(e.target.value)) {\r\n      this.setState({\r\n        selectedCategories: this.state.selectedCategories.filter(\r\n          (category) => category !== e.target.value\r\n        ),\r\n      });\r\n    } else {\r\n      this.setState({\r\n        selectedCategories: [...this.state.selectedCategories, e.target.value],\r\n      });\r\n    }\r\n  };\r\n\r\n  handleMarketTitleChange = (e) => {\r\n    this.setState({ marketTitle: e.target.value });\r\n  };\r\n\r\n  handleContractStatus = (e) => {\r\n    this.setState({ contractStatus: e.target.value });\r\n  };\r\n\r\n  handleBetTitleChange = (e) => {\r\n    this.setState({ betTitle: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.updateContractFilters(this.state);\r\n  };\r\n\r\n  resetFilters = () => {\r\n    this.setState({\r\n      selectedCategories: [],\r\n      marketTitle: \"\",\r\n      betTitle: \"\",\r\n      page: 0,\r\n      contractStatus: \"PENDING\",\r\n      pageSize: 10,\r\n      contractOption: 0,\r\n      sortedBy: [\"modifiedDate\", \"desc\"],\r\n    });\r\n    this.props.clearFilters();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Form>\r\n        {!this.props.offerPage && this.renderContractStatusFilter()}\r\n        {this.renderMarketTitleFilter()}\r\n        {this.renderBetTitleFilter()}\r\n        {this.renderSortFilter()}\r\n        {this.renderContractOptionFilter()}\r\n        {renderCategoryFilter(this.handleCategory)}\r\n        <hr className=\"my-4\"></hr>\r\n        <Button onClick={this.handleSubmit} variant=\"dark\">\r\n          Zatwierdź\r\n        </Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { updateContractFilters, clearFilters })(\r\n  ContractFilter\r\n);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Row } from \"react-bootstrap\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport { Image, Card, Icon } from \"semantic-ui-react\";\r\nimport { displayMarketCover } from \"../../helpers/MartketCovers\";\r\nimport './Contract.scss'\r\n\r\nclass Contract extends React.Component {\r\n  state = {\r\n    borderColor: \"black\",\r\n    status: \"\",\r\n    iconName: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    switch (this.props.contractStatus.toLowerCase()) {\r\n      case \"pending\":\r\n        this.setState({\r\n          borderColor: \"black\",\r\n          status: \"Oczekujący\",\r\n          iconName: \"clock\",\r\n        });\r\n        break;\r\n      case \"won\":\r\n        this.setState({\r\n          borderColor: \"green\",\r\n          status: \"Wygrany\",\r\n          iconName: \"trophy\",\r\n        });\r\n        break;\r\n      case \"lost\":\r\n        this.setState({\r\n          borderColor: \"red\",\r\n          status: \"Przegrany\",\r\n          iconName: \"close\",\r\n        });\r\n        break;\r\n      default:\r\n        this.setState({\r\n          borderColor: \"black\",\r\n          status: \"Oczekujący\",\r\n          iconName: \"clock\",\r\n        });\r\n    }\r\n  }\r\n\r\n  renderLoading = () => {\r\n    if (!this.props.market)\r\n      return (\r\n        <Row className=\"text-center no-gutters\">\r\n          <Loader type=\"TailSpin\" color=\"black\" />\r\n        </Row>\r\n      );\r\n  };\r\n\r\n  renderCardBorder = (status) => {\r\n    switch (status.toLowerCase()) {\r\n      case \"pending\":\r\n        return \"black\";\r\n      case \"won\":\r\n        return \"green\";\r\n      case \"lost\":\r\n        return \"red\";\r\n      default:\r\n        return \"black\";\r\n    }\r\n  };\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Card fluid color={this.state.borderColor}>\r\n        <LinkContainer to={`/contracts/details/${this.props.id}`}>\r\n          <Image\r\n            className=\"contract-cover\"\r\n            src={displayMarketCover( this.props.marketInfo.marketCover, this.props.marketInfo.marketCategory)}\r\n          />\r\n        </LinkContainer>\r\n        <Card.Content>\r\n          <Card.Header>{this.props.bet.title}</Card.Header>\r\n          {this.props.contractOption ? (\r\n            <Card.Header>Kontrakt na tak</Card.Header>\r\n          ) : (\r\n            <Card.Header>Kontrakt na nie</Card.Header>\r\n          )}\r\n          <Card.Meta>{this.props.marketInfo.topic}</Card.Meta>\r\n        </Card.Content>\r\n        <Card.Content extra>\r\n          <span>\r\n            <Icon name=\"money bill alternate outline\" />\r\n            {this.props.shares > 0 ? (\r\n              <span>Liczba akcji: {this.props.shares}</span>\r\n            ) : (\r\n              <span>Wszystkie akcje w sprzedaży</span>\r\n            )}\r\n          </span>\r\n        </Card.Content>\r\n        {this.props.contractStatus === \"PENDING\" && (\r\n          <Card.Content extra>\r\n            <span>\r\n              <Icon name=\"sellsy\" />\r\n              {this.props.offersSize}\r\n            </span>\r\n          </Card.Content>\r\n        )}\r\n        <Card.Content extra>\r\n          <span>\r\n            <Icon name={this.state.iconName} />\r\n            {this.state.status}\r\n          </span>\r\n        </Card.Content>\r\n      </Card>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null)(Contract);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Row, Col } from \"react-bootstrap\";\r\nimport {\r\n  fetchContracts,\r\n  fetchFilteredContracts,\r\n} from \"../../actions/contractActions\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faSadTear,\r\n  faExclamationCircle,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Contract from \"./Contract\";\r\nimport PaginationBar from \"../Markets/PaginationBar\";\r\nimport {\r\n  changeContractPage,\r\n  clearFilters,\r\n  setStatusPending,\r\n} from \"../../actions/filterContractActions\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\n\r\nclass ContractList extends React.Component {\r\n  componentDidMount() {\r\n    this.fetchContracts();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n    this.props.clearFilters();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (\r\n      !(JSON.stringify(this.props.filter) === JSON.stringify(prevProps.filter))\r\n    ) {\r\n      this.fetchContracts();\r\n    }\r\n  }\r\n\r\n  fetchContracts() {\r\n    if (this.props.offerPage) {\r\n      this.props.fetchFilteredContracts(\r\n        \"PENDING\",\r\n        this.props.filter.contractOption,\r\n        this.props.filter.betTitle,\r\n        this.props.filter.marketTitle,\r\n        this.props.filter.selectedCategories,\r\n        this.props.filter.sortedBy,\r\n        this.props.filter.page,\r\n        this.props.filter.pageSize\r\n      );\r\n    } else {\r\n      this.props.fetchFilteredContracts(\r\n        this.props.filter.contractStatus,\r\n        this.props.filter.contractOption,\r\n        this.props.filter.betTitle,\r\n        this.props.filter.marketTitle,\r\n        this.props.filter.selectedCategories,\r\n        this.props.filter.sortedBy,\r\n        this.props.filter.page,\r\n        this.props.filter.pageSize\r\n      );\r\n    }\r\n  }\r\n\r\n  renderNotFoundMessage() {\r\n    return (\r\n      <div className=\"text-center\">\r\n        <FontAwesomeIcon icon={faSadTear} size={\"6x\"} />\r\n        <h3>Nie znaleziono żadnych kontraktów</h3>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderInfo() {\r\n    if (\r\n      this.props.alert.payload\r\n    ) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <FontAwesomeIcon icon={faExclamationCircle} size={\"6x\"} />\r\n          <h3>{this.props.alert.payload}</h3>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  returnObjectSize = (obj) => {\r\n    var size = 0,\r\n      key;\r\n    for (key in obj) {\r\n      if (obj.hasOwnProperty(key)) size++;\r\n    }\r\n    return size;\r\n  };\r\n\r\n  renderContractList() {\r\n    if (this.props.contracts.length > 0) {\r\n      return (\r\n        <Row style={{ width: \"100%\", margin: \"0 auto\" }}>\r\n          {this.props.contracts.map((contract) => (\r\n            <Col\r\n              xs={12}\r\n              md={6}\r\n              className=\"d-flex align-items-stretch\"\r\n              key={contract.id}\r\n              style={{ margin: \"10px 0\" }}\r\n            >\r\n              <Contract\r\n                id={contract.id}\r\n                offersSize={\r\n                  contract.offers !== null\r\n                    ? `Liczba ofert: ${contract.offers.length}`\r\n                    : \"Brak ofert\"\r\n                }\r\n                bet={contract.bet}\r\n                contractStatus={contract.contractStatus}\r\n                marketInfo={contract.marketInfo}\r\n                price={contract.price}\r\n                shares={contract.shares}\r\n                contractOption={contract.contractOption}\r\n                betId={contract.betId}\r\n              />\r\n            </Col>\r\n          ))}\r\n        </Row>\r\n      );\r\n    } else if (!this.props.alert.payload) {\r\n      return <div>{this.renderNotFoundMessage()}</div>;\r\n    }\r\n  }\r\n\r\n  renderContent = () => {\r\n    if (\r\n      typeof this.props.loading !== \"undefined\" &&\r\n      this.props.loading.pending\r\n    ) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <Loader type=\"TailSpin\" color=\"black\" />\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          {this.renderInfo()}\r\n          {this.renderContractList()}\r\n          <div>\r\n            <PaginationBar\r\n              paginationInfo={this.props.paginationInfo}\r\n              changePage={changeContractPage}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.renderContent()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    contracts: Object.values(state.contracts),\r\n    loading: state.loading.FETCH_CONTRACTS,\r\n    filter: state.filterContracts,\r\n    paginationInfo: state.pagination.paginationContractInfo,\r\n    alert: state.alert,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchContracts,\r\n  fetchFilteredContracts,\r\n  clear: alertActions.clear,\r\n  clearFilters,\r\n  setStatusPending,\r\n})(ContractList);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Tab, Row, Col, Container } from \"react-bootstrap\";\r\nimport ContractFilter from \"./ContractFilter\";\r\nimport ContractList from \"./ContractList\";\r\nimport BackHeader from \"../BackHeader\";\r\n\r\nclass ContractPage extends React.Component {\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container\">\r\n        <BackHeader title=\"Twoje kontrakty\" />\r\n        <hr className=\"my-4\"></hr>\r\n        <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"first\">\r\n          <Row>\r\n            <Col sm={12} md={3}>\r\n              <ContractFilter />\r\n            </Col>\r\n            <Col sm={12} md={9}>\r\n              <ContractList />\r\n            </Col>\r\n          </Row>\r\n        </Tab.Container>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect()(ContractPage);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { Container, Form, Button } from \"react-bootstrap\";\r\nimport { renderInput } from \"../../helpers/FormInputs\";\r\nimport { renderInfo } from \"../../helpers/InfoComponents\";\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\nimport { editPassword } from \"../../actions/loginActions\";\r\nimport BackHeader from \"../BackHeader\";\r\n\r\nclass EditPasswordPage extends React.Component {\r\n  state = {\r\n    resetButtonDisable: true,\r\n  };\r\n\r\n  onSubmit = (formValues) => {\r\n    this.props.editPassword(formValues);\r\n  };\r\n\r\n  resetForm = () => {\r\n    this.setState({ resetButtonDisable: true });\r\n    this.props.reset();\r\n  };\r\n\r\n  checkIsEmptyField = (e) => {\r\n    e.target.value\r\n      ? this.setState({ resetButtonDisable: false })\r\n      : this.setState({ resetButtonDisable: true });\r\n  };\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container profile-container\">\r\n        <BackHeader title=\"Zmiana hasła\" />\r\n        <hr className=\"my-4\"></hr>\r\n        <Form onSubmit={this.props.handleSubmit(this.onSubmit)}>\r\n          <Field\r\n            onChange={this.checkIsEmptyField}\r\n            type=\"password\"\r\n            label=\"Stare hasło\"\r\n            name=\"oldPassword\"\r\n            component={renderInput}\r\n            placeholder=\"Wprowadź stare hasło\"\r\n          ></Field>\r\n          <Field\r\n            onChange={this.checkIsEmptyField}\r\n            type=\"password\"\r\n            label=\"Nowe hasło\"\r\n            name=\"newPassword\"\r\n            component={renderInput}\r\n            placeholder=\"Wprowadź nowe hasło\"\r\n          ></Field>\r\n          <Field\r\n            onChange={this.checkIsEmptyField}\r\n            type=\"password\"\r\n            label=\"Powtórz nowe hasło\"\r\n            name=\"repeatedNewPassword\"\r\n            component={renderInput}\r\n            placeholder=\"Powtórz nowe hasło\"\r\n          ></Field>\r\n          <Button\r\n            id=\"submitNewPassword\"\r\n            className=\"form-button\"\r\n            variant=\"primary\"\r\n            type=\"submit\"\r\n          >\r\n            {renderButtonContent(this.props.loading, \"Zatwierdź\")}\r\n          </Button>\r\n          <Button\r\n            className=\"form-button\"\r\n            variant=\"primary\"\r\n            type=\"reset\"\r\n            onClick={this.resetForm}\r\n            disabled={this.state.resetButtonDisable}\r\n          >\r\n            Cofnij zmiany\r\n          </Button>\r\n        </Form>\r\n        {renderInfo(this.props.alert)}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = (formValues) => {\r\n  const errors = {};\r\n  const requiredFields = [\"oldPassword\", \"newPassword\", \"repeatedNewPassword\"];\r\n  requiredFields.forEach((field) => {\r\n    if (!formValues[field]) {\r\n      errors[field] = \"To pole jest wymagane\";\r\n    }\r\n  });\r\n\r\n  if (formValues.newPassword !== formValues.repeatNewPassword) {\r\n    errors.repeatNewPassword = \"Podane hasła są różne\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    alert: state.alert,\r\n    loading: state.loading.EDIT_PASSWORD,\r\n  };\r\n};\r\n\r\nconst formWrapped = reduxForm({\r\n  form: \"editPasswordForm\",\r\n  validate,\r\n})(EditPasswordPage);\r\n\r\nexport default connect(mapStateToProps, { editPassword })(formWrapped);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Form, Spinner, Button } from \"react-bootstrap\";\r\nimport { fetchContractDetails, addOffer } from \"../../actions/contractActions\";\r\nimport BackHeader from \"../BackHeader\";\r\nimport { renderInfo } from \"../../helpers/InfoComponents\";\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\n\r\nclass AddOfferPage extends React.Component {\r\n  state = {\r\n    price: 0.5,\r\n    shares: 1,\r\n    info: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.props.fetchContractDetails(this.props.match.params.id);\r\n  }\r\n\r\n  onChangeprice = (e) => {\r\n    this.setState({ price: e.target.value });\r\n  };\r\n\r\n  onChangeshares = (e) => {\r\n    this.setState({ shares: e.target.value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    if (this.state.shares > 0 && this.state.price) {\r\n      this.props.addOffer(\r\n        this.props.match.params.id,\r\n        this.state.shares,\r\n        this.state.price\r\n      );\r\n    } else {\r\n      this.setState({\r\n        info:\r\n          \"Wprowadziłeś błędne dane, podane wartości muszą być większe od zera !\",\r\n      });\r\n    }\r\n  };\r\n\r\n  renderAddOfferForm() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        <BackHeader title=\"Dodaj nową ofertę\" />\r\n        <hr className=\"my-4\"></hr>\r\n        <Form>\r\n          <Form.Group controlId=\"formBasicRange\">\r\n            <Form.Label>\r\n              <h4>Cena sprzedaży</h4>\r\n            </Form.Label>\r\n            <p className=\"text-muted\">\r\n              Wybierz cenę z zakresu od 0 do 1 $ (Przesuń pasek lub wpisz\r\n              ręcznie)\r\n            </p>\r\n            <Form.Control\r\n              min={0.01}\r\n              max={1}\r\n              step={0.01}\r\n              type=\"range\"\r\n              value={this.state.price}\r\n              onChange={this.onChangeprice}\r\n            />\r\n            <Form.Control\r\n              min={0.01}\r\n              max={1}\r\n              step={0.01}\r\n              type=\"number\"\r\n              value={this.state.price}\r\n              onChange={this.onChangeprice}\r\n            />\r\n            <Form.Label className=\"mt-3\">\r\n              <h4>Liczba akcji</h4>\r\n            </Form.Label>\r\n            <p className=\"text-muted\">\r\n              Wybierz liczbę akcji którą chcesz wystawić na sprzedaży\r\n            </p>\r\n            <Form.Control\r\n              min={1}\r\n              max={this.props.contract.shares}\r\n              step={1}\r\n              type=\"range\"\r\n              value={this.state.shares}\r\n              onChange={this.onChangeshares}\r\n            />\r\n            <Form.Control\r\n              min={1}\r\n              max={this.props.contract.shares}\r\n              step={1}\r\n              type=\"number\"\r\n              value={this.state.shares}\r\n              onChange={this.onChangeshares}\r\n            />\r\n            <div>\r\n              <Button\r\n                variant=\"primary\"\r\n                onClick={this.handleSubmit}\r\n                className=\"mt-3\"\r\n              >\r\n                {renderButtonContent(this.props.loading, \"Dodaj ofertę\")}\r\n              </Button>\r\n            </div>\r\n          </Form.Group>\r\n          {renderInfo(this.state.info)}\r\n        </Form>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  renderLoadingContainer = () => {\r\n    return (\r\n      <Container className=\"text-center bg-light border rounded shadow-container create-market-container\">\r\n        <Spinner\r\n          as=\"span\"\r\n          animation=\"border\"\r\n          size=\"sm\"\r\n          role=\"status\"\r\n          aria-hidden=\"true\"\r\n        />\r\n        <h3>Pobieranie oferty</h3>\r\n      </Container>\r\n    );\r\n  };\r\n\r\n  renderErrorInfo = () => {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        <header>\r\n          <h4>\r\n            Nie możesz wystawić oferty, ponieważ wszystkie akcje z tego\r\n            kontraktu sa wystawione na sprzedaż\r\n          </h4>\r\n          <hr className=\"my-4\"></hr>\r\n        </header>\r\n      </Container>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    if (this.props.contract && this.props.contract.shares > 0) {\r\n      return <div>{this.renderAddOfferForm()}</div>;\r\n    } else if (\r\n      typeof this.props.loadingContract !== \"undefined\" &&\r\n      this.props.loadingContract.pending\r\n    ) {\r\n      return <div>{this.renderLoadingContainer()}</div>;\r\n    }\r\n    return <div>{this.renderErrorInfo()}</div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    loading: state.loading.ADD_OFFER,\r\n    loadingContract: state.loading.FETCH_CONTRACT_DETAILS,\r\n    alert: state.alert,\r\n    contract: state.contracts.find(\r\n      (contract) => contract.id.toString() === ownProps.match.params.id\r\n    ),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { addOffer, fetchContractDetails })(\r\n  AddOfferPage\r\n);\r\n","import authHeader from \"../helpers/authHeader\";\r\nimport { baseURL } from \"../api/baseURL\";\r\nimport { handleResponse, handleBuying } from \"../helpers/HandleResponse\";\r\n\r\nconst fetchOffers = (betId, option, page, size) => {\r\n  const reqOptions = {\r\n    method: \"GET\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/offers?betId=${betId}&option=${option}&page=${page}&size=${size}`,\r\n    reqOptions\r\n  ).then((res) => handleResponse(res));\r\n};\r\n\r\nconst buyShares = (offerId, shares) => {\r\n  const reqOption = {\r\n    method: \"POST\",\r\n    headers: authHeader(),\r\n  };\r\n\r\n  return fetch(\r\n    `${baseURL}/offers/buy?offerId=${offerId}&shares=${shares}`,\r\n    reqOption\r\n  ).then((res) => handleBuying(res));\r\n};\r\n\r\nexport const offerService = {\r\n  fetchOffers,\r\n  buyShares,\r\n};\r\n","export const offerConstants = {\r\n    FETCH_OFFERS_REQUEST:'FETCH_OFFERS_REQUEST',\r\n    FETCH_OFFERS_SUCCESS:'FETCH_OFFERS_SUCCESS',\r\n    FETCH_OFFERS_FAILURE:'FETCH_OFFERS_FAILURE',\r\n    BUY_SHARES_REQUEST:'BUY_SHARES_REQUEST',\r\n    BUY_SHARES_SUCCESS:'BUY_SHARES_SUCCESS',\r\n    BUY_SHARES_FAILURE:'BUY_SHARES_FAILURE'\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Button, Form } from \"react-bootstrap\";\r\nimport { buyShares } from \"../../actions/offerActions\";\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\nimport { renderInfo } from \"../../helpers/InfoComponents\";\r\n\r\nclass BuyOfferModal extends React.Component {\r\n  state = {\r\n    shares: 1\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.buyShares(this.props.id, this.state.shares);\r\n  };\r\n\r\n  onChangeShares = (e) => {\r\n    this.setState({ shares: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        show={this.props.showModalForm}\r\n        onHide={this.props.handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Zakup akcji</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form onSubmit={this.handleSubmit}>\r\n            <Form.Group controlId=\"formBasicRange\">\r\n              <Form.Label>\r\n                <h4>Liczba akcji</h4>\r\n              </Form.Label>\r\n              <p className=\"text-muted\">Wprowadź ile akcji chcesz kupić</p>\r\n              <Form.Control\r\n                min={1}\r\n                step=\"1\"\r\n                max={this.props.maxValue}\r\n                value={this.state.shares}\r\n                onChange={this.onChangeShares}\r\n                type=\"number\"\r\n              />\r\n              <hr className=\"my-4\"></hr>\r\n              <div className=\"mt-3\">\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"primary\"\r\n                  className=\"mr-3\"\r\n                >\r\n                  {renderButtonContent(this.props.loading,\"Zakup akcje\")}\r\n                </Button>\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  onClick={() => this.props.handleClose()}\r\n                >\r\n                  Zamknij\r\n                </Button>\r\n              </div>\r\n            </Form.Group>\r\n            {renderInfo(this.props.alert)}\r\n          </Form>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loading: state.loading.BUY_CONTRACT,\r\n    alert: state.alert,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { buyShares })(BuyOfferModal);\r\n","import { offerService } from \"../services/offerService\";\r\nimport { offerConstants } from \"../constants/offerConstants\";\r\nimport { alertActions } from \"./alertActions\";\r\nimport { playerConstants } from \"../constants/playerConstants\";\r\nimport { contractConstants } from \"../constants/contractConstants\";\r\nimport { updateOfferPagination } from \"./paginationActions\";\r\nimport history from \"../history\";\r\nimport _ from \"lodash\";\r\n\r\nexport const fetchOffers = (betId, option, page, size) => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    offerService.fetchOffers(betId, option, page, size).then(\r\n      (bets) => {\r\n        dispatch(success(bets.content));\r\n        dispatch(updateOfferPagination(_.omit(bets, [\"content\"])));\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: offerConstants.FETCH_OFFERS_REQUEST };\r\n  }\r\n  function success(markets) {\r\n    return { type: offerConstants.FETCH_OFFERS_SUCCESS, payload: markets };\r\n  }\r\n  function failure() {\r\n    return { type: offerConstants.FETCH_OFFERS_FAILURE };\r\n  }\r\n};\r\n\r\nexport const buyShares = (offerId, shares) => {\r\n  return (dispatch) => {\r\n    dispatch(request({ offerId }));\r\n    offerService.buyShares(offerId, shares).then(\r\n      (res) => {\r\n        dispatch(success(res.boughtContract));\r\n        dispatch(fetchUser(res.purchaser));\r\n        history.push(\"/contracts\");\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.buyingError(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request(market) {\r\n    return { type: contractConstants.BUY_CONTRACT_REQUEST, payload: market };\r\n  }\r\n  function fetchUser(payload) {\r\n    return { type: playerConstants.FETCH_PLAYER_SUCCESS, payload };\r\n  }\r\n  function success(market) {\r\n    return { type: contractConstants.BUY_CONTRACT_SUCCESS, payload: market };\r\n  }\r\n  function failure() {\r\n    return { type: contractConstants.BUY_CONTRACT_FAILURE };\r\n  }\r\n};\r\n","export const filterOffersConstants = {\r\n    UPDATE_CURRENT_OFFER_PAGE:'UPDATE_CURRENT_OFFER_PAGE',\r\n    CHANGE_OFFER_PAGE_SIZE:'CHANGE_OFFER_PAGE_SIZE'\r\n}","import { filterOffersConstants } from \"../constants/filterOffersConstants\";\r\n\r\nexport const changePage = (page) => {\r\n  return {\r\n    type: filterOffersConstants.UPDATE_CURRENT_OFFER_PAGE,\r\n    payload: page,\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { Container, Table } from 'react-bootstrap';\r\nimport {connect} from 'react-redux';\r\nimport {fetchOffers} from '../../actions/offerActions';\r\nimport BuyOfferModal from './BuyOfferModal';\r\nimport PaginationBar from '../Markets/PaginationBar';\r\nimport {updateOfferPagination} from '../../actions/paginationActions';\r\nimport Offer from './Offer';\r\nimport {changePage} from '../../actions/filterOfferActions';\r\nimport BackHeader from '../BackHeader';\r\nimport {alertActions} from '../../actions/alertActions';\r\nimport Loader from 'react-loader-spinner';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faExclamationCircle} from '@fortawesome/free-solid-svg-icons';\r\nimport _ from 'lodash';\r\n\r\nclass BetOffers extends React.Component {\r\n\r\n    state = {\r\n        showModalForm:false,\r\n        maxValue:1000,\r\n        id:0\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchOffers(this.props.match.params.id,this.props.match.params.option,this.props.filter.page,this.props.filter.pageSize);\r\n    }\r\n\r\n    componentDidUpdate(prevProps,prevState) {\r\n        if(!(JSON.stringify(this.props.filter)===JSON.stringify(prevProps.filter))){\r\n            this.props.fetchOffers(this.props.match.params.id,this.props.match.params.option,this.props.filter.page,this.props.filter.pageSize);\r\n        }\r\n        \r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.clear()\r\n    }\r\n\r\n    handleClose = () => {\r\n        this.setState({showModalForm:false})\r\n        this.props.clear();\r\n    }\r\n\r\n    handleShow = (maxValue,id) => {\r\n        this.setState({showModalForm:true,maxValue,id});\r\n    }\r\n\r\n    renderLoading(){\r\n        if(typeof(this.props.loading) !== \"undefined\" && this.props.loading.pending){\r\n            return(\r\n                <div className=\"text-center\">\r\n                <Loader\r\n                     type=\"TailSpin\"\r\n                     color=\"black\"\r\n                />\r\n                </div>\r\n                )\r\n        }\r\n    }\r\n\r\n    renderFailedToFetch() {\r\n        if(this.props.alert.payload && this.props.alert.type !== \"ALERT_BUYING\") {\r\n           return <div className=\"text-center\">\r\n            <FontAwesomeIcon icon={faExclamationCircle} size={\"6x\"}/>\r\n            <h3>{this.props.alert.payload}</h3>\r\n            </div>\r\n        }\r\n    }\r\n\r\n    renderContent() {\r\n        if(this.props.offers && typeof(this.props.loading) !== \"undefined\" && !this.props.loading.pending) {\r\n        return(\r\n            <div>\r\n                  <div className=\"table-responsive\">\r\n                    {this.props.offers && (\r\n                        <Table striped bordered hover>\r\n                        <thead>\r\n                            <tr>\r\n                            <th>Cena akcji [$]</th>\r\n                            <th>Liczba akcji</th>\r\n                            <th>Data wystawienia</th>\r\n                            <th>Sprzedawca</th>\r\n                            {!_.isEmpty(this.props.player) && (<th>Czynności</th>)}\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {this.props.offers.map(offer => <Offer key={offer.id} isOwner={this.props.user && this.props.user.username === offer.dealer} user={offer.user} dealer={offer.dealer ? offer.dealer : \"Organizator rynku\"} onClickShowModal={this.handleShow} offerId={offer.id} shares={offer.shares} price={offer.price} createdDate={offer.createdDate} contract={offer.contractId}/>)}\r\n                        </tbody>\r\n                        </Table>\r\n                    )}\r\n                 </div>\r\n                <PaginationBar paginationInfo={this.props.pagination} changePage={changePage}/>\r\n            </div>\r\n        )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n                <BackHeader title=\"Oferty\" />\r\n                <hr className=\"my-4\"></hr>\r\n                {this.renderLoading()}\r\n                {this.renderContent()}\r\n                {this.renderFailedToFetch()}\r\n               <BuyOfferModal id={this.state.id} maxValue={this.state.maxValue} handleClose={this.handleClose} showModalForm={this.state.showModalForm} />\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        offers: state.offers,\r\n        pagination: state.pagination.offersPagination,\r\n        filter: state.filterOffers,\r\n        user: state.login.user,\r\n        player: state.player,\r\n        loading: state.loading.FETCH_OFFERS,\r\n        alert: state.alert\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{fetchOffers,updateOfferPagination,clear:alertActions.clear})(BetOffers)","export const rankingConstants = {\r\n    FETCH_RANKING_REQUEST:'FETCH_RANKING_REQUEST',\r\n    FETCH_RANKING_SUCCESS:'FETCH_RANKING_SUCCESS',\r\n    FETCH_RANKING_FAILURE:'FETCH_RANKING_FAILURE'\r\n}","import React from \"react\";\r\nimport { Container, Table, Spinner } from \"react-bootstrap\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchRanking } from \"../../actions/rankingActions\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTrophy } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\nimport BackHeader from \"../BackHeader\";\r\n\r\nclass Ranking extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchRanking();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  renderLoading = () => {\r\n    if (\r\n      typeof this.props.loading !== \"undefined\" &&\r\n      this.props.loading.pending\r\n    ) {\r\n      return (\r\n        <div>\r\n          <Spinner\r\n            as=\"span\"\r\n            animation=\"border\"\r\n            size=\"sm\"\r\n            role=\"status\"\r\n            aria-hidden=\"true\"\r\n          />\r\n          <h3>Pobieranie rankingu</h3>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderError = () => {\r\n    if (this.props.alert.payload) {\r\n      return (\r\n        <div>\r\n          <h3>Wystąpił błąd</h3>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  renderRanking() {\r\n    if (this.props.ranking.length > 0) {\r\n      return (\r\n        <div>\r\n          <Table striped bordered hover>\r\n            <thead>\r\n              <tr>\r\n                <th>\r\n                  <FontAwesomeIcon className=\"mr-1\" icon={faTrophy} />\r\n                  Pozycja\r\n                </th>\r\n                <th>Użytkownik</th>\r\n                <th>Budżet [$]</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.props.ranking.map((user, index) => (\r\n                <tr key={index}>\r\n                  <td>{index + 1}</td>\r\n                  <td>{user.username}</td>\r\n                  <td>\r\n                    {Math.round((user.budget + Number.EPSILON) * 100) / 100}\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        <BackHeader title=\"Top 100 graczy\" />\r\n        <hr className=\"my-4\"></hr>\r\n        {this.renderLoading()}\r\n        {this.renderRanking()}\r\n        {this.renderError()}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    loading: state.loading.FETCH_RANKING,\r\n    alert: state.alert,\r\n    ranking: state.ranking,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchRanking,\r\n  clear: alertActions.clear,\r\n})(Ranking);\r\n","import { rankingConstants } from \"../constants/rankingConstants\";\r\nimport { playerService } from \"../services/playerService\";\r\nimport { alertActions } from \"./alertActions\";\r\n\r\nexport const fetchRanking = () => {\r\n  return (dispatch) => {\r\n    dispatch(request());\r\n    playerService.fetchRanking().then(\r\n      (user) => {\r\n        dispatch(success(user));\r\n      },\r\n      (error) => {\r\n        dispatch(failure());\r\n        dispatch(alertActions.error(error.toString()));\r\n      }\r\n    );\r\n  };\r\n\r\n  function request() {\r\n    return { type: rankingConstants.FETCH_RANKING_REQUEST };\r\n  }\r\n  function success(payload) {\r\n    return { type: rankingConstants.FETCH_RANKING_SUCCESS, payload };\r\n  }\r\n  function failure() {\r\n    return { type: rankingConstants.FETCH_RANKING_FAILURE };\r\n  }\r\n};\r\n","export const filterTransactionConstants = {\r\n    UPDATE_TRANSACTION_FILTERS:'UPDATE_TRANSACTION_FILTERS',\r\n    CLEAR_TRANSACTION_FILTERS:'CLEAR_TRANSACTION_FILTERS',\r\n    UPDATE_CURRENT_TRANSACTION_PAGE:'UPDATE_CURRENT_TRANSACTION_PAGE'\r\n}","import { filterTransactionConstants } from \"../constants/filterTransactionConstants\";\r\n\r\nexport const updateTransactionFilters = (filters) => {\r\n  return {\r\n    type: filterTransactionConstants.UPDATE_TRANSACTION_FILTERS,\r\n    payload: filters,\r\n  };\r\n};\r\n\r\nexport const changeTransactionPage = (page) => {\r\n  return {\r\n    type: filterTransactionConstants.UPDATE_CURRENT_TRANSACTION_PAGE,\r\n    payload: page,\r\n  };\r\n};\r\n\r\nexport const clearFilters = () => {\r\n  return {\r\n    type: filterTransactionConstants.CLEAR_TRANSACTION_FILTERS,\r\n  };\r\n};\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Form, Button} from 'react-bootstrap'\r\nimport {updateTransactionFilters} from '../../actions/filterTransactionActions';\r\nimport {renderCategoryFilter} from '../../helpers/MarketCategories';\r\n \r\nclass TransactionsFilter extends React.Component {\r\n\r\n    state =  {\r\n        selectedCategories: [],\r\n        marketTitle:\"\",\r\n        betTitle:\"\",\r\n        page:0,\r\n        contractStatus:\"\",\r\n        pageSize:10,\r\n        option:0,\r\n        sortedBy:[\"transactionDate\",\"desc\"]\r\n    }\r\n\r\n\r\n    handleOption = (e) => {\r\n        this.setState({option:e.target.value});\r\n    }\r\n\r\n    handleSortOption = (e) => {\r\n        this.setState({sortedBy:e.target.value.split(',')});\r\n    }\r\n\r\n    renderContractOptionFilter = () =>{\r\n        return(\r\n            <div>\r\n                <h4>Opcja kontraktu</h4>\r\n                <Form.Control as=\"select\" onChange={this.handleOption}>\r\n                <option value={0}>Wszystkie kontrakty</option>\r\n                <option value={1}>Kontrakty na tak</option> \r\n                <option value={2}>Kontrakty na nie</option>\r\n                </Form.Control>\r\n                <hr className=\"my-4\"></hr>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderMarketTitleFilter = () => {\r\n        return(\r\n            <div>\r\n            <h4>Tytuł rynku</h4>\r\n            <Form.Group>\r\n            <Form.Control onChange={this.handleMarketTitleChange} type=\"text\" placeholder=\"Tytuł rynku\" />\r\n            </Form.Group>\r\n            <hr className=\"my-4\"></hr>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n    renderBetTitleFilter = () => {\r\n        return(\r\n            <div>\r\n                <h4>Tytuł zakładu</h4>\r\n                <Form.Group>\r\n                <Form.Control onChange={this.handleBetTitleChange} type=\"text\" placeholder=\"Tytuł zakładu\" />\r\n                </Form.Group>\r\n           \r\n            <hr className=\"my-4\"></hr>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderSortFilter = () => {\r\n        return(\r\n            <div>\r\n                <h4>Sortuj według</h4>\r\n                <Form.Control as=\"select\" onChange={this.handleSortOption}>\r\n                <option value={\"transactionDate,desc\"}>Od najnowszych</option>\r\n                <option value={\"transactionDate,asc\"}>Od najstarszych</option> \r\n                </Form.Control>\r\n                <hr className=\"my-4\"></hr>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    handleCategory = (e) => {\r\n\r\n        if(this.state.selectedCategories.includes(e.target.value)) {\r\n           this.setState({selectedCategories:this.state.selectedCategories.filter(category => category !== e.target.value)});\r\n        }else{\r\n            this.setState({selectedCategories:[...this.state.selectedCategories,e.target.value]});\r\n        }\r\n    }\r\n\r\n    handleMarketTitleChange = (e) => {\r\n        this.setState({marketTitle:e.target.value});\r\n    }\r\n\r\n    handleContractStatus = (e) => {\r\n        this.setState({contractStatus:e.target.value});\r\n    }\r\n\r\n    handleBetTitleChange = (e) => {\r\n        this.setState({betTitle:e.target.value});\r\n    }\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.updateTransactionFilters(this.state)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Form>\r\n                {this.renderMarketTitleFilter()}\r\n                {this.renderBetTitleFilter()}\r\n                {this.renderSortFilter()}\r\n                {this.renderContractOptionFilter()}\r\n                {renderCategoryFilter(this.handleCategory)}\r\n            <hr className=\"my-4\"></hr>\r\n            <Button onClick={this.handleSubmit} variant=\"dark\">\r\n                Zatwierdź\r\n            </Button>\r\n            </Form>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default connect(null,{updateTransactionFilters})(TransactionsFilter);","import React from \"react\";\r\nimport { Item } from \"semantic-ui-react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faMoneyBillWave,\r\n  faCalendar,\r\n  faShoppingCart,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { displayMarketCover } from \"../../helpers/MartketCovers\";\r\n\r\nconst Transaction = (props) => {\r\n  return (\r\n    <Item>\r\n      <Item.Image\r\n        size=\"medium\"\r\n        className=\"img\"\r\n        src={displayMarketCover(props.marketInfo.marketCover,props.marketInfo.marketCategory)}\r\n      />\r\n\r\n      <Item.Content>\r\n        <Item.Header>{props.marketInfo.topic}</Item.Header>\r\n        <Item.Meta>\r\n          <h4>{props.bet.title}</h4>\r\n          <h5>{props.option ? \"Opcja na tak\" : \"Opcja na nie\"}</h5>\r\n          <span className=\"price\">\r\n            <FontAwesomeIcon icon={faMoneyBillWave}></FontAwesomeIcon> Liczba\r\n            akcji: {props.shares}\r\n          </span>\r\n          <span className=\"stay\">\r\n            <FontAwesomeIcon icon={faMoneyBillWave}></FontAwesomeIcon> Cena za 1\r\n            akcję: {props.price}\r\n          </span>\r\n          <hr className=\"my-3\"></hr>\r\n          <span className=\"price\">\r\n            <FontAwesomeIcon icon={faCalendar}></FontAwesomeIcon> Data\r\n            transakcji: {props.transactionDate}\r\n          </span>\r\n          <hr className=\"my-3\"></hr>\r\n          <span className=\"dealer\">\r\n            <FontAwesomeIcon icon={faShoppingCart}></FontAwesomeIcon> Kupujący:{\" \"}\r\n            {props.purchaser}\r\n          </span>\r\n          <hr className=\"my-3\"></hr>\r\n          <span className=\"dealer\">\r\n            <FontAwesomeIcon icon={faShoppingCart}></FontAwesomeIcon> Sprzedawca:{\" \"}\r\n            {props.dealer}\r\n          </span>\r\n        </Item.Meta>\r\n        <Item.Description></Item.Description>\r\n      </Item.Content>\r\n    </Item>\r\n  );\r\n};\r\n\r\nexport default Transaction;\r\n","import React from 'react';\r\nimport {Row,Col} from 'react-bootstrap';\r\nimport {connect} from 'react-redux';\r\nimport TransactionsFilter from './TransactionsFilter';\r\nimport {fetchFilteredTransactions} from '../../actions/transactionActions';\r\nimport {clearFilters} from '../../actions/filterTransactionActions'\r\nimport Transaction from './Transaction'\r\nimport { Item } from 'semantic-ui-react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport {faSadTear,faExclamationCircle} from '@fortawesome/free-solid-svg-icons';\r\nimport {changeTransactionPage} from '../../actions/filterTransactionActions';\r\nimport {clearPagination} from '../../actions/paginationActions';\r\nimport Loader from 'react-loader-spinner';\r\nimport PaginationBar from '../Markets/PaginationBar';\r\nimport './TransactionList.scss';\r\n\r\nclass TransactionList extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.fetchFilteredTransactions(\r\n            this.props.type,\r\n            this.props.filter.option,\r\n            this.props.filter.betTitle,\r\n            this.props.filter.marketTitle,\r\n            this.props.filter.selectedCategories,\r\n            this.props.filter.page,\r\n            this.props.filter.pageSize,\r\n            this.props.filter.sortedBy)\r\n    }\r\n\r\n    \r\n    componentDidUpdate(prevProps) {\r\n        if(!(JSON.stringify(this.props.filter)===JSON.stringify(prevProps.filter))){\r\n         \r\n            this.props.fetchFilteredTransactions(\r\n                this.props.type,\r\n                this.props.filter.option,\r\n                this.props.filter.betTitle,\r\n                this.props.filter.marketTitle,\r\n                this.props.filter.selectedCategories,\r\n                this.props.filter.page,\r\n                this.props.filter.pageSize,\r\n                this.props.filter.sortedBy)\r\n        }\r\n        \r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.props.clearFilters()\r\n    }\r\n\r\n    renderNotFoundMessage() {\r\n        if(!this.props.alert.payload)\r\n        return (\r\n        <div className=\"text-center\">\r\n            <FontAwesomeIcon icon={faSadTear} size={\"6x\"}/>\r\n            <h2>Nie znaleziono żadnych transakcji</h2>\r\n        </div>\r\n        )\r\n    }\r\n\r\n    renderPagination() {\r\n        if(this.props.transactions.length > 0) {\r\n            return(\r\n                <div>\r\n                    {/* lastPage={this.props.markets.markets.last} firstPage={this.props.markets.markets.first} currentPage={this.props.markets.markets.number} totalElements={this.props.markets.markets.totalElements} totalPages={this.props.markets.markets.totalPages} size={this.props.markets.markets.size}  */}\r\n                    <PaginationBar paginationInfo={this.props.pagination} changePage={changeTransactionPage}/>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    renderContent(){\r\n        if(typeof(this.props.loading) !== \"undefined\" && this.props.loading.pending){\r\n            return(\r\n                <div className=\"text-center\">\r\n                <Loader\r\n                     type=\"TailSpin\"\r\n                     color=\"black\"\r\n                />\r\n                </div>\r\n                )\r\n        }else{\r\n            return(<div>\r\n                {this.renderList()}\r\n                {this.renderPagination()}\r\n            </div>)\r\n        }\r\n    }\r\n\r\n    renderInfo() {\r\n        if(this.props.alert.payload) {\r\n            return <div className=\"text-center\">\r\n            <FontAwesomeIcon icon={faExclamationCircle} size={\"6x\"}/>\r\n            <h3>{this.props.alert.payload}</h3>\r\n        </div>\r\n        }\r\n    }\r\n\r\n    renderList() {\r\n        if(this.props.transactions.length > 0){\r\n            return(\r\n                <Item.Group divided>\r\n                    {this.props.transactions.map(transaction => <Transaction key={transaction.id} transactionDate={transaction.transactionDate} purchaser={transaction.purchaser} dealer={transaction.dealer ? transaction.dealer : \"Organizator rynku\"} option={transaction.option} price={transaction.price} shares={transaction.shares} bet={transaction.bet} marketInfo={transaction.marketInfo}/> )}\r\n                </Item.Group>\r\n                )\r\n        }else{\r\n            return (\r\n                <div>\r\n                    {this.renderNotFoundMessage()}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    render() {\r\n        return(\r\n            <div className=\"transaction-container\">\r\n                <Row>\r\n                    <Col sm={3}>\r\n                        <TransactionsFilter />\r\n                    </Col>\r\n                    <Col sm={9}>\r\n                        {this.renderContent()}\r\n                        {this.renderInfo()}\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return{\r\n        loading: state.loading.FETCH_FILTERED_TRANSACTIONS,\r\n        filter: state.transactionsFilter,\r\n        transactions: state.transactions,\r\n        alert: state.alert,\r\n        pagination: state.pagination.transactionPagination\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,{fetchFilteredTransactions,clearFilters,clearPagination})(TransactionList);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Container, Tab, Tabs } from \"react-bootstrap\";\r\nimport TransactionList from \"./TransactionList\";\r\nimport { clearTransactions } from \"../../actions/transactionActions\";\r\nimport BackHeader from \"../BackHeader\";\r\n\r\nclass TransactionsPage extends React.Component {\r\n  componentWillUnmount() {\r\n    this.props.clearTransactions();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container\">\r\n        <BackHeader title=\"Transakcje\" />\r\n        <Tabs id=\"controlled-tab-example\" className=\"mt-3\">\r\n          <Tab eventKey=\"home\" title=\"Zakup\" unmountOnExit>\r\n            <TransactionList type=\"purchaser\" />\r\n          </Tab>\r\n          <Tab eventKey=\"profile\" title=\"Sprzedaż\" unmountOnExit>\r\n            <TransactionList type=\"dealer\" />\r\n          </Tab>\r\n        </Tabs>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(null, { clearTransactions })(TransactionsPage);\r\n","import React from 'react';\r\nimport {Container,Row,Col} from 'react-bootstrap';\r\nimport ContractFilter from './ContractFilter';\r\nimport ContractList from './ContractList';\r\nimport BackHeader from '../BackHeader';\r\n\r\nclass UserOfferPage extends React.Component {\r\n\r\n    render() {\r\n        return(\r\n            <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n               <BackHeader title=\"Twoje oferty\" />\r\n                <p className=\"text-muted\">Wybierz kontrakt w celu zarządzania ofertami</p>\r\n                <hr className=\"my-4\"></hr>\r\n                <Row>\r\n                    <Col sm={12} md={3}>\r\n                        <ContractFilter offerPage={true} />\r\n                    </Col>\r\n                    <Col sm={12} md={9}>\r\n                        <ContractList offerPage={true} />\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport default UserOfferPage;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Button, Container } from \"react-bootstrap\";\r\nimport { fetchMarket, deleteMarket } from \"../../actions/marketActions\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport BackHeader from \"../BackHeader\";\r\nimport { renderButtonContent } from \"../../helpers/LoadingContent\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faExclamationCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { alertActions } from \"../../actions/alertActions\";\r\n\r\nclass DeleteMarketPage extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchMarket(this.props.match.params.id);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clear();\r\n  }\r\n\r\n  renderLoading() {\r\n    if (\r\n      typeof this.props.loadingMarket !== \"undefined\" &&\r\n      this.props.loadingMarket.pending &&\r\n      !this.props.currentMarket\r\n    ) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <Loader type=\"TailSpin\" color=\"black\" />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderFirstDeleteBetsInfo() {\r\n    return (\r\n      <div>\r\n        <h4>Aby usunąć rynek najpierw usuń zakłady</h4>\r\n        <LinkContainer to={`/markets/editBets/${this.props.match.params.id}`}>\r\n          <Button>Edytuj zakłady</Button>\r\n        </LinkContainer>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderDeleteField() {\r\n    return (\r\n      <div>\r\n        <h4>Czy na pewno chcesz usunąć rynek ?</h4>\r\n        <Button\r\n          onClick={() => this.props.deleteMarket(this.props.match.params.id)}\r\n        >\r\n          {renderButtonContent(this.props.loading, \"Usuń rynek\")}\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderFailedToFetch() {\r\n    if (this.props.alert.payload) {\r\n      return (\r\n        <div className=\"text-center\">\r\n          <FontAwesomeIcon icon={faExclamationCircle} size={\"6x\"} />\r\n          <h3>{this.props.alert.payload}</h3>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderContent() {\r\n    if (this.props.currentMarket) {\r\n      return (\r\n        <div>\r\n          {this.props.currentMarket.bets ? (\r\n            <div>{this.renderFirstDeleteBetsInfo()}</div>\r\n          ) : (\r\n            <div>{this.renderDeleteField()}</div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"bg-light border rounded shadow-container create-market-container\">\r\n        <BackHeader title=\"Usuwanie rynku\" />\r\n        <hr className=\"my-4\"></hr>\r\n        {this.renderLoading()}\r\n        {this.renderContent()}\r\n        {this.renderFailedToFetch()}\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    loadingMarket: state.loading.FETCH_MARKET,\r\n    loading: state.loading.DELETE_MARKET,\r\n    currentMarket: state.markets.find(\r\n      (market) => market.marketId.toString() === ownProps.match.params.id\r\n    ),\r\n    alert: state.alert,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchMarket,\r\n  deleteMarket,\r\n  clear: alertActions.clear,\r\n})(DeleteMarketPage);\r\n","import React from \"react\";\r\nimport {HashRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\r\nimport history from \"../history\";\r\nimport { PrivateRoute } from \"./PrivateRoute\";\r\nimport HomePage from \"./HomePage\";\r\nimport LoginPage from \"./Auth/LoginPage\";\r\nimport CreateMarketPage from \"./Markets/CreateMarketPage\";\r\nimport MarketCoverPage from \"./Markets/MarketCoverPage\";\r\nimport NavigationBar from \"./NavigationBar\";\r\nimport ProfilePage from \"./User/ProfilePage\";\r\nimport RegisterPage from \"./Auth/RegisterPage\";\r\nimport EditBetsPage from \"./Markets/EditBetsPage\";\r\nimport ResetPasswordPage from \"./Auth/ResetPasswordPage\";\r\nimport ResetPasswordWithToken from \"./Auth/ResetPasswordWithToken\";\r\nimport MakeMarketPublicPage from \"./Markets/MakeMarketPublicPage\";\r\nimport MarketsPage from \"./Markets/MarketsPage\";\r\nimport MarketDetails from \"./Markets/MarketDetails\";\r\nimport EditMarketPage from \"./Markets/EditMarketPage\";\r\nimport SolveMarketPage from \"./Markets/SolveMarketPage\";\r\nimport ContractDetails from \"./Contracts/ContractDetails\";\r\nimport ContractPage from \"./Contracts/ContractPage\";\r\nimport EditPasswordPage from \"./User/EditPasswordPage\";\r\nimport AddOfferPage from \"./Offers/AddOfferPage\";\r\nimport BetOffers from \"./Offers/BetOffers\";\r\nimport Ranking from \"./Contracts/Ranking\";\r\nimport TransactionsPage from \"./Transactions/TransactionsPage\";\r\nimport UserOfferPage from \"./Contracts/UserOfferPage\";\r\nimport DeleteMarketPage from \"./Markets/DeleteMarketPage\";\r\nimport ReactNotification from 'react-notifications-component'\r\nimport {Divider} from 'semantic-ui-react';\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <Router history={history}>\r\n        <NavigationBar />\r\n        <ReactNotification />\r\n        <Switch>\r\n          <Route exact path=\"/\" component={HomePage} />\r\n          <Route path=\"/login\" component={LoginPage} />\r\n          <Route path=\"/register\" component={RegisterPage} />\r\n          <Route path=\"/resetPassword\" component={ResetPasswordPage} />\r\n          <Route\r\n            path=\"/resetPasswordWithToken\"\r\n            component={ResetPasswordWithToken}\r\n          />\r\n          <Route path=\"/ranking\" component={Ranking} />\r\n          <PrivateRoute path=\"/transactions\" component={TransactionsPage} />\r\n          <Route path=\"/offers/bet/:id/:option\" component={BetOffers} />\r\n          <PrivateRoute path=\"/offers/new/:id\" component={AddOfferPage} />\r\n          <PrivateRoute path=\"/offers\" component={UserOfferPage} />\r\n          <PrivateRoute path=\"/editPassword\" component={EditPasswordPage} />\r\n          <PrivateRoute path=\"/profile\" component={ProfilePage} />\r\n          <PrivateRoute\r\n            path=\"/contracts/details/:id\"\r\n            component={ContractDetails}\r\n          />\r\n          <PrivateRoute path=\"/contracts\" component={ContractPage} />\r\n          <PrivateRoute path=\"/createMarket\" component={CreateMarketPage} />\r\n          <Route path=\"/markets/details/:id\" component={MarketDetails} />\r\n          <PrivateRoute\r\n            path=\"/markets/editCover/:id\"\r\n            component={MarketCoverPage}\r\n          />\r\n          <PrivateRoute path=\"/markets/editBets/:id\" component={EditBetsPage} />\r\n          <PrivateRoute\r\n            path=\"/markets/editMarket/:id\"\r\n            component={EditMarketPage}\r\n          />\r\n          <PrivateRoute\r\n            path=\"/markets/solveMarket/:id\"\r\n            component={SolveMarketPage}\r\n          />\r\n          <PrivateRoute\r\n            path=\"/markets/makePublic/:id\"\r\n            component={MakeMarketPublicPage}\r\n          />\r\n          <PrivateRoute\r\n            path=\"/markets/delete/:id\"\r\n            component={DeleteMarketPage}\r\n          />\r\n          {/* <PrivateRoute\r\n            path=\"/markets/private\"\r\n            component={ModeratorMarketsPage}\r\n          /> */}\r\n          <Route path=\"/markets\" component={MarketsPage} />\r\n          <Redirect from=\"*\" to=\"/\" />\r\n         \r\n        </Switch>\r\n      </Router>\r\n      <Divider hidden />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import {\r\n  loginConstants,\r\n  editPasswordConstants,\r\n  registerConstants,\r\n} from \"../constants/userConstants\";\r\n\r\nlet user = JSON.parse(localStorage.getItem(\"user\"));\r\nconst initialState = user ? { loggedIn: true, user } : {};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case loginConstants.LOGIN_REQUEST:\r\n      return {\r\n        loggedIn: false,\r\n        user: action.user,\r\n      };\r\n    case loginConstants.LOGIN_SUCCESS:\r\n      return {\r\n        loggedIn: true,\r\n        user: action.user,\r\n      };\r\n    case loginConstants.LOGIN_FAILURE:\r\n      return {};\r\n    case loginConstants.LOGOUT:\r\n      return {};\r\n    case editPasswordConstants.EDIT_PASSWORD_REQUEST:\r\n      return { ...state };\r\n    case editPasswordConstants.EDIT_PASSWORD_SUCCESS:\r\n      return { ...state };\r\n    case editPasswordConstants.EDIT_PASSWORD_FAILURE:\r\n      return { ...state };\r\n    case editPasswordConstants.CHANGE_PASSWORD_WITH_TOKEN_REQUEST:\r\n      return { ...state };\r\n    case editPasswordConstants.CHANGE_PASSWORD_WITH_TOKEN_SUCCESS:\r\n      return { ...state };\r\n    case editPasswordConstants.CHANGE_PASSWORD_WITH_TOKEN_FAILURE:\r\n      return { ...state };\r\n    case registerConstants.REGISTER_REQUEST:\r\n      return {};\r\n    case registerConstants.REGISTER_SUCCESS:\r\n      return {};\r\n    case registerConstants.REGISTER_FAILURE:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export default (state = {}, action) => {\r\n  const { type } = action;\r\n  const actionName = getActionName(type);\r\n\r\n  if (!actionName) {\r\n    return {\r\n      ...state,\r\n    };\r\n  }\r\n\r\n  if (type.endsWith(\"_REQUEST\")) {\r\n    return {\r\n      ...state,\r\n      [actionName]: {\r\n        pending: true,\r\n      },\r\n    };\r\n  }\r\n\r\n  if (type.endsWith(\"_SUCCESS\") || type.endsWith(\"_FAILURE\")) {\r\n    return {\r\n      ...state,\r\n      [actionName]: {\r\n        pending: false,\r\n      },\r\n    };\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nfunction getActionName(actionType) {\r\n  if (typeof actionType !== \"string\") {\r\n    return null;\r\n  }\r\n\r\n  return actionType.split(\"_\").slice(0, -1).join(\"_\");\r\n}\r\n","import { marketsConstants } from \"../constants/marketsConstants\";\r\n\r\nconst updateArr = (arr, action) => {\r\n  const index = arr.findIndex(\r\n    (market) => market.marketId === action.payload.marketId\r\n  );\r\n  const newArray = [...arr];\r\n  newArray[index] = action.payload;\r\n  return newArray;\r\n};\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case marketsConstants.FETCH_MARKETS_REQUEST:\r\n      return [...state];\r\n    case marketsConstants.FETCH_MARKETS_SUCCESS:\r\n      return [...action.payload];\r\n    case marketsConstants.FETCH_MARKETS_FAILURE:\r\n      return [...state];\r\n    case marketsConstants.FETCH_MARKET_REQUEST:\r\n      return [...state];\r\n    case marketsConstants.FETCH_MARKET_SUCCESS:\r\n      if (state.find((market) => market.marketId === action.payload.marketId)) {\r\n        return [...state];\r\n      }\r\n      return [...state, action.payload];\r\n    case marketsConstants.FETCH_MARKET_FAILURE:\r\n      return [...state];\r\n    case marketsConstants.CREATE_MARKET_REQUEST:\r\n      return [...state];\r\n    case marketsConstants.CREATE_MARKET_SUCCESS:\r\n      return updateArr(state, action);\r\n    case marketsConstants.CREATE_MARKET_FAILURE:\r\n      return [...state];\r\n    case marketsConstants.SET_MARKET_COVER_REQUEST:\r\n      return [...state];\r\n    case marketsConstants.SET_MARKET_COVER_SUCCESS:\r\n      return updateArr(state, action);\r\n    case marketsConstants.SET_MARKET_COVER_FAILURE:\r\n      return [...state];\r\n    case marketsConstants.ADD_BET_REQUEST:\r\n      return [...state];\r\n    case marketsConstants.ADD_BET_SUCCESS:\r\n      return updateArr(state, action);\r\n    case marketsConstants.ADD_BET_FAILURE:\r\n      return [...state];\r\n    case marketsConstants.DELETE_BET_REQUEST:\r\n      return [...state];\r\n    case marketsConstants.DELETE_BET_SUCCESS:\r\n      return updateArr(state, action);\r\n    case marketsConstants.DELETE_BET_FAILURE:\r\n      return [...state];\r\n    case marketsConstants.MAKE_MARKET_PUBLIC_REQUEST:\r\n      return [...state];\r\n    case marketsConstants.MAKE_MARKET_PUBLIC_SUCCESS:\r\n      return updateArr(state, action);\r\n    case marketsConstants.MAKE_MARKET_PUBLIC_FAILURE:\r\n      return [...state];\r\n    case marketsConstants.SOLVE_MARKET_REQUEST:\r\n      return [...state];\r\n    case marketsConstants.SOLVE_MARKET_SUCCESS:\r\n      return updateArr(state, action);\r\n    case marketsConstants.SOLVE_MARKET_FAILURE:\r\n      return [...state];\r\n    case marketsConstants.EDIT_MARKET_REQUEST:\r\n      return [...state];\r\n    case marketsConstants.EDIT_MARKET_SUCCESS:\r\n      return [...state];\r\n    case marketsConstants.EDIT_MARKET_FAILURE:\r\n      return updateArr(state, action);\r\n    case marketsConstants.DELETE_MARKET_REQUEST:\r\n      return [...state];\r\n    case marketsConstants.DELETE_MARKET_SUCCESS:\r\n      return updateArr(state, action);\r\n    case marketsConstants.DELETE_MARKET_FAILURE:\r\n      return [...state];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { filterConstants } from \"../constants/filterConstants\";\r\n\r\nconst initialState = {\r\n  marketTitle: \"\",\r\n  selectedCategories: [],\r\n  sortedBy: [\"createdDate\", \"desc\"],\r\n  page: 0,\r\n  pageSize: 10,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case filterConstants.SELECT_CATEGORY:\r\n      return {\r\n        ...state,\r\n        selectedCategories: [...state.selectedCategories, action.payload],\r\n        page: 0,\r\n      };\r\n    case filterConstants.UNSELECT_CATEGORY:\r\n      return {\r\n        ...state,\r\n        selectedCategories: state.selectedCategories.filter(\r\n          (category) => category !== action.payload\r\n        ),\r\n        page: 0,\r\n      };\r\n    case filterConstants.UPDATE_SEARCH:\r\n      return { ...state, marketTitle: action.payload, page: 0 };\r\n    case filterConstants.UPDATE_SORTED:\r\n      return { ...state, sortedBy: action.payload, page: 0 };\r\n    case filterConstants.UPDATE_PAGE_SIZE:\r\n      return { ...state, pageSize: action.payload, page: 0 };\r\n    case filterConstants.UPDATE_CURRENT_PAGE:\r\n      return { ...state, page: action.payload };\r\n    case filterConstants.CLEAR_FILTERS:\r\n      return { ...initialState };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { contractConstants } from \"../constants/contractConstants\";\r\n\r\nconst updateArr = (arr, action) => {\r\n  const index = arr.findIndex((contract) => contract.id === action.payload.id);\r\n  const newArray = [...arr];\r\n  newArray[index] = action.payload;\r\n  return newArray;\r\n};\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case contractConstants.FETCH_CONTRACTS_REQUEST:\r\n      return [...state];\r\n    case contractConstants.FETCH_CONTRACTS_SUCCESS:\r\n      return [...action.payload];\r\n    case contractConstants.FETCH_CONTRACTS_FAILURE:\r\n      return [...state];\r\n    case contractConstants.FETCH_CONTRACT_REQUEST:\r\n      return [...state];\r\n    case contractConstants.FETCH_CONTRACT_SUCCESS:\r\n      if (state.find((contract) => contract.id === action.payload.id)) {\r\n        return [...state];\r\n      }\r\n      return [...state, action.payload];\r\n    case contractConstants.FETCH_CONTRACT_FAILURE:\r\n      return [...state];\r\n    case contractConstants.BUY_CONTRACT_REQUEST:\r\n      return [...state];\r\n    case contractConstants.BUY_CONTRACT_SUCCESS:\r\n      if (state.find((contract) => contract.id === action.payload.id)) {\r\n        return [...state];\r\n      }\r\n      return [...state, action.payload];\r\n    case contractConstants.BUY_CONTRACT_FAILURE:\r\n      return [...state];\r\n    case contractConstants.FETCH_CONTRACT_DETAILS_REQUEST:\r\n      return [...state];\r\n    case contractConstants.FETCH_CONTRACT_DETAILS_SUCCESS:\r\n      if (state.find((contract) => contract.id === action.payload.id)) {\r\n        return [...state];\r\n      }\r\n      return [...state, action.payload];\r\n    case contractConstants.FETCH_CONTRACT_DETAILS_FAILURE:\r\n      return [...state];\r\n    case contractConstants.ADD_OFFER_REQUEST:\r\n      return [...state];\r\n    case contractConstants.ADD_OFFER_SUCCESS:\r\n      return updateArr(state, action);\r\n    case contractConstants.ADD_OFFER_FAILURE:\r\n      return [...state];\r\n    case contractConstants.DELETE_OFFER_REQUEST:\r\n      return [...state];\r\n    case contractConstants.DELETE_OFFER_SUCCESS:\r\n      return updateArr(state, action);\r\n    case contractConstants.DELETE_OFFER_FAILURE:\r\n      return [...state];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { filterContractConstants } from \"../constants/filterContractConstants\";\r\n\r\nconst initialState = {\r\n  marketTitle: \"\",\r\n  betTitle: \"\",\r\n  contractStatus: \"\",\r\n  contractOption: 0,\r\n  selectedCategories: [],\r\n  sortedBy: [\"modifiedDate\", \"desc\"],\r\n  page: 0,\r\n  pageSize: 10,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case filterContractConstants.SET_STATUS_PENDING:\r\n      return { ...state, contractStatus: \"PENDING\" };\r\n    case filterContractConstants.UPDATE_FILTERS:\r\n      return { ...state, ...action.payload };\r\n    case filterContractConstants.CLEAR_FILTERS:\r\n      return { ...initialState };\r\n    case filterContractConstants.UPDATE_CURRENT_CONTRACTS_PAGE:\r\n      return { ...state, page: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { filterTransactionConstants } from \"../constants/filterTransactionConstants\";\r\n\r\nconst initialState = {\r\n  marketTitle: \"\",\r\n  betTitle: \"\",\r\n  option: 0,\r\n  selectedCategories: [],\r\n  sortedBy: [\"transactionDate\", \"desc\"],\r\n  page: 0,\r\n  pageSize: 10,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case filterTransactionConstants.UPDATE_TRANSACTION_FILTERS:\r\n      return { ...state, ...action.payload };\r\n    case filterTransactionConstants.CLEAR_TRANSACTION_FILTERS:\r\n      return { ...initialState };\r\n    case filterTransactionConstants.UPDATE_CURRENT_TRANSACTION_PAGE:\r\n      return { ...state, page: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { filterOffersConstants } from \"../constants/filterOffersConstants\";\r\n\r\nconst initialState = { page: 0, pageSize: 100 };\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case filterOffersConstants.UPDATE_CURRENT_OFFER_PAGE:\r\n      return { ...state, page: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport loginReducer from \"./loginReducer\";\r\nimport alertReducer from \"./alertReducer\";\r\nimport loadingReducer from \"./loadingReducer\";\r\nimport marketsReducer from \"./marketsReducer\";\r\nimport filterReducer from \"./filterReducer\";\r\nimport paginationReducer from \"./paginationReducer\";\r\nimport tokenReducer from \"./tokenReducer\";\r\nimport betPriceReducer from \"./betPriceReducer\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport playerReducer from \"./playerReducer\";\r\nimport contractReducer from \"./contractReducer\";\r\nimport filterContractReducer from \"./filterContractReducer\";\r\nimport offerReducer from \"./offerReducer\";\r\nimport rankingReducer from \"./rankingReducer\";\r\nimport transactionReducer from \"./transactionReducer\";\r\nimport filterTransactionReducer from \"./filterTransactionReducer\";\r\nimport filterOffersReducer from \"./filterOffersReducer\";\r\n\r\nexport default combineReducers({\r\n  login: loginReducer,\r\n  form: formReducer,\r\n  markets: marketsReducer,\r\n  filterMarkets: filterReducer,\r\n  filterContracts: filterContractReducer,\r\n  alert: alertReducer,\r\n  loading: loadingReducer,\r\n  pagination: paginationReducer,\r\n  token: tokenReducer,\r\n  betPrice: betPriceReducer,\r\n  player: playerReducer,\r\n  contracts: contractReducer,\r\n  offers: offerReducer,\r\n  ranking: rankingReducer,\r\n  transactions: transactionReducer,\r\n  transactionsFilter: filterTransactionReducer,\r\n  filterOffers: filterOffersReducer,\r\n});\r\n","import { alertConstants } from \"../constants/alertConstants\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case alertConstants.ALERT_SUCCESS_INFO:\r\n      return {\r\n        type: alertConstants.ALERT_SUCCESS_INFO,\r\n        payload: action.payload,\r\n      };\r\n    case alertConstants.ALERT_ERROR:\r\n      if (action.payload === \"TypeError: Failed to fetch\") {\r\n        return {\r\n          type: alertConstants.ALERT_CONNECTION_ERROR,\r\n          payload: \"Serwer nie odpowiada, spróbuj ponownie później!\",\r\n        };\r\n      }\r\n\r\n      return {\r\n        type: alertConstants.ALERT_ERROR,\r\n        payload: action.payload,\r\n      };\r\n    case alertConstants.ALERT_BUYING: {\r\n      return {\r\n        type: alertConstants.ALERT_BUYING,\r\n        payload: action.payload,\r\n      };\r\n    }\r\n    case alertConstants.ALERT_DELETING: {\r\n      return {\r\n        type: alertConstants.ALERT_DELETING,\r\n        payload: action.payload,\r\n      };\r\n    }\r\n    case alertConstants.ALERT_CLEAR:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { paginationConstants } from \"../constants/paginationConstants\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case paginationConstants.UPDATE_PAGINATION:\r\n      return { ...state, paginationInfo: action.payload };\r\n    case paginationConstants.UPDATE_CONTRACT_PAGINATION:\r\n      return { ...state, paginationContractInfo: action.payload };\r\n    case paginationConstants.UPDATE_TRANSACTION_PAGINATION:\r\n      return { ...state, transactionPagination: action.payload };\r\n    case paginationConstants.UPDATE_OFFERS_PAGINATION:\r\n      return { ...state, offersPagination: action.payload };\r\n    case paginationConstants.CLEAR_PAGINATION:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { tokenConstants } from \"../constants/tokenConstants\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case tokenConstants.SEND_TOKEN_REQUEST:\r\n      return { email: action.payload, sended: false };\r\n    case tokenConstants.SEND_TOKEN_SUCCESS:\r\n      return { email: action.payload, sended: true };\r\n    case tokenConstants.SEND_TOKEN_FAILURE:\r\n      return {};\r\n    case tokenConstants.CHECK_TOKEN_REQUEST:\r\n      return { ...state, token: action.payload, tokenCorrect: false };\r\n    case tokenConstants.CHECK_TOKEN_SUCCESS:\r\n      return { ...state, token: action.payload, tokenCorrect: true };\r\n    case tokenConstants.CHECK_TOKEN_FAILURE:\r\n      return { ...state, tokenCorrect: false };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { betsConstants } from \"../constants/betsConstants\";\r\nimport _ from \"lodash\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case betsConstants.FETCH_BET_PRICE_REQUEST:\r\n      return { ...state };\r\n    case betsConstants.FETCH_BET_PRICE_SUCCESS:\r\n      return { ...state, ..._.mapKeys([action.payload], \"betId\") };\r\n    case betsConstants.FETCH_BET_PRICE_FAILURE:\r\n      return { ...state };\r\n    case betsConstants.DELETE_BET:\r\n      return _.omit(state, action.payload);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { playerConstants } from \"../constants/playerConstants\";\r\nimport { loginConstants } from \"../constants/userConstants\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case playerConstants.FETCH_PLAYER_REQUEST:\r\n      return { ...state };\r\n    case playerConstants.FETCH_PLAYER_SUCCESS:\r\n      return { ...state, ...action.payload };\r\n    case playerConstants.FETCH_PLAYER_FAILURE:\r\n      return {};\r\n    case loginConstants.LOGOUT:\r\n      return {};\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { offerConstants } from \"../constants/offerConstants\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case offerConstants.FETCH_OFFERS_REQUEST:\r\n      return [...state];\r\n    case offerConstants.FETCH_OFFERS_SUCCESS:\r\n      return [...action.payload];\r\n    case offerConstants.FETCH_OFFERS_FAILURE:\r\n      return [...state];\r\n    case offerConstants.BUY_SHARES_REQUEST:\r\n      return [...state];\r\n    case offerConstants.BUY_SHARES_SUCCESS:\r\n      return [...state];\r\n    case offerConstants.BUY_SHARES_FAILURE:\r\n      return [...state];\r\n    default:\r\n      return [...state];\r\n  }\r\n};\r\n","import { rankingConstants } from \"../constants/rankingConstants\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case rankingConstants.FETCH_RANKING_REQUEST:\r\n      return [...state];\r\n    case rankingConstants.FETCH_RANKING_SUCCESS:\r\n      return [...action.payload];\r\n    case rankingConstants.FETCH_RANKING_FAILURE:\r\n      return [...state];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { transactionConstants } from \"../constants/transactionConstants\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case transactionConstants.FETCH_TRANSACTIONS_REQUEST:\r\n      return [...state];\r\n    case transactionConstants.FETCH_TRANSACTIONS_SUCCESS:\r\n      return [...action.payload];\r\n    case transactionConstants.FETCH_TRANSACTIONS_FAILURE:\r\n      return [...state];\r\n    case transactionConstants.FETCH_FILTERED_TRANSACTIONS_REQUEST:\r\n      return [...state];\r\n    case transactionConstants.FETCH_FILTERED_TRANSACTIONS_SUCCESS:\r\n      return [...action.payload];\r\n    case transactionConstants.FETCH_FILTERED_TRANSACTIONS_FAILURE:\r\n      return [...state];\r\n    case transactionConstants.CLEAR_TRANSACTIONS:\r\n      return [];\r\n    default:\r\n      return [...state];\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport reduxThunk from \"redux-thunk\";\r\n\r\nimport App from \"./components/App\";\r\nimport reducers from \"./reducers\";\r\n\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./scss/app.scss\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}