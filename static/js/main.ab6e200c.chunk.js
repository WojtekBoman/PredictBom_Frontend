(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{232:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAHCCAQAAAAzublTAAAAAnNCSVQICFXsRgQAABhXSURBVHic7d17sJ1Vfcbxb04CmBAVFSQJV4ESQUUgXATsWAIq2gqMWAcE8QUV8VJARWkFC2IRsNWOONbamRYYbaVKO1KYAgHRCngJIFe5CRQRSQokgImQQJLdP5KQnJNz2Zd3vetda30/v39kMO/7W/uc58k++xz2AUmSJEmSJEmSJEmZmRR7AUkDm8L09ealTGcak3iORSxiEY/w9Fh/0AKQ2mqTYbEeHvDhs8m411nF7fyIHzGP50f+KwtAatbUUSM8WsSn1HznRziXfxleAhaANLhJbDrB39HrZijqpo/wYeat+0cLQBrfdLZj8wmehE9LKEkr+RQXrP2HdNaWmrMzb2P7NfOq2MsEcAEnx15BaqPpHMf1dLKf42M/0FL7vJWF0aPZzDzLG2I/2FKbTOE8VkUPZnNza+wHXGqPl/Oz6JFset4Ck2M/7lILDHEpc2Mv0bhN+X7sFaQ2ODv638Yx5gW28NuA0mzuqv2n7tJwaNyfSpLa4PxC4w9zfA1ApduTr8ZeIZolPgNQ6Y6JvUBEu/oagMo2xCNsFXuJaBb4DEBlO6Dg+MNGFoDKtkfsBaLa2AJQ2baNvUBUPgNQ4baLvUBUyywAlW2Dd8krylILQGX7TewForIAVLiHYi8QlQWgwl0Te4GoLAAV7jfMj71CRBaAivf12AtEZAGoeN/hutgrRON/DCTxUZbHXiGSpf7nwNIiJvMnsZeI4hqfAUhwHjfEXiEKXwOQgOW8i9tjLxGBBSAB8DSH8GDsJRpnAUhrLORgHom9RMMsAOlFD3Mgj8ZeolEWgLSehziQx2Iv0SALQBrmAeayMPYSjbEApBHuYy6Px16iIRaAtIF7mMsTsZdoxFLfFlwazW5cx6tiLxHcVAtAGt0eXMsrYy8R1Eqm+CWANLpbOZjFsZcIailYANJYcq8AC0AaV94VYAFIE7iVg7KtAAtAmtBtHMSi2EsEYQFIXbiNg7OsAAtA6kqezwIsAKlLt2dYARaA1LX8KsACkHpwO3OzqoAlFoDUizuYy5Oxl6iNzwCkHt3BQdlUgAUg9SyfCrAApD7k8oWABSD15c4s3jLEApD6dCf/FnuFgVkAUp9O4+TYKwzMApD6chrnxV6hBktjLyCl6DQ6WcyWsR9IKT25xL/DtNgPpZSafOK/Et8SWOpJPvHv8PvYD6aUls9GD22d8xj4XQCpW5/l/Ngr1GopWABSd3KLvwUgdS2/+FsAUpdyjL8FIHUlz/hbAFIXPpNp/C0AaUKf4cuxVwhmCVgA0thyjr/PAKRx5R1/C0AaR+7xtwCkMeUffwtAGsOpBcTfApBGdSp/G3uFRlgA0gZKib8FIG2gnPhbANIIJcXfApCGKSv+/iSgtJ5PFxb/Nc8AfFtACT7N38VeoWEdJtPxGYBUYvzhWTpgAUglxv/F3wpkAahsZcbfApCATxUafwtA4lN8JfYK0VgAKlzJ8bcAVLiy428BqGilx98CUMGM/5ofBLYAVJ5PGn98BqBCfZKvxl6hFSwAFcj4r2UBqDjGfx0LQIUx/uuzAFSUFOK/ggWN3csCUEFOSSL+R7EfDzd0t6UN3UeK7hQ6rZ8XeA8A2/FQI/ebE/ljIjUkpfgDbNtIBcyO+BGRGpNa/AG25cHg95wV6eMhNSjF+ANsE7wCXhbhoyE1KtX4A2zDA0HvO7nhj4XUsJOjh7v/+ANsHbACnm3w4yBFkHr8Abbm14Hu/HhDHwUpihziD7BVoAp4qIGPgRRJLvEH2Ir7A9z9lsAfASmanOIPMIv7ar//lQEffymi3OIPISrg4kCPvhRVjvEHmMm9te5wXoDHXorspOjhDhN/qLsC3lvzIy9Fl3P8AWZwT217bFPj4y61QO7xh/oq4Hc1PeZSS5QQf4AtubuGTb5dwyMutUYp8QfYkl8NvMv+tWwitUJJ8YfBK+Dm2jaRovuL6OFuNv4Ar+auAbY5ttZdpIhKjD8MUgF3sHHt20hRlBp/gC24s49tnuGPgmwjNa7k+ANswa097/PuYNtIjSo9/gDTuaKnfb4cdBupMcZ/tclc0OU2y/hE8G2kRnwierjbEf/VTmLFhNs8wJ4NbSMFZvxH+jOeGXebS3wPYOXC+I/mlZzFolE3uZS3NryLFIzxH9t0Ps7F3MRSOiznPv6bv2JGlE2kIIx/Nybxan/pr/Jj/KVifTx6uI2/FInxl4pl/KViGX+pWMZfKpbxl4r1sejhNv5SJMZfKpbxl4pl/KVifYxV0eNt/KUojL9UrI8WHP+juZjJQa4sJaHs+K+gw3fZKMjVpdYz/h06XMWmQe4gtZrxXzu/YPMgd5Fay/ivP/eyXZA7Sa1k/EfOo/4SL5XiROM/ylRB7jfClCZu0mqvZzYzmcksZvAcC1jAAh7jJp6MvVgxTuQfmBR7iQms4CguDXBdv/EXzUYczAU8PEb7ruQGPssusZcsgH/7jzVVkHsK2Jy/5+muPvT3cZwNHZDxtwAaNo3TJ/hFSiPnVxwWe+lMGX8LoGHHsqCvT4MbeWPs1bNj/C2ARk3m6wN8Kizl3bEPkBXjbwE0ajPmDfjpsIrTYx8iGx8x/hNOFeTuhdqJe2v5pPhXNol9lAwY/26mCnL/Ir22z6/8R5ureEns4yTO+Hc3VZANClRn/DtYAYMx/t1OFWSH4tQd/w5WQP+Mf/dTBdmiMLsEiH8HK6A/xr+XqYLsUZRdWBjsE8UK6NUJxr+nqYJsUpCQ8e9gBfTG+Pc6VZBdihE6/h2sgO4Z/96nCrJNIZqIfwcroDvGv5+pguxThKbi38EKmJjx72+qIBsVYNcG49/BChif8e93qiA7Za/p+HewAsb2YePf91RBtspcjPh3sAJGZ/wHmSrIXlnblf+L9olkBYxk/AebKshmGYsZ/w5WwHDGf9CpguyWrddFjn+HDldbAWsY/8GnCrJdptoQ/w5WwGrGv46pguyXpbbEv4MVYPzr2rEKsmGG2hT/DqVXwIeMf01TBdkxO22Lf4eSK8D41zdVkC0z08b4dyi1Aox/nVMF2TMrr+fx6J9QY015FWD8650qyKYZaXP8O5RWAca/7qmC7JqNtse/Q0kVYPzrnyrItplIIf4dSqmADxr/AFMF2TcLqcS/QwkVYPzDTBVk4wykFP8OuVeA8Q81VZCdk/eGxOLfIecKMP7hpgqydeJSjH+HDvOyrADjH3KqIHsn7Q08Ef0Tqt/JrwKMf9ipgmyesJTj3yG3Cjje+AeeKsjuyUo9/h1yqgDjH36qINsnKof4d8ilAox/E1MF2T9Ju2US/w45VIDxb2aqICdIUE7x75B6BRj/pqYKcobk5Bb/DilXgPFvbqogp0hMjvHvkGoFGP8mpwpyjqTkGv8OKVbAcayM/qhNNPnE3wLgjTwZ/RMq5KRVAca/6amCnCUZuce/Q0oVYPybnyrIaRJRQvw7dJjH1NgPdReMf4ypgpwnCaXEv0MKFWD840wV5EQJKCn+HTpc0+oKMP6xpgpyptYrLf4d2lwBlfGPNlWQU7Xc7gXGv0NbK8D4x5wqyLlardT4d2hjBRj/uFMFOVmL7c6i6A96zGlXBRj/2FMFOVtrlR7/Dm2qAOMff6ogp2sp47962lEBxr8NUwU5XyvtYfxfnPgVYPzbMVWQE7aQ8R8+cSvgA8a/JVMFOWPrGP8NJ14FGP/2TBXklC1j/EefOBVg/Ns0VZBztorxH3uarwDj366pgpy0RYz/+NNsBRj/tk0V5KytsSeLoz/EbZ/mKsD4t2+qIKdtCePf3VzbSAUca/xbOFWQ87aC8e9+wleA8W/nVEFO3ALGv7cJWwHGv61TBTlzdMa/9wlXAca/vVMFOXVkc4x/XxOmAox/m6cKcu6ojH//U38FGP92TxXk5BEZ/8Gm3gooOf77JhD/hgpgqImbADCHa3hFY3fL0UFcXlsFvJ8LG/zY92cFR3FpkCvPZHKQ6yaoqU+COVxr/AdWVwW8n4sKjr/W08ynwV5cy2aN3GkQX+PO2CtMqI4KMP56UROfCHtxTQLxP49TOKiACjD+atRePBX95ZSJ59w1227BHdF3mXj6fznw/QW/9LfO4dHP2M1UgR+FRqQVf8i7Aoz/ahZAQ9KLP+RbAccY/zUsgEakGX9IpQJ+2FMFGP91LIAG7J1s/CG/CjD+67MAgks7/pBXBRj/4SyAwNKPP+RTAcZ/JAsgqL15OvqDN/FMFH/IowKM/4YsgIDSiP+XujxN6hVg/EdjAQSzT1bxh7Qr4GjjPyoLIJD84g/pVMC0EXsb/7FYAEHkGX9IswJSeMuLOPG3AILIN/6QXgUY//FYALXLO/6QVgUY//FZADXbN/v4QzoV8CHjPwELoFZlxB9SqYD2T9z4WwDrGfytIfZlHi+vYZOwzuVzNVzliSTeMqTtfLuPFhm0APZlHi+rZZOQ6ok/WAGDM/6tMlgBlBZ/sAIGY/xbZpACeFMS8f9SrfEHK6B/xr91+i+AN3F1EvE/PcBVrYB+GP8W6rcASo4/WAG9M/6t1F8BlB5/sAJ6Y/xbqp8CMP6rWQHdMv6t1XsB7Gf8X2QFdMP4t1ivBbAfVxn/9VgBEzH+rdZbAfi3/4asgPEY/5brpQD242peGmyTujQbf7ACxhYq/jMCXLNQ3ReA8R+bFTCaUPGfyzcCXLVQ3RbA/sZ/XFbASOHifzmbBrhuoborgP25KoH4nxMt/mAFDBcy/iPf+1AD6KYAUon/GZE3sALWMv7JmLgAjH/3rAAw/kmZqACMf2+sAOOflPEL4ADj37OyK8D4J2a8AjiAK41/H8qtAOOfnLELwPj3r8wKMP4JGqsAfPI/mPIqwPgnafQCOICrmN7wJr1rb/yhtAow/okarQDebPxrUU4FGP9kbVgAb+bKBOL/N62PP5RSAcY/YSMLYP9E4v/52Ct0Kf8KMP5JG14A23OZ8a9Z3hVg/BO3fgFsymVsHm2TbqUVf8i5Aox/8tYVwCQuZreIm3QnvfhDrhVg/DOwrgDO4IiIe3QnzfhDjhVg/LOwtgBek0C00o0/5FYBxj8TawvgLDaKusfE0o4/5FQBxj8bqwtgF46OvMdE0o8/5FIBxj8jqwvgbCZH3mN8ecQfcqgA45+VIWCnlr/8l0/8IfUKMP6ZGQIOY1LsNcbxxaziDylXgPHPzhDwrthLjOOL/HXsFQJIswKMf4aGeAUHxF5iTHnGH1KsAOOfpSHewZTYS4wh3/hDahVg/DM1xL6xVxhD3vGHlCrA+GdriJmxVxhV/vGHVCrA+GdsqJW/abWd8X8fL6n9mu2vAOOftTY+AwgT/xnMHfAKb+MHxVWA8c9c+54BhIr/j9h54Ku8vbAKMP7Z6/bXgzclXPxfW8uVSqoA41+AIRbGXmE9bY8/lFMBxr8IbSqAsxOIP5RRAca/EEMsiL3CGmdzZoCr1h9/yL8CjH8x2vIMIKX4Q94VYPwLMsT82CuQXvwh3wow/kUZ4kpWRt4hxfhDnhVg/AszxCJ+GnWDVOMP+VWA8S/OEHB5xPunHH/IqwKMf4GGgP+KdvfU4w/5VIDxL9IQcB8/iHLvHOIPeVSA8S/U6h8F/jyrGr9zLvGH9CvA+BdrdQHcxSUN3/cLGcUf0q4A41+wtf8x0JmsaPCuX+CsAFeNF39ItwKMf9HWFsADnNvYPXOMP6RZAca/cOv+c+AzuayRO+Yaf0ivAox/8dYVQIdjuCv4/XKOP6RVAcZfw94QZCmHsijo3XKPP6RTAcZfjHxHoP/lMJYGu1cJ8Yc0KsD4C9jwLcFu5B2BKqCU+EO4CpjLz2q50lKOMP6C0d4T8IYgFVBS/CFUBTzJgVw08FUeZL8gP/5t/BM02puC1l8BpcUfQlXAco7j1IF+bvNa9gnyYq/xT9Lo7wpcbwWUGH8IVQHwFd7Jw339yWWcwyEsrncdwPgna6y3Bb+BA/ldDddfyUmFxh/CVcDVzOYUnujpz6zkQnbmjCBv/2L8kzX27wW4mb0GfsnpKQ7h6wNeYzRpxB/CVcDzfI0dOZslXf2/O1zGbhzPbwNsYvyTNt4vBlk44EtO97Iv1w7w58eSTvwhXAXAEs5kC97JN3l0zP/PMq7gBGZxOHcH2cH4J27KuP92OcfxE77IVj1f9wX+idN5pt+1xpFW/GF1BRzOsiDXXs6VXMnH2IM3MYuZzGQmU1nIAhawgPv5IX8Ict+1jH8BpnIaT9HpelZxCTsF2mUG9/SwyfA5ccB7X9T3nTtcFehZQFxz+cMAj8kgj+ZgDo+yda9T1fEhmkg3vxvwOc5nB87v6leILOdy9uFIHhh0sVGl97f/WuG+EIjHv/0z0O0vB32Kv2Qr9uWcMX8cdTHf4c/ZgkO5ua7lRkg3/pBfBRj/LIz/GsBwHeYznzPYmh3WfLW5JUtZwAIe4zHuDvyWImnHH8K+FtA045+JXgpgrUfHedU5lPTjD/lUgPHPRrdfAsSVR/whjy8EjH9GUiiAfOIP6VeA8c9K+wsgr/hD2hVg/DPT9gLIL/6QbgUY/+y0uwDyjD+kWQHGP0NtLoB84w/pVYDxz1J7CyDv+ENaFWD8M9XWAsg//pBOBRj/bLWzAMqIP6RRAcY/Y20sgHLiD/B2Lmd67CXGcShXGP98ta8Ayoo/wMH8mFfHXmIMJ/KfTI29hMJpWwGUF3+AOdzIa2IvMYpz+CaTYy+hkNpVADOLjD/ATvyU3WMvMcxGXMznYi+h0NpUAHsyv9D4A8zgpxwfe4kXbc+POTb2EgqvPQXwHq5n69hLRDWVf+bbrXhB8EhuY//YS6gJ7SiASZzJ93ytGTiGm9kt6gbTuZDv8vKoO6gxbSiAqVzCWUyKvUZLzGY+Z7JJtPvPb+bNKNUO8QtgK67nvbGXaJVNOIu7eHuku+8Q6b6KInYB7MNNzIm8QxvtxFV8n21ir6HcxSyAjfkM/8PMiBu023t4gH9s5c8HKBvxCuAI7uHLrf85+Lg25iPcz8XMjr2IchWnAObwEy71q82uTOFY7uYK3mtZqn7NF8BWXMRN/HHj903ZEH/Kv7OAb/ndedWr2QKYxpnczwf8ll9fNuMEbuQxvsNxbBt7GeWhn18M0p+dOYoP9/F7hjXcTI7maOBBrudX3M09PEwn9lJKVRMFMIsjeZ/f7KvZjuy45n89y308zmKeYjGL+QbPR91LSQlbAK/gCN7HW6L/tEHeprHHev90oQWg7oUpgJexC6/jMA5h4yDXl1SL+gpgBru8OLNqu6qkgOopgDdzOZvVciVJDarnq/Ppxl9KkS/PSQWzAKSCWQBSwSwAqWAWgFQwC0AqmAUgFcwCkApmAUgFswCkglkAUsEsAKlgFoBUMAtAKpgFIBXMApAKZgFIBbMApIJZAFLBLACpYBaAVDALQCqYBSAVzAKQCmYBSAWzAKSCWQBSwSwAqWAWgFQwC0AqmAUgFcwCkApmAUgFswCkglkAUsEsAKlgFoBUMAtAKpgFIBXMApAKZgFIBbMApIJZAFLBLACpYBaAVDALQCqYBSAVzAKQCmYBSAWzAKSCWQBSwSwAqWAWgFQwC0AqmAUgFcwCkApmAUgFswCkglkAUsEsAKlgFoBUMAtAKpgFIBXMApAKZgFIBbMApIJZAFLBLACpYBaAVDALQCqYBSAVzAKQCmYBSAWzAKSCWQBSwSwAqWAWgFQwC0AqmAUgFcwCkApmAUgFq6cAFtVyldAG3TKFUy5n6YBXSOGUJXwkG9qyngK4kxW1XCesmwb887+sZYuwbhv4I5HCKQf9SN7Gqlr2CGvQU3alngJYxl21XCekJ3l4wCvcUscagQ3+SVPCKZfw61r2COlRFjZxm7peA5hf03XC+fnAV7ifp2vYI6zBT/mLGrYI63luHfga7T/l4B/JRm3DM3RaPM+zew2n/Ej0c4w/t7DRwGecxHXRzzH+fK6Gj+QOLI1+jvFmGbvWcMpGfTD6gzbenFHTKedFP8nYs4zX1XLG7VkS/Sxjz8+ZXMspPx79JOPNqbWcsWH/Ef1hG2t+UtMnDWzLguinGWtOrumMULEy+mlGn8XMrumMk7gi+mnGmmvS/Pb8JE7i2egP3sh5gS/U8MR4nVfxvehn2nB+y9tqPCPsz6+jn2nDuZJZNZ5xiFNZFv1MI+d5zqjtr6sIduYynoz+IK6dJVzHXgFOeSTzWR79dGvnUb7FZrWfcRpf4YHoZ1s7K7iTE2o/I+zKFSyOfrq183uuqeW1qh5MCnLVHdibmUGu3L0nuYX7An6/d2N2Yw82DXb9bqziQW4J+u2iV7IXsyP/jfQcd3A7zwa8w47szYyA1+/G4/yS+5P4+QRJkiRJkiRJkiRJ7fb/t/dAbsHJ894AAAAASUVORK5CYII="},327:function(e,t,a){e.exports=a.p+"static/media/Poland.f63e26dd.png"},334:function(e,t,a){e.exports=a.p+"static/media/sportBackground.578c60f3.png"},335:function(e,t,a){e.exports=a.p+"static/media/celebryciBackground.7921ca20.jpg"},336:function(e,t,a){e.exports=a.p+"static/media/politykaBackground.e914f677.jpg"},337:function(e,t,a){e.exports=a.p+"static/media/gospodarkaBackground.e29d775f.jpg"},357:function(e,t,a){e.exports=a(619)},368:function(e,t){},370:function(e,t){},383:function(e,t){},385:function(e,t){},413:function(e,t){},415:function(e,t){},416:function(e,t){},422:function(e,t){},424:function(e,t){},442:function(e,t){},444:function(e,t){},456:function(e,t){},459:function(e,t){},478:function(e,t,a){},480:function(e,t,a){},481:function(e,t,a){},577:function(e,t,a){},597:function(e,t,a){},598:function(e,t,a){},601:function(e,t,a){},611:function(e,t,a){},612:function(e,t,a){},615:function(e,t,a){},618:function(e,t,a){},619:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(41),c=a.n(o),i=a(4),l=a(30),s=a(325),u=a(91),p=a(32),d=a(47),m=Object(d.b)(),h=a(345),E=a(326),f=a.n(E),y=function(e){var t=e.component,a=Object(h.a)(e,["component"]);return r.a.createElement(p.d,Object.assign({},a,{render:function(e){return function(){var e=localStorage.getItem("user");if(e){var t=f.a.decode(JSON.parse(e).token).exp;return(new Date).getTime()>1e3*t}return!0}()?r.a.createElement(p.c,{to:{pathname:"/login",state:{from:e.location}}}):r.a.createElement(t,e)}}))},k=a(635),g=a(636),b=a(328),v=a(637),O=a(329),C=a(16),j=a(327),S=a.n(j),T=(a(478),Object(i.b)((function(e){return{loggedIn:e.login.loggedIn}}))((function(e){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement("header",null,r.a.createElement("h2",null,"Do\u0142\u0105cz do PredictBom ju\u017c dzi\u015b !")),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(g.a,null,r.a.createElement(b.a,{sm:6},r.a.createElement(v.a,{variant:"top",src:S.a,alt:"Obrazek Polska",className:"img-cover"})),r.a.createElement(b.a,{sm:6},r.a.createElement("div",{className:"advantages home-info"},r.a.createElement("h4",null,"Dlaczego warto do nas do\u0142\u0105czy\u0107 ?"),r.a.createElement("p",{className:"text-muted"},r.a.createElement("strong",null,"PredictBom jest darmow\u0105 aplikacj\u0105 zwi\u0105zan\u0105 z rynkami prognostycznymi."),"We\u017a udzia\u0142 w rynkach dotycz\u0105cych najciekawszych wydarze\u0144 dziej\u0105cych si\u0119 w naszym kraju z zakresu kilku kategorii.")),r.a.createElement("div",{className:"rules home-info"},r.a.createElement("h4",null,"Zasady gry"),r.a.createElement("p",{className:"text-muted"},"Gracze PredictBom otrzymuj\u0105 mo\u017cliwo\u015b\u0107 obrotu akcjami na wielu interesuj\u0105cych rynkach prognoz. Ceny akcji wahaj\u0105 si\u0119 mi\u0119dzy 0 a 1 $, gdzie za ka\u017cd\u0105 akcj\u0119 na poprawn\u0105 opcj\u0119 zak\u0142adow\u0105 otrzymuj\u0105 1 $. Wyka\u017c si\u0119 umiej\u0119tnosciami prognostycznymi i kupuj akcje po jak najbardziej korzystnych cenach i sprzedawaj je aby jak najbardziej zwi\u0119kszy\u0107 sw\xf3j bud\u017cet. Zakupione akcje znajdziesz w zak\u0142adce kontrakty. Aby gra by\u0142a uczciwa i najbogatsi gracze nie wykupowali wszystkich akcji dla danego rynku,"," ",r.a.createElement("strong",null,"dziennie mo\u017cliwy jest zakup 1000 akcji na wybran\u0105 opcj\u0119 zak\u0142adow\u0105."))),r.a.createElement("div",{className:"bonus home-info"},r.a.createElement("h4",null,"Odwiedzaj nas codziennie aby odebra\u0107 bonus !"),r.a.createElement("p",{className:"text-muted"},"Nie zawsze b\u0119dziesz dobrze obstawia\u0107, aby odzyska\u0107 bud\u017cet odwiedzaj nas codziennie!"," ",r.a.createElement("strong",null,"Przy pierwszym logowaniu ka\u017cdego dnia otrzymasz 100$."))),!e.loggedIn&&r.a.createElement("div",{className:"text-center"},r.a.createElement(C.LinkContainer,{to:"/register",className:"link-button"},r.a.createElement(O.a,{variant:"dark"},"Do\u0142\u0105cz do PredictBom"))),r.a.createElement("div",{className:"text-center"},r.a.createElement(C.LinkContainer,{to:"/markets",className:"link-button"},r.a.createElement(O.a,{variant:"dark"},"Przegl\u0105daj rynki"))))))}))),w=a(6),A=a(7),N=a(9),z=a(8),I=a(649),P=a(648),F=a(645),M="REGISTER_REQUEST",R="REGISTER_SUCCESS",L="REGISTER_FAILURE",D="LOGIN_REQUEST",B="LOGIN_SUCCESS",_="LOGIN_FAILURE",x="LOGOUT",U="EDIT_PASSWORD_REQUEST",K="EDIT_PASSWORD_SUCCESS",H="EDIT_PASSWORD_FAILURE",W="CHANGE_PASSWORD_WITH_TOKEN_REQUEST",G="CHANGE_PASSWORD_WITH_TOKEN_SUCCESS",Q="CHANGE_PASSWORD_WITH_TOKEN_FAILURE";function Y(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token,"Content-Type":"application/json"}:{}}var Z="https://predict-bom.herokuapp.com",V=function(e){return e.text().then((function(t){if(!e.ok){var a=t||e.statusText;return Promise.reject(a)}return t&&JSON.parse(t)}))},J=function(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){var n=a&&a.error||e.statusText;return Promise.reject(n)}return a}))},X=function(e){return e.text().then((function(t){return 500===e.status?Promise.reject("W tym momencie du\u017co os\xf3b pr\xf3buje z\u0142o\u017cy\u0107 zam\xf3wienie, spr\xf3buj ponownie za chwil\u0119"):e.ok?t&&JSON.parse(t):Promise.reject(t)}))},q=function(e){return e.text().then((function(t){if(!e.ok){var a=t||e.statusText;return Promise.reject(a)}return t}))},$=function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("".concat(Z,"/api/auth/signin"),a).then(J).then((function(e){return localStorage.setItem("user",JSON.stringify(e)),e}))},ee=function(){localStorage.removeItem("user")},te=function(e,t,a,n,r){var o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,firstName:t,surname:a,email:n,password:r})};return fetch("".concat(Z,"/api/auth/signup"),o).then((function(e){return q(e)}))},ae=function(e){return fetch("".concat(Z,"/api/auth/resetPassword?username=").concat(e),{method:"POST",headers:{"Content-Type":"application/json"}}).then((function(e){return q(e)}))},ne=function(e){return fetch("".concat(Z,"/api/auth/checkToken?token=").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return q(e)}))},re=function(e,t,a){var n={method:"PUT",headers:Y(),body:JSON.stringify({oldPassword:e,newPassword:t,repeatedNewPassword:a})};return fetch("".concat(Z,"/api/auth/editPassword"),n).then((function(e){return q(e)}))},oe=function(e,t,a){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newPassword:e,repeatedPassword:t,token:a})};return fetch("".concat(Z,"/api/auth/changePassword"),n).then((function(e){return q(e)}))},ce="ALERT_SUCCESS_INFO",ie="ALERT_ERROR",le="ALERT_CLEAR",se="ALERT_BUYING",ue="ALERT_DELETING",pe="ALERT_CONNECTION_ERROR",de={success:function(e){return{type:ce,payload:e}},error:function(e){return{type:ie,payload:e}},clear:function(){return{type:le}},buyingError:function(e){return{type:se,payload:e}},deleteAlert:function(e){return{type:ue,payload:e}}},me=function(){return ee(),m.push("/login"),{type:x}},he=a(638),Ee=function(e){var t=e.input,a=e.label,n=e.meta,o=e.type,c=e.placeholder,i=e.as,l=e.helpText,s=e.rows,u=e.max,p=e.min,d=e.disabled;return r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,a),r.a.createElement(I.a.Control,Object.assign({},t,{min:p,max:u,as:i,type:o,placeholder:c,rows:s,disabled:d})),ke(n),l&&r.a.createElement(I.a.Text,{className:"text-muted"},l))},fe=function(e){var t=e.input,a=e.options,n=e.label,o=(e.type,e.disabled),c=e.meta;return r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,n),r.a.createElement(I.a.Control,Object.assign({},t,{as:"select",disabled:o}),a.map((function(e){return r.a.createElement("option",{id:e.val,value:e.val,key:e.key},e.text)}))),ke(c))},ye=function(e){var t=e.input,a=e.type,n=e.meta,o=e.accept,c=e.methodToHandle;return r.a.createElement("div",null,r.a.createElement("input",{name:t.name,type:a,accept:o,onChange:function(e){return c(e,t)}}),ke(n))},ke=function(e){var t=e.error;if(e.touched&&t)return r.a.createElement(he.a,{variant:"danger"},t)},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"danger";if(e.payload)return r.a.createElement(he.a,{className:"mt-3",variant:t},e.payload)},be=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"danger";if(e.payload)return r.a.createElement(he.a,{className:"mt-3",onClose:function(){return t()},variant:a,dismissible:!0},e.payload)},ve=a(639),Oe=function(e,t){return"undefined"!==typeof e&&e.pending?r.a.createElement("div",null,r.a.createElement(ve.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"\u0141adowanie..."):t},Ce=a(21),je=a(22),Se=(a(480),function(){return r.a.createElement(Ce.a,{className:"back-icon",icon:je.a,size:"2x",onClick:function(){return m.goBack()}})}),Te=(a(481),function(e){return r.a.createElement("header",null,r.a.createElement(Se,null),r.a.createElement("h2",null,e.title))}),we=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.login(t)},e.renderAlerts=function(){return e.props.alert&&e.props.alert.type===ce?be(e.props.alert,e.props.clear,"success"):ge(e.props.alert)},e}return Object(A.a)(a,[{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container form-container"},r.a.createElement(I.a,{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(Te,{title:"Logowanie"}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(P.a,{type:"text",label:"Nazwa u\u017cytkownika",name:"username",component:Ee,placeholder:"Wprowad\u017a nazw\u0119 u\u017cytkownika"}),r.a.createElement(I.a.Text,{className:"text-muted"},"Zapewniamy \u017ce twoje dane b\u0119d\u0105 bezpieczne"),r.a.createElement(P.a,{type:"password",label:"Has\u0142o",name:"password",component:Ee,placeholder:"Wprowad\u017a has\u0142o"}),r.a.createElement(O.a,{id:"loginButton",variant:"primary",type:"submit"},Oe(this.props.loading,"Zaloguj si\u0119"))),r.a.createElement(u.Link,{to:"/resetPassword"},"Zapomnia\u0142e\u015b has\u0142a ?"),this.renderAlerts())}}]),a}(r.a.Component),Ae=Object(F.a)({form:"loginForm",validate:function(e){var t={};return e.username||(t.username="Musisz poda\u0107 nazw\u0119 u\u017cytkownika"),e.password||(t.password="Musisz poda\u0107 has\u0142o"),t}})(we),Ne=Object(i.b)((function(e){return{alert:e.alert,loading:e.loading.LOGIN}}),{login:function(e){var t=e.username,a=e.password;return function(e){e({type:D,user:{username:t}}),$(t,a).then((function(t){e(function(e){return{type:B,user:e}}(t)),m.push("/profile")}),(function(t){e({type:_}),e(de.error(t.toString()))}))}},clear:de.clear})(Ae),ze="SET_MARKET_COVER_REQUEST",Ie="SET_MARKET_COVER_SUCCESS",Pe="SET_MARKET_COVER_FAILURE",Fe="EDIT_MARKET_REQUEST",Me="EDIT_MARKET_SUCCESS",Re="EDIT_MARKET_FAILURE",Le="ADD_BET_REQUEST",De="ADD_BET_SUCCESS",Be="ADD_BET_FAILURE",_e="DELETE_BET_REQUEST",xe="DELETE_BET_SUCCESS",Ue="DELETE_BET_FAILURE",Ke="FETCH_MARKETS_REQUEST",He="FETCH_MARKETS_SUCCESS",We="FETCH_MARKETS_FAILURE",Ge="CREATE_MARKET_REQUEST",Qe="CREATE_MARKET_SUCCESS",Ye="CREATE_MARKET_FAILURE",Ze="FETCH_MARKET_REQUEST",Ve="FETCH_MARKET_SUCCESS",Je="FETCH_MARKET_FAILURE",Xe="MAKE_MARKET_PUBLIC_REQUEST",qe="MAKE_MARKET_PUBLIC_SUCCESS",$e="MAKE_MARKET_PUBLIC_FAILURE",et="SOLVE_MARKET_REQUEST",tt="SOLVE_MARKET_SUCCESS",at="SOLVE_MARKET_FAILURE",nt="DELETE_MARKET_REQUEST",rt="DELETE_MARKET_SUCCESS",ot="DELETE_MARKET_FAILURE";function ct(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var it=function(e,t,a,n){var r={method:"POST",headers:Y(),body:JSON.stringify({topic:e,category:t,endDate:a,description:n})};return fetch("".concat(Z,"/markets/new"),r).then((function(e){return V(e)}))},lt=function(e,t,a,n,r){var o={method:"PUT",headers:Y(),body:JSON.stringify({topic:t,category:a,endDate:n,description:r})};return fetch("".concat(Z,"/markets/edit/").concat(e),o).then((function(e){return V(e)}))},st=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,c="";a.length>0&&a.forEach((function(e){c+="marketCategory=".concat(e,"&")})),c.length>0?c.substr(0,c.length-1):c="marketCategory=";var i={method:"GET",headers:Y()};return fetch("".concat(Z,"/markets").concat(e,"?marketTitle=").concat(t,"&").concat(c,"&page=").concat(r,"&size=").concat(o,"&sortAttribute=").concat(n[0],"&sortDirection=").concat(n[1]),i).then((function(e){return V(e)}))},ut=function(e){var t={method:"GET",headers:Y()};return fetch("".concat(Z,"/markets/").concat(e),t).then((function(e){return V(e)}))},pt=function(e,t){var a={method:"GET",headers:Y()},n="".concat(Z,"/markets/betPrice?betId=").concat(e);return void 0!==typeof t&&n.concat("?option=".concat(t)),fetch(n,a).then((function(e){return V(e)}))},dt=function(e){var t={method:"DELETE",headers:Y()};return fetch("".concat(Z,"/markets/delete?marketId=").concat(e),t).then((function(e){return V(e)}))},mt=function(e,t){var a=t.marketCover,n=new FormData;n.append("marketCover",a);var r={method:"POST",headers:ct(),body:n};return fetch("".concat(Z,"/markets/marketCover/").concat(e),r).then((function(e){return V(e)}))},ht=function(e,t,a,n,r){var o={method:"POST",headers:Y(),body:JSON.stringify({marketId:e,yesPrice:t,noPrice:a,title:n,shares:r})};return fetch("".concat(Z,"/markets/addBet"),o).then((function(e){return V(e)}))},Et=function(e){var t={method:"POST",headers:Y()};return fetch("".concat(Z,"/markets/deleteBet?betId=").concat(e),t).then((function(e){return V(e)}))},ft=function(e){var t={method:"PUT",headers:Y()};return fetch("".concat(Z,"/markets/makePublic?marketId=").concat(e),t).then((function(e){return V(e)}))},yt=function(e,t,a){var n={method:"PUT",headers:Y()};return fetch("".concat(Z,"/markets/solveMarket?marketId=").concat(e,"&betId=").concat(t,"&correctOption=").concat(a),n).then((function(e){return V(e)}))},kt="FETCH_BETS_PRICE_REQUEST",gt="FETCH_BETS_PRICE_SUCCESS",bt="FETCH_BETS_PRICE_FAILURE",vt="DELETE_BET",Ot="UPDATE_PAGINATION",Ct="UPDATE_CONTRACT_PAGINATION",jt="UPDATE_OFFERS_PAGINATION",St="UPDATE_TRANSACTION_PAGINATION",Tt="CLEAR_PAGINATION",wt=function(e){return{type:Ct,payload:e}},At=function(e){return{type:jt,payload:e}},Nt=a(38),zt=a.n(Nt),It=function(e){return function(t){t({type:Ze}),ut(e).then((function(e){t(function(e){return{type:Ve,payload:e}}(e))}),(function(e){t({type:Je}),t(de.error(e.toString()))}))}},Pt=function(e){return function(t){t({type:kt}),pt(e).then((function(e){t(function(e){return{type:gt,payload:e}}(e))}),(function(e){t({type:bt}),t(de.error(e.toString()))}))}},Ft=function(e){return function(t){t({type:_e}),Et(e).then((function(a){t({type:xe,payload:a}),t(function(e){return{type:vt,payload:e}}(e))}),(function(e){t({type:Ue}),t(de.error(e.toString()))}))}},Mt=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(c){c(n()),yt(e,t,a).then((function(t){c(r(t)),m.push("/markets/details/".concat(e))}),(function(e){c(o()),c(de.error(e.toString()))}))};function n(){return{type:et}}function r(e){return{type:tt,payload:e}}function o(){return{type:at}}},Rt=[{val:"SPORT",text:"Sport",key:1},{val:"ECONOMY",text:"Gospodarka",key:2},{val:"CELEBRITIES",text:"Celebryci",key:3},{val:"POLICY",text:"Polityka",key:4},{val:"OTHER",text:"Inne",key:5}],Lt=function(e){return r.a.createElement("div",null,r.a.createElement("h4",null,"Kategorie"),r.a.createElement(I.a.Group,null,[{label:"Sport",value:"SPORT",key:1},{label:"Celebryci",value:"CELEBRITIES",key:2},{label:"Polityka",value:"POLICY",key:3},{label:"Gospodarka",value:"ECONOMY",key:4},{label:"Inne",value:"OTHER",key:5}].map((function(t){return r.a.createElement(I.a.Check,{onClick:e,key:t.value,label:t.label,value:t.value,name:"checkbox",type:"checkbox"})}))))},Dt=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={resetButtonDisable:!0},e.onSubmit=function(t){e.props.createMarket(t)},e.resetForm=function(){e.setState({resetButtonDisable:!0}),e.props.reset()},e.checkIsEmptyField=function(t){t.target.value?e.setState({resetButtonDisable:!1}):e.setState({resetButtonDisable:!0})},e.renderForm=function(){return r.a.createElement(I.a,{onSubmit:e.props.handleSubmit(e.onSubmit)},r.a.createElement(P.a,{onChange:e.checkIsEmptyField,type:"text",label:"Tytu\u0142 rynku",name:"topic",component:Ee,placeholder:"Wprowad\u017a tytu\u0142 rynku prognostycznego"}),r.a.createElement(P.a,{onChange:e.checkIsEmptyField,helpText:"Je\u017celi nie wiesz kiedy mo\u017ce zako\u0144czy\u0107 si\u0119 dany rynek nie wype\u0142niaj tego pola",type:"date",label:"Przewidywana data zako\u0144czenia rynku",name:"endDate",component:Ee}),r.a.createElement(P.a,{onChange:e.checkIsEmptyField,name:"category",label:"Wybierz kategori\u0119 rynku",options:Rt,component:fe}),r.a.createElement(P.a,{onChange:e.checkIsEmptyField,as:"textarea",rows:"5",id:"description",name:"description",label:"Kr\xf3tko opisz rynek i jego zasady",component:Ee}),r.a.createElement(O.a,{id:"createMarketButton",className:"form-button",variant:"primary",type:"submit"},Oe(e.props.loading,"Stw\xf3rz rynek")),r.a.createElement(O.a,{className:"form-button",variant:"primary",type:"reset",onClick:e.resetForm,disabled:e.state.resetButtonDisable},"Cofnij zmiany"))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.initialize({category:"SPORT"})}},{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement(Te,{title:"Tworzenie rynku prognostycznego"}),r.a.createElement("hr",{className:"my-4"}),this.renderForm(),be(this.props.alert,this.props.clear))}}]),a}(r.a.Component),Bt=Object(F.a)({form:"createMarketForm",validate:function(e){var t={};(["topic","description"].forEach((function(a){e[a]||(t[a]="To pole jest wymagane")})),e.endDate)&&(new Date(e.endDate)<new Date&&(t.endDate="Musisz poda\u0107 dat\u0119 p\xf3\u017aniejsz\u0105 od dzisiejszej"));return t}})(Dt),_t=Object(i.b)((function(e){return{alert:e.alert,loading:e.loading.CREATE_MARKET}}),{createMarket:function(e){var t=e.topic,a=e.category,n=e.endDate,r=void 0===n?"":n,o=e.description;return function(e){e({type:Ge}),it(t,a,r,o).then((function(t){e({type:Qe,payload:t}),m.push("/markets/editBets/".concat(t.marketId))}),(function(t){e({type:Ye}),e(de.error(t.toString()))}))}},clear:de.clear})(Bt),xt=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={resetButtonDisable:!0,imageFile:null},n.handleChange=function(e,t){e.preventDefault();var a=e.target.files[0];if(a){var r=URL.createObjectURL(a),o=new window.Image;o.onload=function(){a.width=o.naturalWidth,a.height=o.naturalHeight,t.onChange(a),URL.revokeObjectURL(a)},n.setState({imageFile:r,resetButtonDisable:!1}),o.src=r}},n.onSubmit=function(e){n.props.setMarketCover(n.props.match.params.id,e)},n.resetForm=function(){Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""})),n.props.reset(),n.setState({imageFile:null,resetButtonDisable:!0})},n.fileInput=r.a.createRef(),n}return Object(A.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement(Te,{title:"Edytuj zdj\u0119cie"}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(I.a,{onSubmit:this.props.handleSubmit(this.onSubmit),encType:"multipart/form-data"},r.a.createElement(P.a,{ref:function(t){return e.fileInput=t},accept:"image/*",type:"file",name:"marketCover",component:ye,methodToHandle:this.handleChange}),r.a.createElement("div",{className:"img-box"},this.state.imageFile&&r.a.createElement(v.a,{className:"img",src:this.state.imageFile,rounded:!0})),r.a.createElement(O.a,{className:"form-button",variant:"primary",type:"submit"},Oe(this.props.loading,"Zatwierd\u017a")),r.a.createElement(O.a,{className:"form-button",variant:"primary",type:"reset",onClick:this.resetForm,disabled:this.state.resetButtonDisable},"Cofnij zmiany")))}}]),a}(r.a.Component),Ut=Object(F.a)({form:"editCoverForm",validate:function(e){var t={};return e.marketCover&&(e.marketCover.type.includes("image")||(t.marketCover="Wybierz plik kt\xf3ry jest obrazem")),e.marketCover||(t.marketCover="Wybierz zdj\u0119cie"),t}})(xt),Kt=Object(i.b)((function(e){return{alert:e.alert,loading:e.loading.SET_MARKET_COVER}}),{setMarketCover:function(e,t){return function(a){a({type:ze}),mt(e,t).then((function(t){a({type:Ie,payload:t}),m.push("/markets/details/".concat(e))}),(function(e){a({type:Pe}),a(de.error(e.toString()))}))}}})(Ut),Ht=a(104),Wt=a(346),Gt=a(652),Qt=a(647),Yt="FETCH_PLAYER_REQUEST",Zt="FETCH_PLAYER_SUCCESS",Vt="FETCH_PLAYER_FAILURE",Jt=function(e){var t={method:"GET",headers:Y()};return fetch("".concat(Z,"/player/").concat(e),t).then((function(e){return V(e)}))},Xt=function(){var e={method:"GET",headers:Y()};return fetch("".concat(Z,"/player/ranking"),e).then((function(e){return V(e)}))},qt=function(e){return function(t){t({type:Yt}),Jt(e).then((function(e){t({type:Zt,payload:e})}),(function(e){t({type:Vt}),t(de.error(e.toString()))}))}},$t=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderData=function(){if(e.props.login.loggedIn)return r.a.createElement(Wt.a,null,r.a.createElement(C.LinkContainer,{to:"/profile"},r.a.createElement(Wt.a.Link,null,e.props.login.user.username)),r.a.createElement(Wt.a.Link,{onClick:e.logout.bind(Object(Ht.a)(e))},"Wyloguj si\u0119"),!zt.a.isEmpty(e.props.player)&&r.a.createElement(Gt.a.Text,null,r.a.createElement(Ce.a,{icon:je.d})," Bud\u017cet:"," ",Math.round(100*(e.props.player.budget+Number.EPSILON))/100," ","$"))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.login.loggedIn&&this.props.login.user.roles.includes("ROLE_PLAYER")&&this.props.fetchPlayer(this.props.login.user.username)}},{key:"logout",value:function(e){e.preventDefault(),this.props.logout()}},{key:"renderRankingLink",value:function(){return r.a.createElement(C.LinkContainer,{to:"/ranking"},r.a.createElement(Wt.a.Link,null,"Ranking"))}},{key:"renderUserPanel",value:function(){switch(this.props.login.user.roles[0]){case"ROLE_MODERATOR":return r.a.createElement(Wt.a,{className:"mr-auto"},r.a.createElement(Qt.a,{title:"Rynki"},r.a.createElement(C.LinkContainer,{to:"/createMarket"},r.a.createElement(Qt.a.Item,null,"Dodaj nowy rynek")),r.a.createElement(C.LinkContainer,{to:"/markets/"},r.a.createElement(Qt.a.Item,null,"Rynki publiczne"))),this.renderRankingLink());case"ROLE_PLAYER":return r.a.createElement(Wt.a,{className:"mr-auto"},r.a.createElement(C.LinkContainer,{to:"/markets"},r.a.createElement(Wt.a.Link,null,"Rynki")),r.a.createElement(C.LinkContainer,{to:"/offers"},r.a.createElement(Wt.a.Link,null,"Twoje oferty")),r.a.createElement(C.LinkContainer,{to:"/contracts"},r.a.createElement(Wt.a.Link,null,"Kontrakty")),r.a.createElement(C.LinkContainer,{to:"/transactions"},r.a.createElement(Wt.a.Link,null,"Transakcje")),this.renderRankingLink());default:return null}}},{key:"renderUnloggedUserPanel",value:function(){return r.a.createElement(Wt.a,{className:"mr-auto"},r.a.createElement(C.LinkContainer,{to:"/register"},r.a.createElement(Wt.a.Link,null,"Rejestracja")),r.a.createElement(C.LinkContainer,{to:"/login"},r.a.createElement(Wt.a.Link,{id:"linkToLogin"},"Logowanie")),r.a.createElement(C.LinkContainer,{to:"/markets"},r.a.createElement(Wt.a.Link,null,"Rynki")),this.renderRankingLink())}},{key:"render",value:function(){return r.a.createElement(Gt.a,{bg:"primary",variant:"dark",expand:"lg",sticky:"top",collapseOnSelect:!0},r.a.createElement(C.LinkContainer,{to:"/"},r.a.createElement(Gt.a.Brand,null,"PredictBom")),r.a.createElement(Gt.a.Toggle,{id:"navbar-toggle","aria-controls":"responsive-navbar-nav"}),r.a.createElement(Gt.a.Collapse,{id:"responsive-navbar-nav"},this.props.login.loggedIn?this.renderUserPanel():this.renderUnloggedUserPanel(),this.renderData()))}}]),a}(r.a.Component),ea=Object(i.b)((function(e){return{login:e.login,player:e.player,loading:e.loading.FETCH_PLAYER}}),{logout:me,fetchPlayer:qt})($t),ta=(a(577),function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderContentByRole=function(e){switch(e){case"ROLE_PLAYER":return r.a.createElement("div",null,r.a.createElement(C.LinkContainer,{to:"/markets"},r.a.createElement(O.a,{className:"profile-button",variant:"outline-dark"},"Przegl\u0105daj rynki")),r.a.createElement(C.LinkContainer,{to:"/contracts"},r.a.createElement(O.a,{className:"profile-button",variant:"outline-dark"},"Przegl\u0105daj kontrakty")),r.a.createElement(C.LinkContainer,{to:"/offers"},r.a.createElement(O.a,{className:"profile-button",variant:"outline-dark"},"Przegl\u0105daj twoje oferty")),r.a.createElement(C.LinkContainer,{to:"/transactions"},r.a.createElement(O.a,{className:"profile-button",variant:"outline-dark"},"Przegl\u0105daj transakcje")));case"ROLE_MODERATOR":return r.a.createElement("div",null,r.a.createElement(C.LinkContainer,{to:"/markets"},r.a.createElement(O.a,{className:"profile-button",variant:"outline-dark"},"Przegl\u0105daj rynki prognostyczne")),r.a.createElement(C.LinkContainer,{to:"/createMarket"},r.a.createElement(O.a,{id:"addNewMarket",className:"profile-button",variant:"outline-dark"},"Dodaj nowy rynek")));case"ROLE_ADMIN":return r.a.createElement("div",null,r.a.createElement(O.a,{className:"profile-button",variant:"outline-dark"},"Dodaj moderatora"));default:return null}},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.user&&this.props.user.roles.includes("ROLE_PLAYER")&&this.props.fetchPlayer(this.props.user.username)}},{key:"renderContent",value:function(){var e=this;if(this.props.user)return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container profile-container"},r.a.createElement("h3",null,"Witaj ",this.props.user.username," !"),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(g.a,null,r.a.createElement(b.a,{sm:6,className:"text-center"},r.a.createElement(Ce.a,{size:"6x",icon:je.j})),r.a.createElement(b.a,null,r.a.createElement("h5",null,r.a.createElement("b",null,"Imi\u0119:")," ",this.props.user.firstName),r.a.createElement("h5",null,r.a.createElement("b",null,"Nazwisko:")," ",this.props.user.surname),r.a.createElement("h5",null,r.a.createElement("b",null,"Email:")," ",this.props.user.email),this.props.player.budget&&r.a.createElement("h5",null,r.a.createElement("b",null,"Bud\u017cet: "),Math.round(100*(this.props.player.budget+Number.EPSILON))/100," ","$"))),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",{className:"text-center"},this.renderContentByRole(this.props.user.roles[0]),r.a.createElement(C.LinkContainer,{to:"/ranking"},r.a.createElement(O.a,{className:"profile-button",variant:"outline-dark"},"Wy\u015bwietl ranking")),r.a.createElement(C.LinkContainer,{to:"/editPassword"},r.a.createElement(O.a,{id:"openEditPasswordButton",className:"profile-button",variant:"outline-dark"},"Zmie\u0144 has\u0142o")),r.a.createElement(O.a,{onClick:function(){return e.props.logout()},className:"profile-button",variant:"outline-dark"},"Wyloguj si\u0119")))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderContent())}}]),a}(r.a.Component)),aa=Object(i.b)((function(e){return{user:e.login.user,player:e.player}}),{fetchPlayer:qt,logout:me})(ta),na=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.register(t)},e}return Object(A.a)(a,[{key:"componentWillUnmount",value:function(){this.props.alert&&"ALERT_SUCCESS_INFO"===!this.props.alert.type&&this.props.clear()}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container form-container"},r.a.createElement(I.a,{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(Te,{title:"Rejestracja"}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(P.a,{type:"text",label:"Nazwa u\u017cytkownika",name:"username",component:Ee,placeholder:"Wprowad\u017a nazw\u0119 u\u017cytkownika"}),r.a.createElement(I.a.Text,{className:"text-muted"},"Zapewniamy \u017ce twoje dane b\u0119d\u0105 bezpieczne"),r.a.createElement(P.a,{type:"text",label:"Imi\u0119",name:"firstName",component:Ee,placeholder:"Podaj swoje imi\u0119"}),r.a.createElement(P.a,{type:"text",label:"Nazwisko",name:"surname",component:Ee,placeholder:"Podaj swoje nazwisko"}),r.a.createElement(P.a,{type:"text",label:"Adres e-mail",name:"email",component:Ee,placeholder:"Wprowad\u017a sw\xf3j adres e-mail"}),r.a.createElement(P.a,{type:"password",label:"Has\u0142o",name:"password",component:Ee,placeholder:"Wprowad\u017a has\u0142o"}),r.a.createElement(P.a,{type:"password",label:"Powt\xf3rz has\u0142o",name:"repeatPassword",component:Ee,placeholder:"Powt\xf3rz swoje has\u0142o"}),r.a.createElement(O.a,{variant:"primary",type:"submit"},Oe(this.props.loading,"Za\u0142\xf3\u017c konto"))),ge(this.props.alert))}}]),a}(r.a.Component),ra=Object(F.a)({form:"registerForm",validate:function(e){var t={};return["username","firstName","surname","email","password","repeatPassword"].forEach((function(a){e[a]||(t[a]="To pole jest wymagane")})),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Niepoprawny adres e-mail"),e.password!==e.repeatPassword&&(t.repeatPassword="Podane has\u0142a s\u0105 r\xf3\u017cne"),e.password&&(e.password.length<6||e.password>40)&&(t.password="Has\u0142o musi zawiera\u0107 od 6 do 40 znak\xf3w"),t}})(na),oa=Object(i.b)((function(e){return{alert:e.alert,loading:e.loading.REGISTER}}),{register:function(e){var t=e.username,a=e.firstName,n=e.surname,r=e.email,o=e.password;return function(e){e({type:M}),te(t,a,n,r,o).then((function(t){e({type:R}),e(de.success(t)),m.push("/login")}),(function(t){e({type:L}),e(de.error(t.toString()))}))}},clear:de.clear})(ra),ca=a(654),ia=a(29),la=a.n(ia),sa="BUY_CONTRACT_REQUEST",ua="BUY_CONTRACT_SUCCESS",pa="BUY_CONTRACT_FAILURE",da="FETCH_CONTRACTS_REQUEST",ma="FETCH_CONTRACTS_SUCCESS",ha="FETCH_CONTRACTS_FAILURE",Ea="FETCH_CONTRACT_REQUEST",fa="FETCH_CONTRACT_SUCCESS",ya="FETCH_CONTRACT_FAILURE",ka="FETCH_CONTRACT_DETAILS_REQUEST",ga="FETCH_CONTRACT_DETAILS_SUCCESS",ba="FETCH_CONTRACT_DETAILS_FAILURE",va="ADD_OFFER_REQUEST",Oa="ADD_OFFER_SUCCESS",Ca="ADD_OFFER_FAILURE",ja="DELETE_OFFER_REQUEST",Sa="DELETE_OFFER_SUCCESS",Ta="DELETE_OFFER_FAILURE",wa=function(e,t,a,n,r){var o={method:"POST",headers:Y(),body:JSON.stringify({betId:e,marketId:t,contractOption:a,maxPrice:n,shares:r})};return fetch("".concat(Z,"/markets/buyContract"),o).then((function(e){return X(e)}))},Aa=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,i=arguments.length>7?arguments[7]:void 0,l="";r.length>0&&r.forEach((function(e){l+="marketCategory=".concat(e,"&")})),l.length>0?l.substr(0,l.length-1):l="marketCategory=";var s={method:"GET",headers:Y()};return fetch("".concat(Z,"/contracts/filtered?contractStatus=").concat(e,"&contractOption=").concat(t,"&betTitle=").concat(a,"&marketTitle=").concat(n,"&").concat(l,"&page=").concat(c,"&size=").concat(i,"&sortAttribute=").concat(o[0],"&sortDirection=").concat(o[1]),s).then((function(e){return V(e)}))},Na=function(e,t){var a={method:"GET",headers:Y()};return fetch("".concat(Z,"/contracts?page=").concat(e,"&size=").concat(t),a).then((function(e){return V(e)}))},za=function(e){var t={method:"GET",headers:Y()};return fetch("".concat(Z,"/contracts/").concat(e),t).then((function(e){return V(e)}))},Ia=function(e,t,a){var n={method:"POST",headers:Y(),body:JSON.stringify({contractId:e,shares:t,price:a})};return fetch("".concat(Z,"/contracts/addOffer"),n).then((function(e){return V(e)}))},Pa=function(e){var t={method:"DELETE",headers:Y()};return fetch("".concat(Z,"/contracts/deleteOffer?offerId=").concat(e),t).then((function(e){return V(e)}))},Fa=function(e){return function(t){t({type:ka}),za(e).then((function(e){t({type:ga,payload:e})}),(function(e){t({type:ba}),t(de.error(e.toString()))}))}},Ma=(a(597),function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).onSubmit=function(t){e.props.buyContract(e.props.betId,e.props.marketId,e.props.contractOption,t)},e.renderForm=function(){return r.a.createElement("div",null,r.a.createElement(I.a,{onSubmit:e.props.handleSubmit(e.onSubmit)},r.a.createElement("h4",null,"Wybrana opcja na",e.props.contractOption?r.a.createElement("span",null," tak"):r.a.createElement("span",null," nie")),r.a.createElement(I.a.Text,{className:"buy-info"},"Podaj swoje kryteria zakupu akcji a system wyszuka dla ciebie najlepsze oferty. Iloczyn maksymalnej ceny za jedn\u0105 akcj\u0119 i ich liczby nie powinien przekracza\u0107 warto\u015bci twojego bud\u017cetu! Pami\u0119taj tak\u017ce o limicie zakup\xf3w do 1000 akcji dziennie."),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(P.a,{type:"number",max:"1",name:"maxPrice",label:"Podaj maksymaln\u0105 cen\u0119 1 akcji",component:Ee}),r.a.createElement(P.a,{type:"number",min:"1",max:"1000",name:"shares",label:"Ile akcji chcesz kupi\u0107",component:Ee}),r.a.createElement("div",{className:"buy-form-buttons"},r.a.createElement(O.a,{className:"form-button",variant:"primary",type:"submit"},"Kup"),r.a.createElement(O.a,{className:"form-button",variant:"primary",onClick:e.props.hideForm},"Zamknij"))))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.clear()}},{key:"renderLoadingPrice",value:function(){if("undefined"!==typeof this.props.loading&&this.props.loading.pending)return r.a.createElement("div",{className:"text-center"},r.a.createElement(la.a,{type:"TailSpin",color:"black"}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderForm(),this.renderLoadingPrice(),ge(this.props.alert))}}]),a}(r.a.Component)),Ra=Object(F.a)({form:"buyContractForm",validate:function(e){var t={};return["maxPrice","shares"].forEach((function(a){e[a]||(t[a]="To pole jest wymagane")})),t}})(Ma),La=Object(i.b)((function(e){return{alert:e.alert,loading:e.loading.BUY_CONTRACT}}),{buyContract:function(e,t,a,n){var r=n.maxPrice,o=n.shares;return function(n){n({type:sa,payload:{betId:e}}),wa(e,t,a,r,o).then((function(e){var t;n(function(e){return{type:ua,payload:e}}(e.boughtContract)),n((t=e.purchaser,{type:Zt,payload:t})),m.push("/contracts")}),(function(e){n({type:pa}),n(de.buyingError(e.toString()))}))}},clear:de.clear})(Ra),Da=(a(598),function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={submitted:!1,contractOption:null,backgroundColor:"blue"},n.hideForm=function(){n.setState({contractOption:null}),n.props.clear()},n.onClickDeleteBet=function(){n.setState({submitted:!0}),n.props.clear(),n.props.deleteBet(n.props.betId)},n.renderNotFoundMessage=function(){!n.props.betPrice&&n.props.alert},n.renderBuyForm=function(){if(null!=n.state.contractOption&&n.props.player)return r.a.createElement("div",null,r.a.createElement("hr",{className:"my-4"}),r.a.createElement(La,{budget:n.props.player.budget,marketId:n.props.marketId,betId:n.props.betId,contractOption:n.state.contractOption,hideForm:n.hideForm}))},n.hideForm=n.hideForm.bind(Object(Ht.a)(n)),n}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchBetPrice(this.props.betId),this.props.correctBetId>0&&(this.props.correctBetId===this.props.betId&&this.props.correctBetOption?this.setState({backgroundColor:"green"}):this.setState({backgroundColor:"red"}))}},{key:"renderButtonContent",value:function(){return"undefined"!==typeof this.props.loading&&this.props.loading.pending&&this.state.submitted?r.a.createElement("div",null,r.a.createElement(ve.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"\u0141adowanie..."):"Usu\u0144"}},{key:"renderPrice",value:function(){var e=this;if(this.props.betPrice)return 0===this.props.correctBetId?r.a.createElement(g.a,{className:"text-center"},r.a.createElement(b.a,{sm:4},r.a.createElement("h5",null,"Ostatnia cena tak"),r.a.createElement("h6",null,this.props.betPrice.yesPrice," $"),!zt.a.isEmpty(this.props.player)&&r.a.createElement(O.a,{variant:"success",onClick:function(){return e.setState({contractOption:!0})}},"Kup")),r.a.createElement(b.a,null,r.a.createElement(C.LinkContainer,{className:"mb-3",to:"/offers/bet/".concat(this.props.betId,"/",!0)},r.a.createElement(O.a,null,"Przegl\u0105daj oferty na tak")),r.a.createElement(C.LinkContainer,{to:"/offers/bet/".concat(this.props.betId,"/",!1)},r.a.createElement(O.a,null,"Przegl\u0105daj oferty na nie"))),r.a.createElement(b.a,{sm:4},r.a.createElement("h5",null,"Ostatnia cena nie"),r.a.createElement("h6",null,this.props.betPrice.noPrice," $"),!zt.a.isEmpty(this.props.player)&&r.a.createElement(O.a,{variant:"danger",onClick:function(){return e.setState({contractOption:!1})}},"Kup"))):r.a.createElement("div",null,this.props.correctBetId===this.props.betId?r.a.createElement("div",null,this.props.correctBetOption?r.a.createElement("h5",null,"Zak\u0142ad poprawny dla opcji na tak"):r.a.createElement("h5",null,"Zak\u0142ad poprawny dla opcji na nie")):r.a.createElement("div",null,this.props.correctBetOption?r.a.createElement("h5",null,"Zak\u0142ad poprawny dla opcji na nie"):r.a.createElement("h5",null,"Zak\u0142ad poprawny dla opcji na tak")),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(g.a,null,r.a.createElement(b.a,{sm:6},this.props.betPrice.yesPrice>0?r.a.createElement("p",null,"Ostatnia cena na tak: ",this.props.betPrice.yesPrice):r.a.createElement("p",null,'Nie dokonano zakupu kontrakt\xf3w na opcj\u0119 "tak"')),r.a.createElement(b.a,null,this.props.betPrice.noPrice>0?r.a.createElement("p",null,"Ostatnia cena na nie: ",this.props.betPrice.noPrice):r.a.createElement("p",null,'Nie dokonano zakupu kontrakt\xf3w na opcj\u0119 "nie"'))))}},{key:"renderLoadingPrice",value:function(){if(!this.props.betPrice&&0===this.props.correctBetId&&!this.props.alert)return r.a.createElement("div",{className:"text-center"},r.a.createElement(la.a,{type:"TailSpin",color:"black"}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ca.a,{color:this.state.backgroundColor,className:"m-3"},r.a.createElement("h2",{className:"ui header"},this.props.title),window.location.href.includes("editBets")&&!this.props.published&&r.a.createElement(O.a,{className:"close-button",onClick:this.onClickDeleteBet},this.renderButtonContent()),this.renderPrice(),this.renderLoadingPrice(),this.renderBuyForm()))}}]),a}(r.a.Component)),Ba=Object(i.b)((function(e,t){return{loading:e.loading.DELETE_BET,betPrice:e.betPrice[t.betId],loadingPrice:e.loading.FETCH_BETS_PRICE,player:e.player}}),{clear:de.clear,deleteBet:Ft,fetchBetPrice:Pt})(Da),_a=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"renderNotFoundInfo",value:function(){return r.a.createElement("div",null,r.a.createElement(Ce.a,{icon:je.g,size:"6x"}),r.a.createElement("h3",null,"Nie znaleziono zak\u0142ad\xf3w"))}},{key:"render",value:function(){var e=this;return null===this.props.bets?r.a.createElement("div",{className:"text-center"},r.a.createElement(Ce.a,{icon:je.g,size:"6x"}),r.a.createElement("h3",null,"Nie znaleziono zak\u0142ad\xf3w"),r.a.createElement("h6",null,"Dodaj zak\u0142ady, bez nich rynek nie b\u0119dzie m\xf3g\u0142 si\u0119 toczy\u0107 !")):r.a.createElement("div",null,this.props.bets.map((function(t){return r.a.createElement(Ba,{correctBetId:e.props.correctBetId,correctBetOption:e.props.correctBetOption,published:e.props.published,bestYesPrice:t.bestYesPrice,bestNoPrice:t.bestNoPrice,key:t.id,betId:t.id,marketId:e.props.marketId,title:t.title})})))}}]),a}(r.a.Component),xa=_a,Ua=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={marketId:e.props.match.params.id},e.onSubmit=function(t){e.props.addBet(e.props.match.params.id,t.yesPrice,t.noPrice,t.title,t.shares)},e.renderBetsList=function(){return r.a.createElement(xa,{bets:e.props.currentMarket.bets,correctBetId:e.props.currentMarket.correctBetId,published:e.props.currentMarket.published,marketId:e.props.match.params.id})},e.renderLoading=function(){if(!e.props.currentMarket&&"undefined"!==typeof e.props.loadingMarket&&e.props.loadingMarket.pending)return r.a.createElement("div",{className:"text-center"},r.a.createElement(ve.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),r.a.createElement("h3",null,"Pobieranie danych rynku"))},e.renderNextStepButton=function(){if(e.props.currentMarket.bets)return r.a.createElement(C.LinkContainer,{to:"/markets/makePublic/".concat(e.props.match.params.id)},r.a.createElement(O.a,{id:"confirmBetsButton",variant:"primary",type:"submit"},"Zatwierd\u017a zak\u0142ady"))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchMarket(this.props.match.params.id),this.props.initialize({shares:1e4})}},{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"renderPageContent",value:function(){if(this.props.currentMarket&&0===this.props.currentMarket.correctBetId)return r.a.createElement("div",null,r.a.createElement(Te,{title:this.props.currentMarket.topic}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(I.a,{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(P.a,{onChange:this.checkIsEmptyField,type:"text",label:"Dodawanie zak\u0142adu",name:"title",component:Ee,placeholder:"Wprowad\u017a tytu\u0142 zak\u0142adu"}),r.a.createElement(g.a,null,r.a.createElement(b.a,{sm:6},r.a.createElement(P.a,{type:"number",label:"Podaj cen\u0119 kontraktu na tak",max:"1",name:"yesPrice",component:Ee,placeholder:"Podaj cen\u0119 kontraktu na tak"})),r.a.createElement(b.a,{sm:6},r.a.createElement(P.a,{type:"number",label:"Podaj cen\u0119 kontraktu na nie",max:"1",name:"noPrice",component:Ee,placeholder:"Podaj cen\u0119 kontraktu na nie"}))),r.a.createElement(P.a,{component:Ee,name:"shares",min:1e4,max:1e5,step:1,type:"number",label:"Podaj poczatkowa liczb\u0119 akcji wystawionych na sprzeda\u017c"}),r.a.createElement(O.a,{id:"addBetButton",variant:"primary",type:"submit"},Oe(this.props.addingLoading,"Dodaj zak\u0142ad"))),be(this.props.alert,this.props.clear),this.renderBetsList(),this.renderNextStepButton())}},{key:"renderFailedToFetch",value:function(){if(!this.props.currentMarket&&"undefined"!==typeof this.props.loadingMarket&&!this.props.loadingMarket.pending)return r.a.createElement("div",null,r.a.createElement(Ce.a,{icon:je.h,size:"6x"}),r.a.createElement("h2",null,"Wyst\u0105pi\u0142 b\u0142\u0105d pobierania danych. Od\u015bwie\u017c stron\u0119 i spr\xf3buj ponownie"))}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},this.renderLoading(),this.renderFailedToFetch(),this.renderPageContent())}}]),a}(r.a.Component),Ka=Object(F.a)({form:"editBets",validate:function(e){var t={};["title","yesPrice","noPrice","shares"].forEach((function(a){e[a]||(t[a]="To pole jest wymagane")}));var a=parseFloat(e.yesPrice)+parseFloat(e.noPrice);return parseFloat(e.yesPrice)<=0&&(t.yesPrice="Cena musi by\u0107 warto\u015bci\u0105 dodatni\u0105 wi\u0119ksz\u0105 od zera"),parseFloat(e.noPrice)<=0&&(t.noPrice="Cena musi by\u0107 warto\u015bci\u0105 dodatni\u0105 wi\u0119ksz\u0105 od zera"),(a>1.1||a<1)&&(t.yesPrice="R\xf3\u017cnica mi\u0119dzy cenami na tak i nie mo\u017ce wynosi\u0107 maksymalnie 10 $"),t}})(Ua),Ha=Object(i.b)((function(e,t){return{alert:e.alert,addingLoading:e.loading.ADD_BET,loadingMarket:e.loading.FETCH_MARKET,currentMarket:e.markets.find((function(e){return e.marketId.toString()===t.match.params.id}))}}),{addBet:function(e,t,a,n,r){return function(o){o({type:Le}),ht(e,t,a,n,r).then((function(e){var t,a;o((t=e.predictionMarket,{type:De,payload:t})),o((a=e.betPrice,{type:gt,payload:a}))}),(function(e){o({type:Be}),o(de.error(e.toString()))}))}},deleteBet:Ft,fetchMarket:It,clear:de.clear})(Ka),Wa={SEND_TOKEN_REQUEST:"SEND_TOKEN_REQUEST",SEND_TOKEN_SUCCESS:"SEND_TOKEN_SUCCESS",SEND_TOKEN_FAILURE:"SEND_TOKEN_FAILURE",CHECK_TOKEN_REQUEST:"CHECK_TOKEN_REQUEST",CHECK_TOKEN_SUCCESS:"CHECK_TOKEN_SUCCESS",CHECK_TOKEN_FAILURE:"CHECK_TOKEN_FAILURE"},Ga=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.sendToken(t)},e}return Object(A.a)(a,[{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement("header",null,r.a.createElement("h2",null,"Podaj sw\xf3j adres e-mail")),r.a.createElement(I.a,{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(P.a,{onChange:this.checkIsEmptyField,helpText:"Na podany adres e-mail zostanie wys\u0142any token do resetu has\u0142a",type:"text",name:"emailToReset",component:Ee,placeholder:"Adres e-mail konta"}),r.a.createElement(O.a,{variant:"primary",type:"submit"},Oe(this.props.loading,"Zatwierd\u017a"))),be(this.props.alert,this.props.clear))}}]),a}(r.a.Component),Qa=Object(F.a)({form:"sendTokenForm",validate:function(e){var t={};return e.emailToReset||(t.emailToReset="To pole jest wymagane"),t}})(Ga),Ya=Object(i.b)((function(e){return{loading:e.loading.SEND_TOKEN,alert:e.alert}}),{sendToken:function(e){var t=e.emailToReset;return function(e){e({type:Wa.SEND_TOKEN_REQUEST,payload:{emailToReset:t}}),ae(t).then((function(a){e(function(e){return{type:Wa.SEND_TOKEN_SUCCESS,payload:e}}(t)),m.push("/resetPasswordWithToken")}),(function(t){e(function(e){return{type:Wa.SEND_TOKEN_FAILURE,payload:e}}(t.toString())),e(de.error(t.toString()))}))}},clear:de.clear})(Qa),Za=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.changePasswordWithToken(t,e.props.token)},e}return Object(A.a)(a,[{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement("header",null,r.a.createElement("h2",null,"Wprowad\u017a nowe has\u0142o dla swojego konta")),r.a.createElement(I.a,{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(P.a,{type:"password",name:"newPassword",component:Ee,placeholder:"Wprowad\u017a has\u0142o"}),r.a.createElement(P.a,{type:"password",name:"repeatedPassword",component:Ee,placeholder:"Powt\xf3rz has\u0142o"}),r.a.createElement(O.a,{variant:"primary",type:"submit"},Oe(this.props.loading,"Zmie\u0144 has\u0142o"))),be(this.props.alert,this.props.clear))}}]),a}(r.a.Component),Va=Object(F.a)({form:"changePasswordWithToken",validate:function(e){var t={};["newPassword","repeatedPassword"].forEach((function(a){e[a]||(t[a]="To pole jest wymagane")})),e.newPassword!==e.repeatPassword&&(t.repeatPassword="Podane has\u0142a s\u0105 r\xf3\u017cne")}})(Za),Ja=Object(i.b)((function(e){return{alert:e.alert,token:e.token.token,loading:e.loading.CHANGE_PASSWORD_WITH_TOKEN}}),{changePasswordWithToken:function(e,t){var a=e.newPassword,n=e.repeatedPassword;return function(e){e({type:Wa.CHANGE_PASSWORD_WITH_TOKEN_REQUEST}),oe(a,n,t).then((function(t){e({type:Wa.CHANGE_PASSWORD_WITH_TOKEN_SUCCESS}),e(de.success(t)),m.push("/login")}),(function(t){e({type:Wa.CHANGE_PASSWORD_WITH_TOKEN_FAILURE}),e(de.error(t.toString()))}))}},clear:de.clear})(Va),Xa=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onSubmit=function(t){e.props.checkToken(t)},e}return Object(A.a)(a,[{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement("header",null,r.a.createElement("h2",null,"Wprowad\u017a token kt\xf3ry otrzyma\u0142e\u015b na podany wcze\u015bniej adres e-mail")),r.a.createElement(I.a,{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(P.a,{type:"text",name:"token",component:Ee,placeholder:"Token"}),r.a.createElement(O.a,{variant:"primary",type:"submit"},Oe(this.props.loading,"Zatwierd\u017a"))),be(this.props.alert,this.props.clear))}}]),a}(r.a.Component),qa=Object(F.a)({form:"checkTokenForm",validate:function(e){var t={};return e.token||(t.token="To pole jest wymagane"),t}})(Xa),$a=Object(i.b)((function(e){return{loading:e.loading.CHECK_TOKEN,alert:e.alert}}),{checkToken:function(e){var t=e.token;return function(e){e({type:Wa.CHECK_TOKEN_REQUEST,payload:{token:t}}),ne(t).then((function(a){e(function(e){return{type:Wa.CHECK_TOKEN_SUCCESS,payload:e}}(t)),e(de.success(a))}),(function(t){e(function(e){return{type:Wa.CHECK_TOKEN_FAILURE,payload:e}}(t.toString())),e(de.error(t.toString()))}))}},clear:de.clear})(qa),en=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return this.props.isTokenCorrect?r.a.createElement("div",null,r.a.createElement(Ja,null)):r.a.createElement("div",null,r.a.createElement($a,null))}}]),a}(r.a.Component),tn=Object(i.b)((function(e){return{isTokenCorrect:e.token.tokenCorrect}}))(en),an=a(334),nn=a.n(an),rn=a(335),on=a.n(rn),cn=a(336),ln=a.n(cn),sn=a(337),un=a.n(sn),pn=a(232),dn=a.n(pn),mn=function(e,t){return e?"data:image/jpeg;base64,".concat(e.data):function(e){switch(e){case"SPORT":return nn.a;case"CELEBRITIES":return on.a;case"POLICY":return ln.a;case"ECONOMY":return un.a;case"OTHER":default:return dn.a}}(t)},hn=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderBetsList=function(){return e.props.currentMarket.bets?r.a.createElement("div",null,r.a.createElement("h4",null,"Zak\u0142ady"),r.a.createElement(xa,{correctBetId:e.props.currentMarket.correctBetId,bets:e.props.currentMarket.bets,marketId:e.props.match.params.id})):r.a.createElement("div",null,"Brak zak\u0142ad\xf3w. Nie mo\u017cesz opublikowa\u0107 rynku dop\xf3ki nie dodasz zak\u0142ad\xf3w")},e.renderEditMenu=function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement(C.LinkContainer,{to:"/markets/editCover/".concat(e.props.match.params.id)},r.a.createElement(O.a,{variant:"primary",className:"edit-market-button"},"Zmie\u0144 ok\u0142adk\u0119")),r.a.createElement(C.LinkContainer,{to:"/markets/editBets/".concat(e.props.match.params.id)},r.a.createElement(O.a,{variant:"primary",className:"edit-market-button"},"Edytuj zak\u0142ady")),r.a.createElement(C.LinkContainer,{to:"/markets/editMarket/".concat(e.props.match.params.id)},r.a.createElement(O.a,{variant:"primary",className:"edit-market-button"},"Edytuj dane rynku")))},e.makeMarketPublic=function(){e.props.makePublic(e.props.match.params.id)},e.renderMarketIsAlreadyPublishedInfo=function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement(Ce.a,{icon:je.c,size:"6x"}),r.a.createElement("h2",null,"Rynek posiada ju\u017c status publiczny"))},e.renderMarketContent=function(){if(e.props.currentMarket)return e.props.currentMarket.published?r.a.createElement("div",null,e.renderMarketIsAlreadyPublishedInfo()):r.a.createElement("div",null,r.a.createElement("h4",null,e.props.currentMarket.topic),e.props.currentMarket.marketCover&&r.a.createElement(v.a,{style:{margin:"10px auto"},className:"img",src:mn(e.props.currentMarket.marketCover,e.props.currentMarket.marketCategory),rounded:!0}),r.a.createElement("h5",null,"Przewidywana data zako\u0144czenia - ",e.props.currentMarket.endDate),r.a.createElement("hr",{className:"my-4"}),e.renderBetsList(),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h4",null,"Edytuj zak\u0142ad"),e.renderEditMenu(),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h4",null,"Opublikuj rynek"),r.a.createElement("div",{className:"text-center"},r.a.createElement(O.a,{variant:"primary",className:"edit-market-button",onClick:e.makeMarketPublic},Oe(e.props.loading,"Opublikuj rynek"))))},e.renderLoading=function(){if(!e.props.currentMarket&&"undefined"!==typeof e.props.loadingMarket&&e.props.loadingMarket.pending)return r.a.createElement("div",{className:"text-center"},r.a.createElement(ve.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),r.a.createElement("h3",null,"Pobieranie danych rynku"))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchMarket(this.props.match.params.id)}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement("header",{style:{marginBottom:"30px"}},r.a.createElement("h3",null,"To ju\u017c ostatni krok"),r.a.createElement("p",null,"Za chwil\u0119 tw\xf3j rynek stanie si\u0119 widoczny dla u\u017cytkownik\xf3w. Sprawd\u017a czy wszystkie wprowadzone dane i zak\u0142ady s\u0105 prawid\u0142owe. Po opublikowaniu rynku nie b\u0119dziesz m\xf3g\u0142 edytowa\u0107 cen i usuwa\u0107 zak\u0142ad\xf3w !")),r.a.createElement("hr",{className:"my-4"}),this.renderLoading(),this.renderMarketContent(),ge(this.props.alert))}}]),a}(r.a.Component),En=Object(i.b)((function(e,t){return{alert:e.alert,loadingMarket:e.loading.FETCH_MARKET,loading:e.loading.MAKE_MARKET_PUBLIC,currentMarket:e.markets.find((function(e){return e.marketId.toString()===t.match.params.id}))}}),{fetchMarket:It,makePublic:function(e){return function(t){t({type:Xe}),ft(e).then((function(a){t({type:qe,payload:a}),m.push("/markets/details/".concat(e))}),(function(e){t({type:$e}),t(de.error(e.toString()))}))}}})(hn),fn=a(656),yn=a(641),kn=a(655),gn=a(338),bn=a.n(gn),vn=a(339),On=a.n(vn),Cn=a(340),jn=a.n(Cn),Sn=(a(601),Object(i.b)((function(e){return{user:e.login.user}}))((function(e){return r.a.createElement(kn.a,null,r.a.createElement(C.LinkContainer,{to:"/markets/details/".concat(e.marketId)},r.a.createElement(kn.a.Img,{variant:"top",src:mn(e.marketCover,e.marketCategory),className:"market-cover"})),r.a.createElement(kn.a.Body,null,r.a.createElement(kn.a.Title,null,e.marketTitle),r.a.createElement(kn.a.Text,null,e.description),e.user&&e.user.username===e.author&&0===e.correctBetId&&r.a.createElement("div",null,!e.published&&r.a.createElement(C.LinkContainer,{className:"market-card-buttons",to:"/markets/editCover/".concat(e.marketId)},r.a.createElement(O.a,null,"Zmie\u0144 zdj\u0119cie")),r.a.createElement(C.LinkContainer,{className:"market-card-buttons",to:"/markets/editBets/".concat(e.marketId)},r.a.createElement(O.a,null,e.published?r.a.createElement("span",null,"Dodaj zak\u0142ad"):r.a.createElement("span",null,"Zarz\u0105dzaj zak\u0142adami"))),e.bets&&!e.published&&r.a.createElement(C.LinkContainer,{className:"market-card-buttons",to:"/markets/makePublic/".concat(e.marketId)},r.a.createElement(O.a,null,"Opublikuj rynek")),r.a.createElement(C.LinkContainer,{className:"market-card-buttons",to:"/markets/editMarket/".concat(e.marketId)},r.a.createElement(O.a,null,"Edytuj dane rynku")),e.published&&r.a.createElement(C.LinkContainer,{className:"market-card-buttons",to:"/markets/solveMarket/".concat(e.marketId)},r.a.createElement(O.a,null,"Rozwi\u0105\u017c rynek")),!e.published&&r.a.createElement(C.LinkContainer,{className:"market-card-buttons",to:"/markets/delete/".concat(e.marketId)},r.a.createElement(O.a,null,"Usu\u0144 rynek")))),r.a.createElement(kn.a.Footer,null,r.a.createElement("small",{className:"text-muted"},"Dodano"," ",r.a.createElement(bn.a,{date:e.createdDate,formatter:jn()(On.a)}))))}))),Tn=a(10),wn=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={pageNeighbours:1},e.range=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=t;)r.push(n),n+=a;return r},e.fetchPageNumbers=function(){var t="LEFT",a=e.props.paginationInfo.totalPages,n=e.props.paginationInfo.number,r=e.state.pageNeighbours,o=2*r+3;if(a>o+2){var c=Math.max(2,n-r),i=Math.min(a-1,n+r),l=e.range(c,i),s=c>2,u=a-i>1,p=o-(l.length+1);switch(!0){case s&&!u:var d=e.range(c-p,c-1);l=[t].concat(Object(Tn.a)(d),Object(Tn.a)(l));break;case!s&&u:var m=e.range(i+1,i+p);l=[].concat(Object(Tn.a)(l),Object(Tn.a)(m),["RIGHT"]);break;case s&&u:default:l=[t].concat(Object(Tn.a)(l),["RIGHT"])}return[1].concat(Object(Tn.a)(l),[a])}return e.range(1,a)},e}return Object(A.a)(a,[{key:"renderPagination",value:function(){var e=this;if(this.props.paginationInfo){if(!this.props.paginationInfo.totalPages||1===this.props.paginationInfo.totalPages)return null;var t=this.props.paginationInfo.number,a=this.fetchPageNumbers();return r.a.createElement(Wt.a,{"aria-label":"Countries Pagination",className:"text-center"},r.a.createElement("ul",{className:"pagination"},a.map((function(a,n){return"LEFT"===a?r.a.createElement("li",{key:n,className:"page-item"},r.a.createElement(Wt.a.Link,{onClick:function(){return e.handleMoveLeft(t)},className:"page-link","aria-label":"Previous"},r.a.createElement("span",{"aria-hidden":"true"},"\xab"),r.a.createElement("span",{className:"sr-only"},"Previous"))):"RIGHT"===a?r.a.createElement(Wt.a.Item,{key:n,className:"page-item"},r.a.createElement(Wt.a.Link,{onClick:function(){return e.handleMoveRight(t)},className:"page-link","aria-label":"Next"},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"),r.a.createElement("span",{className:"sr-only"},"Next"))):r.a.createElement(Wt.a.Item,{key:n,className:"page-item".concat(t===a-1?" active":"")},r.a.createElement(Wt.a.Link,{className:"page-link",onClick:function(){return e.changePage(a)}},a))}))))}}},{key:"changePage",value:function(e){this.props.dispatch(this.props.changePage(e-1))}},{key:"handleMoveLeft",value:function(e){this.props.dispatch(this.props.changePage(e-1-2*this.state.pageNeighbours-1))}},{key:"handleMoveRight",value:function(e){this.props.dispatch(this.props.changePage(e+2*this.state.pageNeighbours+1))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderPagination())}}]),a}(r.a.Component),An=Object(i.b)((function(e,t){return{paginationInfo:t.paginationInfo}}),(function(e){return{dispatch:e}}))(wn),Nn="SELECT_CATEGORY",zn="UNSELECT_CATEGORY",In="UPDATE_SEARCH",Pn="UPDATE_SORTED",Fn="UPDATE_CURRENT_PAGE",Mn="UPDATE_PAGE_SIZE",Rn="CLEAR_FILTERS",Ln=function(e){return{type:Nn,payload:e}},Dn=function(e){return{type:zn,payload:e}},Bn=function(e){return{type:In,payload:e}},_n=function(e){return{type:Pn,payload:e}},xn=function(e){return{type:Fn,payload:e}},Un=function(e){return{type:Mn,payload:e}},Kn=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={filters:[]},e.range=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=t;)r.push(n),n+=a;return r},e.handleSort=function(t){e.props.dispatch(_n(t.target.value.split(",")))},e.handleCategory=function(t){e.props.selectedCategories.includes(t.target.value)?e.props.dispatch(Dn(t.target.value)):e.props.dispatch(Ln(t.target.value))},e.handlePageSize=function(t){e.props.dispatch(Un(parseInt(t.target.value)))},e}return Object(A.a)(a,[{key:"renderPageSizeFilter",value:function(){return r.a.createElement("div",null,r.a.createElement(I.a.Label,null,r.a.createElement("h5",null,"Rozmiar strony")),r.a.createElement(I.a.Control,{as:"select",onChange:this.handlePageSize},this.range(10,30,10).map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(I.a.Label,null,r.a.createElement("h5",null,"Sortuj wed\u0142ug")),r.a.createElement(I.a.Control,{as:"select",onChange:this.handleSort},r.a.createElement("option",{value:"createdDate,desc"},"Od najnowszych"),r.a.createElement("option",{value:"createdDate,asc"},"Od najstarszych"),r.a.createElement("option",{value:"endDate,desc"},"Nabli\u017cszego czasu zako\u0144czenia"),r.a.createElement("option",{value:"endDate,asc"},"Najdalszego czasu zako\u0144czenia")),r.a.createElement("hr",{className:"my-4"}),this.renderPageSizeFilter(),r.a.createElement("hr",{className:"my-4"}),Lt(this.handleCategory))}}]),a}(r.a.Component),Hn=Object(i.b)((function(e){return{selectedCategories:e.filterMarkets.selectedCategories}}),(function(e){return{dispatch:e}}))(Kn),Wn=a(640),Gn=a(330),Qn=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchText:""},e.onInputSearchChange=function(t){e.setState({searchText:t.target.value})},e.onSubmitSearch=function(){e.props.dispatch(e.props.search(e.state.searchText))},e}return Object(A.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Wn.a,{className:"mb-3"},r.a.createElement(Wn.a.Prepend,null,r.a.createElement(O.a,{variant:"outline-dark",onClick:this.onSubmitSearch},"Szukaj")),r.a.createElement(Gn.a,{onChange:this.onInputSearchChange,"aria-describedby":"basic-addon1"})))}}]),a}(r.a.Component),Yn=Object(i.b)((function(e,t){return{search:t.search}}),(function(e){return{dispatch:e}}))(Qn),Zn=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchMarkets(this.props.typeOfMarkets,"",this.props.filter.selectedCategories,this.props.filter.sortedBy,0,this.props.filter.pageSize)}},{key:"componentWillUnmount",value:function(){this.props.clear(),this.props.clearFilters()}},{key:"componentDidUpdate",value:function(e){JSON.stringify(this.props.filter)!==JSON.stringify(e.filter)&&this.props.fetchMarkets(this.props.typeOfMarkets,this.props.filter.marketTitle,this.props.filter.selectedCategories,this.props.filter.sortedBy,this.props.filter.page,this.props.filter.pageSize)}},{key:"renderNotFoundMessage",value:function(){return this.props.alert.payload?r.a.createElement("div",{className:"text-center"},r.a.createElement(Ce.a,{icon:je.c,size:"6x"}),r.a.createElement("h3",null,this.props.alert.payload)):r.a.createElement("div",{className:"text-center"},r.a.createElement(Ce.a,{icon:je.e,size:"6x"}),r.a.createElement("h3",null,"W tej chwili w grze nie tocz\u0105 si\u0119 \u017cadne rynki"))}},{key:"renderContent",value:function(){return"undefined"!==typeof this.props.loading&&this.props.loading.pending?r.a.createElement("div",{className:"text-center"},r.a.createElement(la.a,{type:"TailSpin",color:"black"})):r.a.createElement("div",null,this.renderList())}},{key:"renderList",value:function(){return this.props.markets.length>0?r.a.createElement(g.a,null,this.props.markets.map((function(e){return r.a.createElement(b.a,{xs:12,md:6,className:"d-flex align-items-stretch",style:{margin:"20px 0"},key:e.marketId},r.a.createElement(Sn,{author:e.author,marketId:e.marketId,published:e.published,marketTitle:e.topic,description:e.description,marketCategory:e.category,marketCover:e.marketCover,createdDate:e.createdDate,bets:e.bets,correctBetId:e.correctBetId}))})),r.a.createElement(An,{paginationInfo:this.props.paginationInfo,changePage:xn})):r.a.createElement("div",null,this.renderNotFoundMessage())}},{key:"render",value:function(){return r.a.createElement("div",{className:"mt-4"},r.a.createElement(Yn,{search:Bn}),r.a.createElement(g.a,null,r.a.createElement(b.a,{sm:3},r.a.createElement(Hn,null)),r.a.createElement(b.a,{sm:9},this.renderContent())))}}]),a}(r.a.Component),Vn=Object(i.b)((function(e,t){return{typeOfMarkets:t.typeOfMarkets,markets:Object.values(e.markets),loading:e.loading.FETCH_MARKETS,filter:e.filterMarkets,alert:e.alert,paginationInfo:e.pagination.paginationInfo}}),{fetchMarkets:function(e,t,a,n,r,o){return function(c){c({type:Ke}),st(e,t,a,n,r,o).then((function(e){var t;c(function(e){return{type:He,payload:e}}(e.content)),c((t=zt.a.omit(e,["content"]),{type:Ot,payload:t}))}),(function(e){c({type:We}),c(de.error(e.toString()))}))}},clear:de.clear,clearFilters:function(){return{type:Rn}}})(Zn),Jn=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"renderTabs",value:function(){return this.props.user&&this.props.user.roles.includes("ROLE_MODERATOR")?r.a.createElement(fn.a,{id:"controlled-tab-example",className:"mt-4"},r.a.createElement(yn.a,{eventKey:"private",title:"Prywatne",unmountOnExit:!0},r.a.createElement(Vn,{typeOfMarkets:"/private"})),r.a.createElement(yn.a,{eventKey:"filteredWaitingForBets",title:"Bez zak\u0142ad\xf3w",unmountOnExit:!0},r.a.createElement(Vn,{typeOfMarkets:"/filteredWaitingForBets"})),r.a.createElement(yn.a,{eventKey:"publicMod",title:"Opublikowane przez ciebie",unmountOnExit:!0},r.a.createElement(Vn,{title:"Trwaj\u0105ce rynki",typeOfMarkets:"/public"})),r.a.createElement(yn.a,{eventKey:"public",title:"Publiczne",unmountOnExit:!0},r.a.createElement(Vn,{title:"Trwaj\u0105ce rynki",typeOfMarkets:"/public"})),r.a.createElement(yn.a,{eventKey:"solvedMod",title:"Zako\u0144czone przez ciebie",unmountOnExit:!0},r.a.createElement(Vn,{title:"Trwaj\u0105ce rynki",typeOfMarkets:"/solvedByMod"})),r.a.createElement(yn.a,{eventKey:"solved",title:"Zako\u0144czone",unmountOnExit:!0},r.a.createElement(Vn,{title:"Trwaj\u0105ce rynki",typeOfMarkets:"/solved"}))):r.a.createElement(fn.a,{id:"controlled-tab-example",className:"mt-4"},r.a.createElement(yn.a,{eventKey:"home",title:"Trwaj\u0105ce",unmountOnExit:!0},r.a.createElement(Vn,{title:"Trwaj\u0105ce rynki",typeOfMarkets:"/"})),r.a.createElement(yn.a,{eventKey:"profile",title:"Zako\u0144czone",unmountOnExit:!0},r.a.createElement(Vn,{title:"Zako\u0144czone rynki",typeOfMarkets:"/solved"})))}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container"},r.a.createElement(Te,{title:"Rynki prognostyczne"}),this.renderTabs())}}]),a}(r.a.Component),Xn=Object(i.b)((function(e){return{user:e.login.user}}))(Jn),qn="FETCH_TRANSACTIONS_REQUEST",$n="FETCH_TRANSACTIONS_SUCCESS",er="FETCH_TRANSACTIONS_FAILURE",tr="CLEAR_TRANSACTIONS",ar="FETCH_FILTERED_TRANSACTIONS_REQUEST",nr="FETCH_FILTERED_TRANSACTIONS_SUCCESS",rr="FETCH_FILTERED_TRANSACTIONS_FAILURE",or=function(e,t,a){var n={method:"GET",headers:Y()};return fetch("".concat(Z,"/transactions/chart?betId=").concat(e,"&option=").concat(t,"&timeAgo=").concat(a),n).then((function(e){return V(e)}))},cr=function(e,t,a,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5?arguments[5]:void 0,c=arguments.length>6?arguments[6]:void 0,i=arguments.length>7?arguments[7]:void 0,l="";r.length>0&&r.forEach((function(e){l+="marketCategory=".concat(e,"&")})),l.length>0?l.substr(0,l.length-1):l="marketCategory=";var s={method:"GET",headers:Y()};return fetch("".concat(Z,"/transactions/").concat(e,"?option=").concat(t,"&betTitle=").concat(a,"&marketTitle=").concat(n,"&").concat(l,"&sortAttribute=").concat(i[0],"&sortDirection=").concat(i[1],"&page=").concat(o,"&size=").concat(c),s).then((function(e){return V(e)}))},ir=function(){return{type:tr}},lr=a(341),sr=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).canvasRef=r.a.createRef(),n}return Object(A.a)(a,[{key:"setUnit",value:function(e){return e<6e4?"second":e>6e4&&e<36e5?"minute":e<864e5&&e>36e5?"hour":"day"}},{key:"componentDidUpdate",value:function(){if(this.myChart.data.labels=this.props.transactions.map((function(e){return new Date(e.transactionDate).getTime()})),this.myChart.data.datasets[0].data=this.props.transactions.map((function(e){return e.price})),this.props.transactions.length>0){var e=new Date(this.props.transactions[this.props.transactions.length-1].transactionDate).getTime()-new Date(this.props.transactions[0].transactionDate).getTime(),t=this.setUnit(e);this.myChart.options.scales.xAxes[0].time.unit=t}this.myChart.update()}},{key:"componentDidMount",value:function(){this.myChart=new lr.Chart(this.canvasRef.current,{type:"line",options:{scales:{xAxes:[{type:"time",time:{unit:"month"}}],yAxes:[{ticks:{min:0}}]}},data:{labels:this.props.transactions.map((function(e){return new Date(e.transactionDate).getTime()})),datasets:[{label:this.props.title,data:this.props.transactions.map((function(e){return e.price})),fill:"none",backgroundColor:this.props.color,pointRadius:2,borderColor:this.props.color,borderWidth:1,lineTension:0}]}})}},{key:"render",value:function(){return r.a.createElement("canvas",{ref:this.canvasRef})}}]),a}(r.a.Component),ur=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(e){var n;return Object(w.a)(this,a),(n=t.call(this,e)).state={currentBet:n.props.bets[0].id,currentOption:!0,timeAgo:1},n.onChangeTimeAgo=function(e){var t;if(n.props.correctBetId>0){var a=Date.parse(n.props.endDate);t=new Date(a)}else t=new Date;t.setDate(t.getDate()-e.target.value);var r=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),c=t.getFullYear();t=c+"-"+o+"-"+r,n.setState({timeAgo:t}),n.props.fetchTransactions(n.state.currentBet,n.state.currentOption,t)},n.onChangeBet=function(e){n.setState({currentBet:e.target.value}),n.props.fetchTransactions(e.target.value,n.state.currentOption,n.state.timeAgo)},n.onChangeBetOption=function(e){n.setState({currentOption:e.target.value}),n.props.fetchTransactions(n.state.currentBet,e.target.value,n.state.timeAgo)},n.canvasRef=r.a.createRef(),n}return Object(A.a)(a,[{key:"componentDidMount",value:function(){var e=new Date;e.setDate(e.getDate()-1);var t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();e=n+"-"+a+"-"+t,this.setState({timeAgo:e}),this.props.fetchTransactions(this.state.currentBet,this.state.currentOption,e)}},{key:"componentWillUnmount",value:function(){this.props.clearTransactions()}},{key:"renderLoading",value:function(){if("undefined"!==typeof this.props.loading&&this.props.loading.pending)return r.a.createElement(la.a,{height:50,width:50,className:"m-3",type:"TailSpin",color:"black"})}},{key:"renderMarketFilter",value:function(){return r.a.createElement("div",null,r.a.createElement("h5",null,"Zak\u0142ad"),r.a.createElement(I.a.Control,{as:"select",onChange:this.onChangeBet},this.props.bets.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.title)}))))}},{key:"renderBetOptionFilter",value:function(){return r.a.createElement("div",null,r.a.createElement("h5",null,"Opcja zak\u0142adu"),r.a.createElement(I.a.Control,{as:"select",onChange:this.onChangeBetOption},r.a.createElement("option",{value:!0},"Opcja na tak"),r.a.createElement("option",{value:!1},"Opcja na nie")))}},{key:"renderTimeAgoFilter",value:function(){return r.a.createElement("div",null,r.a.createElement("h5",null,"Przedzia\u0142 czasowy"),r.a.createElement(I.a.Control,{as:"select",onChange:this.onChangeTimeAgo},[{value:1,text:"Ostatni dzie\u0144"},{value:7,text:"Ostatni tydzie\u0144"},{value:30,text:"Ostatni miesi\u0105c"},{value:90,text:"Ostatnie 90 dni"}].map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.text)}))))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("header",{className:"mb-5"},r.a.createElement("h4",null,"Trend rynku")),this.props.transactions&&r.a.createElement("div",null,r.a.createElement(g.a,null,r.a.createElement(b.a,{sm:4},this.renderMarketFilter()),r.a.createElement(b.a,{sm:4},this.renderBetOptionFilter()),r.a.createElement(b.a,{sm:4},this.renderTimeAgoFilter())),r.a.createElement("hr",{className:"my-4"}),this.renderLoading(),r.a.createElement(sr,{transactions:this.props.transactions,color:"#3E517A",title:"Cena akcji"})))}}]),a}(r.a.Component),pr=Object(i.b)((function(e,t){return{loading:e.loading.FETCH_TRANSACTIONS,alert:e.alert,transactions:e.transactions,betId:t.betId,option:t.option}}),{fetchTransactions:function(e,t,a){return function(n){n({type:qn}),or(e,t,a).then((function(e){n({type:$n,payload:e})}),(function(e){n({type:er}),n(de.error(e.toString()))}))}},clearTransactions:ir})(ur),dr=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderLoading=function(){if(!e.props.currentMarket&&"undefined"!==typeof e.props.loadingMarket&&e.props.loadingMarket.pending)return r.a.createElement(k.a,{className:"text-center bg-light border rounded shadow-container create-market-container"},r.a.createElement(ve.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),r.a.createElement("h3",null,"Pobieranie danych rynku"))},e.renderBetsList=function(){return r.a.createElement(xa,{correctBetId:e.props.currentMarket.correctBetId,correctBetOption:e.props.currentMarket.correctBetOption,bets:e.props.currentMarket.bets,marketId:e.props.match.params.id})},e.renderMarketPage=function(){if(e.props.currentMarket)return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement(Te,{title:e.props.currentMarket.topic}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(g.a,null,r.a.createElement(b.a,{sm:6},r.a.createElement(v.a,{variant:"top",src:mn(e.props.currentMarket.marketCover,e.props.currentMarket.category),className:"market-cover"})),r.a.createElement(b.a,{sm:6},r.a.createElement("div",{className:"rules"},r.a.createElement("h4",null,"Zasady rynku"),r.a.createElement("p",null,e.props.currentMarket.description),r.a.createElement("hr",{className:"my-4"})),r.a.createElement("div",{className:"endDate"},0===e.props.currentMarket.correctBetId?r.a.createElement("h4",null,"Przewidywana data zako\u0144czenia"):r.a.createElement("h4",null,"Data zako\u0144czenia"),"3000"===e.props.currentMarket.endDate.substring(0,4)?r.a.createElement("p",null,"Nieokre\u015blona"):r.a.createElement("p",null,e.props.currentMarket.endDate)))),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",{className:"bets"},r.a.createElement("h4",null,"Zak\u0142ady"),e.renderBetsList(),!e.props.currentMarket.bets&&r.a.createElement(C.LinkContainer,{className:"text-center",to:"/markets/editBets/".concat(e.props.currentMarket.marketId)},r.a.createElement(O.a,null,"Dodaj zak\u0142ady"))),r.a.createElement("hr",{className:"my-4"}),e.props.currentMarket.bets&&r.a.createElement(pr,{bets:e.props.currentMarket.bets,option:!0,endDate:e.props.currentMarket.endDate,correctBetId:e.props.currentMarket.correctBetId}))},e}return Object(A.a)(a,[{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"componentDidMount",value:function(){this.props.currentMarket||this.props.fetchMarket(this.props.match.params.id)}},{key:"renderNotFoundMessage",value:function(){if(this.props.alert.payload&&"ALERT_BUYING"!==this.props.alert.type)return r.a.createElement(k.a,{className:"text-center bg-light border rounded shadow-container create-market-container"},r.a.createElement(Ce.a,{icon:je.e,size:"6x"}),r.a.createElement("h3",null,this.props.alert.payload))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderLoading(),this.renderNotFoundMessage(),this.renderMarketPage())}}]),a}(r.a.Component),mr=Object(i.b)((function(e,t){return{loadingMarket:e.loading.FETCH_MARKET,currentMarket:e.markets.find((function(e){return e.marketId.toString()===t.match.params.id})),alert:e.alert}}),{fetchMarket:It,clear:de.clear})(dr),hr=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).getSelectedOption=function(t){return e.getOptions().find((function(e){return e.text.toLowerCase()===t.toLowerCase()}))},e.onSubmit=function(t){e.props.editMarket(e.props.match.params.id,t)},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchMarket(this.props.match.params.id)}},{key:"renderForm",value:function(){if(this.props.currentMarket)return r.a.createElement(I.a,{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(P.a,{disabled:this.props.currentMarket.published,type:"text",label:"Tytu\u0142 rynku",name:"topic",component:Ee,placeholder:"Wprowad\u017a tytu\u0142 rynku prognostycznego"}),r.a.createElement(P.a,{helpText:"Je\u017celi nie wiesz kiedy mo\u017ce zako\u0144czy\u0107 si\u0119 dany rynek nie wype\u0142niaj tego pola",type:"date",label:"Przewidywana data zako\u0144czenia rynku",name:"endDate",component:Ee}),r.a.createElement(P.a,{disabled:this.props.currentMarket.published,name:"category",label:"Wybierz kategori\u0119 rynku",options:Rt,component:fe}),r.a.createElement(P.a,{disabled:this.props.currentMarket.published,as:"textarea",rows:"5",name:"description",label:"Kr\xf3tko opisz rynek i jego zasady",component:Ee}),r.a.createElement(O.a,{className:"form-button",variant:"primary",type:"submit"},Oe(this.props.loading,"Zatwierd\u017a")))}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement(Te,{title:"Edytuj rynek"}),r.a.createElement("hr",{className:"my-4"}),this.renderForm(),ge(this.props.alert))}}]),a}(r.a.Component),Er=Object(F.a)({form:"editMarketForm",validate:function(e){var t={};(["marketTitle","description"].forEach((function(a){e[a]||(t[a]="To pole jest wymagane")})),e.predictedDateEnd)&&(new Date(e.predictedDateEnd)<new Date&&(t.predictedDateEnd="Musisz poda\u0107 dat\u0119 p\xf3\u017aniejsz\u0105 od dzisiejszej"));return t},enableReinitialize:!0})(hr),fr=Object(i.b)((function(e,t){return{loadingMarket:e.loading.FETCH_MARKET,loading:e.loading.EDIT_MARKET,currentMarket:e.markets.find((function(e){return e.marketId.toString()===t.match.params.id})),alert:e.alert,initialValues:e.markets.find((function(e){return e.marketId.toString()===t.match.params.id}))}}),{fetchMarket:It,editMarket:function(e,t){var a=t.topic,n=t.category,r=t.endDate,o=void 0===r?"":r,c=t.description;return function(t){t({type:Ge,payload:{marketId:e}}),lt(e,a,n,o,c).then((function(a){t(function(e){return{type:Qe,payload:e}}(a)),m.push("/markets/details/".concat(e))}),(function(e){t({type:Ye}),t(de.error(e.toString()))}))}}})(Er),yr=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={title:null},e.onSubmit=function(t){e.props.solveMarket(e.props.marketId,e.props.bets[0].id,t.correctBetOption)},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.initialize({correctBetOption:0})}},{key:"getOptions",value:function(){return[{val:0,text:'Wybierz prawid\u0142ow\u0105 opcj\u0119 dla zak\u0142adu "'.concat(this.props.bets[0].title,'"'),key:1,selected:"selected"},{val:!0,text:"Wybierz opcj\u0119 na tak",key:2},{val:!1,text:"Wybierz opcj\u0119 na nie",key:3}]}},{key:"render",value:function(){return r.a.createElement(I.a,{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(P.a,{name:"correctBetOption",label:'Wybierz prawid\u0142ow\u0105 opcj\u0119 dla zak\u0142adu "'.concat(this.props.bets[0].title,'"'),options:this.getOptions(),component:fe}),r.a.createElement(O.a,{className:"form-button",variant:"primary",type:"submit"},Oe(this.props.loading,"Zatwierd\u017a")),ge(this.props.alert))}}]),a}(r.a.Component),kr=Object(F.a)({form:"SolveSingleBetMarketForm",validate:function(e){var t={};return 0===e.correctBetOption&&(t.correctBetOption="Wybierz prawid\u0142ow\u0105 opcj\u0119 !"),t}})(yr),gr=Object(i.b)((function(e){return{loading:e.loading.SOLVE_MARKET,alert:e.alert}}),{solveMarket:Mt})(kr),br=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={correctBetId:""},e.handleCorrectBetId=function(t){e.setState({correctBetId:t.target.value})},e.renderSelectField=function(t){var a=t.input,n=t.options,o=t.label,c=(t.type,t.meta),i=c.touched,l=c.error;return r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Label,null,o),r.a.createElement(I.a.Control,Object.assign({},a,{as:"select"}),n.map((function(e){return r.a.createElement("option",{value:e.val,key:e.key},e.text)}))),l&&i&&r.a.createElement("div",null,e.renderError({error:l,touched:i})))},e.onSubmit=function(t){e.props.solveMarket(e.props.marketId,t.correctBetId)},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.initialize({correctBetId:"0"})}},{key:"getOptions",value:function(){for(var e=[{val:0,text:"Wybierz zak\u0142ad",key:1,selected:"selected"}],t=0;t<this.props.bets.length;t++)e.push({val:this.props.bets[t].id,text:this.props.bets[t].title,key:t+1});return e}},{key:"renderError",value:function(e){var t=e.error;if(e.touched&&t)return r.a.createElement(he.a,{variant:"danger"},t)}},{key:"render",value:function(){return r.a.createElement(I.a,{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(P.a,{name:"correctBetId",label:"Wybierz prawid\u0142owy zak\u0142ad",options:this.getOptions(),component:this.renderSelectField}),r.a.createElement(O.a,{className:"form-button",variant:"primary",type:"submit"},Oe(this.props.loading,"Zatwierd\u017a")),ge(this.props.alert))}}]),a}(r.a.Component),vr=Object(F.a)({form:"SolveMultiBetMarketForm",validate:function(e){var t={};return 0===e.correctBetId&&(t.correctBetId="Wybierz zak\u0142ad !"),t}})(br),Or=Object(i.b)((function(e){return{loading:e.loading.SOLVE_MARKET,alert:e.alert}}),{solveMarket:Mt})(vr),Cr=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderBetsList=function(){return r.a.createElement(xa,{bets:e.props.currentMarket.bets,marketId:e.props.match.params.id,correctBetId:e.props.currentMarket.correctBetId})},e.renderSolveMarketInfo=function(){return r.a.createElement("div",null,e.compareDates(e.props.currentMarket.endDate),e.renderChooseCorrectBetForm())},e.renderMarketPage=function(){if(e.props.currentMarket)return r.a.createElement("div",null,r.a.createElement(Te,{title:'Rozwi\u0105\u017c rynek "'.concat(e.props.currentMarket.topic,'"')}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",null,e.renderSolveMarketInfo()))},e.renderChooseCorrectBetForm=function(){if(e.props.currentMarket)return r.a.createElement("div",null,e.props.currentMarket.bets.length>1?r.a.createElement(Or,{bets:e.props.currentMarket.bets,marketId:e.props.currentMarket.marketId}):r.a.createElement(gr,{bets:e.props.currentMarket.bets,marketId:e.props.currentMarket.marketId}))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.currentMarket||this.props.fetchMarket(this.props.match.params.id)}},{key:"renderLoadingMarket",value:function(){if(!this.props.currentMarket&&"undefined"!==typeof this.props.loadingMarket&&this.props.loadingMarket.pending)return r.a.createElement("div",{className:"text-center"},r.a.createElement(la.a,{type:"TailSpin",color:"black"}))}},{key:"compareDates",value:function(e){return new Date(e)>new Date?r.a.createElement("div",null,r.a.createElement("h4",null,"Jeszcze nie nadesz\u0142a przewidywana data zako\u0144czenia. Na pewno chcesz zako\u0144czy\u0107 rynek ?")):r.a.createElement("div",null,r.a.createElement("h4",null,"Rynek powinien si\u0119 ju\u017c zako\u0144czy\u0107"))}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement("div",null,this.renderLoadingMarket(),this.renderMarketPage()))}}]),a}(r.a.Component),jr=Object(i.b)((function(e,t){return{loadingMarket:e.loading.FETCH_MARKET,currentMarket:e.markets.find((function(e){return e.marketId.toString()===t.match.params.id}))}}),{fetchMarket:It})(Cr),Sr=a(644),Tr=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderLoading=function(){if("undefined"!==typeof e.props.loading&&e.props.loading.pending)return r.a.createElement("div",null,r.a.createElement(la.a,{type:"TailSpin",color:"black",width:50,height:50}))},e.renderPrice=function(){if(e.props.betPrice)return r.a.createElement("div",null,e.props.contractOption?r.a.createElement("h4",null,"Ostatnia cena: ",e.props.betPrice.yesPrice):r.a.createElement("h4",null,"Ostatnia cena: ",e.props.betPrice.noPrice))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchBetPrice(this.props.betId,this.props.contractOption)}},{key:"render",value:function(){return r.a.createElement(ca.a,{color:this.props.contractOption?"green":"red",className:"mt-3"},r.a.createElement(g.a,null,r.a.createElement(b.a,{sm:9},r.a.createElement("h2",{className:"ui header"},this.props.title),this.props.contractOption?r.a.createElement("h4",null,"Kontrakt na tak"):r.a.createElement("h4",null,"Kontrakt na nie")),r.a.createElement(b.a,{sm:3},this.renderPrice(),this.renderLoading())))}}]),a}(r.a.Component),wr=Object(i.b)((function(e,t){return{betPrice:e.betPrice[t.betId],loading:e.loading.FETCH_BETS_PRICE}}),{fetchBetPrice:Pt})(Tr),Ar=a(642),Nr=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={submitted:!1},e.renderButtonContent=function(t){return e.state.submitted&&"undefined"!==typeof e.props.loading&&e.props.loading.pending?r.a.createElement("div",null,r.a.createElement(ve.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),"\u0141adowanie..."):t},e.deleteOffer=function(){e.props.deleteOffer(e.props.offerId)},e}return Object(A.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.price),r.a.createElement("td",null,this.props.shares),r.a.createElement("td",null,this.props.createdDate),(!this.props.isOwner||window.location.href.includes("offers"))&&r.a.createElement("td",null,this.props.dealer),this.props.isOwner&&this.props.user&&window.location.href.includes("offers")&&r.a.createElement("td",null,r.a.createElement(C.LinkContainer,{to:"/contracts/details/".concat(this.props.contract)},r.a.createElement(O.a,{variant:"primary"},"Wy\u015bwietl ofert\u0119"))),!this.props.isOwner&&this.props.user&&this.props.user.roles.includes("ROLE_PLAYER")&&r.a.createElement("td",null,r.a.createElement(O.a,{variant:"primary",onClick:function(){return e.props.onClickShowModal(e.props.shares,e.props.offerId)}},this.renderButtonContent("Kup"))),this.props.isOwner&&!window.location.href.includes("offers")&&r.a.createElement("td",null,r.a.createElement(O.a,{onClick:this.deleteOffer,variant:"danger"},this.renderButtonContent("Usu\u0144"))))}}]),a}(r.a.Component),zr=Object(i.b)((function(e){return{loading:e.loading.DELETE_OFFER,user:e.login.user,alert:e.alert}}),{deleteOffer:function(e){return function(t){t({type:ja}),Pa(e).then((function(e){t({type:Sa,payload:e})}),(function(e){t({type:Ta}),t(de.deleteAlert(e.toString()))}))}}})(Nr),Ir=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Ar.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Cena akcji [$]"),r.a.createElement("th",null,"Liczba akcji"),r.a.createElement("th",null,"Data wystawienia"),r.a.createElement("th",null,"Czynno\u015bci"))),r.a.createElement("tbody",null,this.props.offers.map((function(t){return r.a.createElement(zr,{key:t.id,isOwner:e.props.isOwner,offerId:t.id,shares:t.shares,price:t.price,createdDate:t.createdDate})})))))}}]),a}(r.a.Component),Pr=Object(i.b)()(Ir),Fr=(a(611),function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={showModal:!1},e.renderLoading=function(){if(!e.props.contract&&"undefined"!==typeof e.props.loading&&e.props.loading.pending)return r.a.createElement(k.a,{className:"text-center bg-light border rounded shadow-container create-market-container"},r.a.createElement("div",{className:"text-center"},r.a.createElement(la.a,{type:"TailSpin",color:"black"}),r.a.createElement("h3",null,"Pobieranie danych kontraktu")))},e.handleModalClose=function(){e.props.clear()},e.renderDeletingLoading=function(){return r.a.createElement(Sr.a,{show:"undefined"!==typeof e.props.deleting&&e.props.deleting.pending},r.a.createElement(Sr.a.Body,{className:"text-center"},r.a.createElement("h3",null,"Usuwanie"),r.a.createElement(la.a,{type:"TailSpin",color:"black"})))},e.renderInfo=function(){return r.a.createElement(Sr.a,{show:"ALERT_DELETING"===e.props.alert.type,onHide:e.handleModalClose},r.a.createElement(Sr.a.Header,{closeButton:!0},r.a.createElement(Sr.a.Title,null,"Nie uda\u0142o si\u0119 usun\u0105\u0107 oferty")),r.a.createElement(Sr.a.Body,null,e.props.alert.payload),r.a.createElement(Sr.a.Footer,null,r.a.createElement(O.a,{variant:"secondary",onClick:e.handleModalClose},"Zamknij")))},e.renderContractStatus=function(e){switch(e.toLowerCase()){case"pending":return r.a.createElement("h5",null,"Oczekuj\u0105cy");case"won":return r.a.createElement("h5",null,"Wygrany");case"lost":return r.a.createElement("h5",null,"Przegrany");default:return r.a.createElement("h5",null,"Oczekuj\u0105cy")}},e.renderContent=function(){if(e.props.contract&&e.props.user&&e.props.contract.playerId===e.props.user.username)return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement(Te,{title:e.props.contract.marketInfo.topic}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",null,r.a.createElement(wr,{betId:e.props.contract.bet.id,contractOption:e.props.contract.contractOption,title:e.props.contract.bet.title})),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("h4",null,"Szczeg\xf3\u0142y kontraktu"),r.a.createElement(g.a,null,r.a.createElement(b.a,{sm:6},r.a.createElement(v.a,{variant:"top",src:mn(e.props.contract.marketInfo.marketCover,e.props.contract.marketInfo.marketCategory),className:"contract-cover"})),r.a.createElement(b.a,{sm:6},r.a.createElement("div",null,r.a.createElement("h4",null,"Liczba akcji"),r.a.createElement("h4",null,e.props.contract.shares>0?r.a.createElement("span",null,e.props.contract.shares):r.a.createElement("span",null,"Wszystkie akcje w sprzeda\u017cy"))),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",null,r.a.createElement("h4",null,"Status kontraktu"),e.renderContractStatus(e.props.contract.contractStatus)))),"PENDING"===e.props.contract.contractStatus?r.a.createElement("div",{className:"mt-3"},r.a.createElement("h4",null,"Oferty"),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",null,e.renderOffers(),e.props.contract&&r.a.createElement("div",{className:"button-container"},e.props.contract.shares>0&&r.a.createElement(C.LinkContainer,{className:"mr-3",to:"/offers/new/".concat(e.props.match.params.id)},r.a.createElement(O.a,{variant:"primary"},"Dodaj ofert\u0119"))),r.a.createElement(C.LinkContainer,{to:"/markets/details/".concat(e.props.contract.bet.marketId)},r.a.createElement(O.a,{variant:"primary"},"Wy\u015bwietl rynek")))):r.a.createElement(C.LinkContainer,{className:"mt-3",to:"/markets/details/".concat(e.props.contract.bet.marketId)},r.a.createElement(O.a,{variant:"primary"},"Wy\u015bwietl rynek")))},e.renderOffers=function(){return r.a.createElement("div",null,e.props.contract.offers?r.a.createElement("div",null,r.a.createElement(Pr,{offers:e.props.contract.offers,isOwner:!0})):r.a.createElement("div",{className:"text-center"},r.a.createElement(Ce.a,{icon:je.e,size:"5x"}),r.a.createElement("h4",null,"Brak ofert")))},e.renderNotFoundMessage=function(){if(!e.props.contract&&"undefined"!==typeof e.props.loading&&!e.props.loading.pending)return r.a.createElement(k.a,{className:"text-center bg-light border rounded shadow-container create-market-container"},r.a.createElement(Ce.a,{icon:je.e,size:"6x"}),r.a.createElement("h3",null,e.props.alert.payload))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchContractDetails(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderLoading(),this.renderContent(),this.renderInfo(),this.renderDeletingLoading(),this.renderNotFoundMessage())}}]),a}(r.a.Component)),Mr=Object(i.b)((function(e,t){return{loading:e.loading.FETCH_CONTRACT_DETAILS,deleting:e.loading.DELETE_OFFER,alert:e.alert,contract:e.contracts.find((function(e){return e.id.toString()===t.match.params.id})),user:e.login.user}}),{fetchContractDetails:Fa,clear:de.clear})(Fr),Rr="UPDATE_FILTERS",Lr="CLEAR_FILTERS",Dr="UPDATE_CURRENT_CONTRACTS_PAGE",Br="SET_STATUS_PENDING",_r=function(e){return{type:Dr,payload:e}},xr=function(){return{type:Lr}},Ur=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={selectedCategories:[],marketTitle:"",betTitle:"",page:0,contractStatus:"",pageSize:10,contractOption:0,sortedBy:["modifiedDate","desc"]},e.handleContractOption=function(t){e.setState({contractOption:t.target.value})},e.handleSortOption=function(t){e.setState({sortedBy:t.target.value.split(",")})},e.renderContractOptionFilter=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Opcja kontraktu"),r.a.createElement(I.a.Control,{as:"select",onChange:e.handleContractOption},r.a.createElement("option",{value:0},"Wszystkie kontrakty"),r.a.createElement("option",{value:1},"Kontrakty na tak"),r.a.createElement("option",{value:2},"Kontrakty na nie")),r.a.createElement("hr",{className:"my-4"}))},e.renderMarketTitleFilter=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Tytu\u0142 rynku"),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Control,{onChange:e.handleMarketTitleChange,type:"text",placeholder:"Tytu\u0142 rynku"})),r.a.createElement("hr",{className:"my-4"}))},e.renderContractStatusFilter=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Status kontraktu"),r.a.createElement(I.a.Control,{as:"select",onChange:e.handleContractStatus},r.a.createElement("option",{value:""},"Wszystkie"),r.a.createElement("option",{value:"PENDING"},"Trwaj\u0105ce"),r.a.createElement("option",{value:"WON"},"Wygrane"),r.a.createElement("option",{value:"LOST"},"Przegrane")),r.a.createElement("hr",{className:"my-4"}))},e.renderBetTitleFilter=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Tytu\u0142 zak\u0142adu"),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Control,{onChange:e.handleBetTitleChange,type:"text",placeholder:"Tytu\u0142 zak\u0142adu"})),r.a.createElement("hr",{className:"my-4"}))},e.renderSortFilter=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Sortuj wed\u0142ug"),r.a.createElement(I.a.Control,{as:"select",onChange:e.handleSortOption},r.a.createElement("option",{value:"modifiedDate,desc"},"Od najnowszych"),r.a.createElement("option",{value:"modifiedDate,asc"},"Od najstarszych")),r.a.createElement("hr",{className:"my-4"}))},e.handleCategory=function(t){e.state.selectedCategories.includes(t.target.value)?e.setState({selectedCategories:e.state.selectedCategories.filter((function(e){return e!==t.target.value}))}):e.setState({selectedCategories:[].concat(Object(Tn.a)(e.state.selectedCategories),[t.target.value])})},e.handleMarketTitleChange=function(t){e.setState({marketTitle:t.target.value})},e.handleContractStatus=function(t){e.setState({contractStatus:t.target.value})},e.handleBetTitleChange=function(t){e.setState({betTitle:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.updateContractFilters(e.state)},e.resetFilters=function(){e.setState({selectedCategories:[],marketTitle:"",betTitle:"",page:0,contractStatus:"PENDING",pageSize:10,contractOption:0,sortedBy:["modifiedDate","desc"]}),e.props.clearFilters()},e}return Object(A.a)(a,[{key:"render",value:function(){return r.a.createElement(I.a,null,!this.props.offerPage&&this.renderContractStatusFilter(),this.renderMarketTitleFilter(),this.renderBetTitleFilter(),this.renderSortFilter(),this.renderContractOptionFilter(),Lt(this.handleCategory),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(O.a,{onClick:this.handleSubmit,variant:"dark"},"Zatwierd\u017a"))}}]),a}(r.a.Component),Kr=Object(i.b)(null,{updateContractFilters:function(e){return{type:Rr,payload:e}},clearFilters:xr})(Ur),Hr=a(651),Wr=a(646),Gr=a(234),Qr=(a(612),function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={borderColor:"black",status:"",iconName:""},e.renderLoading=function(){if(!e.props.market)return r.a.createElement(g.a,{className:"text-center no-gutters"},r.a.createElement(la.a,{type:"TailSpin",color:"black"}))},e.renderCardBorder=function(e){switch(e.toLowerCase()){case"pending":return"black";case"won":return"green";case"lost":return"red";default:return"black"}},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){switch(this.props.contractStatus.toLowerCase()){case"pending":this.setState({borderColor:"black",status:"Oczekuj\u0105cy",iconName:"clock"});break;case"won":this.setState({borderColor:"green",status:"Wygrany",iconName:"trophy"});break;case"lost":this.setState({borderColor:"red",status:"Przegrany",iconName:"close"});break;default:this.setState({borderColor:"black",status:"Oczekuj\u0105cy",iconName:"clock"})}}},{key:"render",value:function(){return r.a.createElement(Hr.a,{fluid:!0,color:this.state.borderColor},r.a.createElement(C.LinkContainer,{to:"/contracts/details/".concat(this.props.id)},r.a.createElement(Wr.a,{className:"contract-cover",src:mn(this.props.marketInfo.marketCover,this.props.marketInfo.marketCategory)})),r.a.createElement(Hr.a.Content,null,r.a.createElement(Hr.a.Header,null,this.props.bet.title),this.props.contractOption?r.a.createElement(Hr.a.Header,null,"Kontrakt na tak"):r.a.createElement(Hr.a.Header,null,"Kontrakt na nie"),r.a.createElement(Hr.a.Meta,null,this.props.marketInfo.topic)),r.a.createElement(Hr.a.Content,{extra:!0},r.a.createElement("span",null,r.a.createElement(Gr.a,{name:"money bill alternate outline"}),this.props.shares>0?r.a.createElement("span",null,"Liczba akcji: ",this.props.shares):r.a.createElement("span",null,"Wszystkie akcje w sprzeda\u017cy"))),"PENDING"===this.props.contractStatus&&r.a.createElement(Hr.a.Content,{extra:!0},r.a.createElement("span",null,r.a.createElement(Gr.a,{name:"sellsy"}),this.props.offersSize)),r.a.createElement(Hr.a.Content,{extra:!0},r.a.createElement("span",null,r.a.createElement(Gr.a,{name:this.state.iconName}),this.state.status)))}}]),a}(r.a.Component)),Yr=Object(i.b)(null)(Qr),Zr=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).returnObjectSize=function(e){var t,a=0;for(t in e)e.hasOwnProperty(t)&&a++;return a},e.renderContent=function(){return"undefined"!==typeof e.props.loading&&e.props.loading.pending?r.a.createElement("div",{className:"text-center"},r.a.createElement(la.a,{type:"TailSpin",color:"black"})):r.a.createElement("div",null,e.renderInfo(),e.renderContractList(),r.a.createElement("div",null,r.a.createElement(An,{paginationInfo:e.props.paginationInfo,changePage:_r})))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.fetchContracts()}},{key:"componentWillUnmount",value:function(){this.props.clear(),this.props.clearFilters()}},{key:"componentDidUpdate",value:function(e){JSON.stringify(this.props.filter)!==JSON.stringify(e.filter)&&this.fetchContracts()}},{key:"fetchContracts",value:function(){this.props.offerPage?this.props.fetchFilteredContracts("PENDING",this.props.filter.contractOption,this.props.filter.betTitle,this.props.filter.marketTitle,this.props.filter.selectedCategories,this.props.filter.sortedBy,this.props.filter.page,this.props.filter.pageSize):this.props.fetchFilteredContracts(this.props.filter.contractStatus,this.props.filter.contractOption,this.props.filter.betTitle,this.props.filter.marketTitle,this.props.filter.selectedCategories,this.props.filter.sortedBy,this.props.filter.page,this.props.filter.pageSize)}},{key:"renderNotFoundMessage",value:function(){return r.a.createElement("div",{className:"text-center"},r.a.createElement(Ce.a,{icon:je.e,size:"6x"}),r.a.createElement("h3",null,"Nie znaleziono \u017cadnych kontrakt\xf3w"))}},{key:"renderInfo",value:function(){if(this.props.alert.payload)return r.a.createElement("div",{className:"text-center"},r.a.createElement(Ce.a,{icon:je.c,size:"6x"}),r.a.createElement("h3",null,this.props.alert.payload))}},{key:"renderContractList",value:function(){return this.props.contracts.length>0?r.a.createElement(g.a,{style:{width:"100%",margin:"0 auto"}},this.props.contracts.map((function(e){return r.a.createElement(b.a,{xs:12,md:6,className:"d-flex align-items-stretch",key:e.id,style:{margin:"10px 0"}},r.a.createElement(Yr,{id:e.id,offersSize:null!==e.offers?"Liczba ofert: ".concat(e.offers.length):"Brak ofert",bet:e.bet,contractStatus:e.contractStatus,marketInfo:e.marketInfo,price:e.price,shares:e.shares,contractOption:e.contractOption,betId:e.betId}))}))):this.props.alert.payload?void 0:r.a.createElement("div",null,this.renderNotFoundMessage())}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderContent())}}]),a}(r.a.Component),Vr=Object(i.b)((function(e){return{contracts:Object.values(e.contracts),loading:e.loading.FETCH_CONTRACTS,filter:e.filterContracts,paginationInfo:e.pagination.paginationContractInfo,alert:e.alert}}),{fetchContracts:function(e,t){return function(a){a({type:da}),Na(e,t).then((function(e){var t;a((t=e.content,{type:ma,payload:t})),a(wt(zt.a.omit(e,["content"])))}),(function(e){a({type:ha}),a(de.error(e.toString()))}))}},fetchFilteredContracts:function(e,t,a,n,r,o,c,i){return function(l){l({type:da}),Aa(e,t,a,n,r,o,c,i).then((function(e){var t;l((t=e.content,{type:ma,payload:t})),l(wt(zt.a.omit(e,["content"])))}),(function(e){l({type:ha}),l(de.error(e.toString()))}))}},clear:de.clear,clearFilters:xr,setStatusPending:function(){return{type:Br}}})(Zr),Jr=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container"},r.a.createElement(Te,{title:"Twoje kontrakty"}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(yn.a.Container,{id:"left-tabs-example",defaultActiveKey:"first"},r.a.createElement(g.a,null,r.a.createElement(b.a,{sm:12,md:3},r.a.createElement(Kr,null)),r.a.createElement(b.a,{sm:12,md:9},r.a.createElement(Vr,null)))))}}]),a}(r.a.Component),Xr=Object(i.b)()(Jr),qr=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={resetButtonDisable:!0},e.onSubmit=function(t){e.props.editPassword(t)},e.resetForm=function(){e.setState({resetButtonDisable:!0}),e.props.reset()},e.checkIsEmptyField=function(t){t.target.value?e.setState({resetButtonDisable:!1}):e.setState({resetButtonDisable:!0})},e}return Object(A.a)(a,[{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container profile-container"},r.a.createElement(Te,{title:"Zmiana has\u0142a"}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(I.a,{onSubmit:this.props.handleSubmit(this.onSubmit)},r.a.createElement(P.a,{onChange:this.checkIsEmptyField,type:"password",label:"Stare has\u0142o",name:"oldPassword",component:Ee,placeholder:"Wprowad\u017a stare has\u0142o"}),r.a.createElement(P.a,{onChange:this.checkIsEmptyField,type:"password",label:"Nowe has\u0142o",name:"newPassword",component:Ee,placeholder:"Wprowad\u017a nowe has\u0142o"}),r.a.createElement(P.a,{onChange:this.checkIsEmptyField,type:"password",label:"Powt\xf3rz nowe has\u0142o",name:"repeatedNewPassword",component:Ee,placeholder:"Powt\xf3rz nowe has\u0142o"}),r.a.createElement(O.a,{id:"submitNewPassword",className:"form-button",variant:"primary",type:"submit"},Oe(this.props.loading,"Zatwierd\u017a")),r.a.createElement(O.a,{className:"form-button",variant:"primary",type:"reset",onClick:this.resetForm,disabled:this.state.resetButtonDisable},"Cofnij zmiany")),ge(this.props.alert))}}]),a}(r.a.Component),$r=Object(F.a)({form:"editPasswordForm",validate:function(e){var t={};return["oldPassword","newPassword","repeatedNewPassword"].forEach((function(a){e[a]||(t[a]="To pole jest wymagane")})),e.newPassword!==e.repeatNewPassword&&(t.repeatNewPassword="Podane has\u0142a s\u0105 r\xf3\u017cne"),t}})(qr),eo=Object(i.b)((function(e){return{alert:e.alert,loading:e.loading.EDIT_PASSWORD}}),{editPassword:function(e){var t=e.oldPassword,a=e.newPassword,n=e.repeatedNewPassword;return function(e){e({type:U}),re(t,a,n).then((function(t){e(me()),e({type:K}),e(de.success(t))}),(function(t){e({type:H}),e(de.error(t.toString()))}))}}})($r),to=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={price:.5,shares:1,info:""},e.onChangeprice=function(t){e.setState({price:t.target.value})},e.onChangeshares=function(t){e.setState({shares:t.target.value})},e.handleSubmit=function(t){e.state.shares>0&&e.state.price?e.props.addOffer(e.props.match.params.id,e.state.shares,e.state.price):e.setState({info:"Wprowadzi\u0142e\u015b b\u0142\u0119dne dane, podane warto\u015bci musz\u0105 by\u0107 wi\u0119ksze od zera !"})},e.renderLoadingContainer=function(){return r.a.createElement(k.a,{className:"text-center bg-light border rounded shadow-container create-market-container"},r.a.createElement(ve.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),r.a.createElement("h3",null,"Pobieranie oferty"))},e.renderErrorInfo=function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement("header",null,r.a.createElement("h4",null,"Nie mo\u017cesz wystawi\u0107 oferty, poniewa\u017c wszystkie akcje z tego kontraktu sa wystawione na sprzeda\u017c"),r.a.createElement("hr",{className:"my-4"})))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchContractDetails(this.props.match.params.id)}},{key:"renderAddOfferForm",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement(Te,{title:"Dodaj now\u0105 ofert\u0119"}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(I.a,null,r.a.createElement(I.a.Group,{controlId:"formBasicRange"},r.a.createElement(I.a.Label,null,r.a.createElement("h4",null,"Cena sprzeda\u017cy")),r.a.createElement("p",{className:"text-muted"},"Wybierz cen\u0119 z zakresu od 0 do 1 $ (Przesu\u0144 pasek lub wpisz r\u0119cznie)"),r.a.createElement(I.a.Control,{min:.01,max:1,step:.01,type:"range",value:this.state.price,onChange:this.onChangeprice}),r.a.createElement(I.a.Control,{min:.01,max:1,step:.01,type:"number",value:this.state.price,onChange:this.onChangeprice}),r.a.createElement(I.a.Label,{className:"mt-3"},r.a.createElement("h4",null,"Liczba akcji")),r.a.createElement("p",{className:"text-muted"},"Wybierz liczb\u0119 akcji kt\xf3r\u0105 chcesz wystawi\u0107 na sprzeda\u017cy"),r.a.createElement(I.a.Control,{min:1,max:this.props.contract.shares,step:1,type:"range",value:this.state.shares,onChange:this.onChangeshares}),r.a.createElement(I.a.Control,{min:1,max:this.props.contract.shares,step:1,type:"number",value:this.state.shares,onChange:this.onChangeshares}),r.a.createElement("div",null,r.a.createElement(O.a,{variant:"primary",onClick:this.handleSubmit,className:"mt-3"},Oe(this.props.loading,"Dodaj ofert\u0119")))),ge(this.state.info)))}},{key:"render",value:function(){return this.props.contract&&this.props.contract.shares>0?r.a.createElement("div",null,this.renderAddOfferForm()):"undefined"!==typeof this.props.loadingContract&&this.props.loadingContract.pending?r.a.createElement("div",null,this.renderLoadingContainer()):r.a.createElement("div",null,this.renderErrorInfo())}}]),a}(r.a.Component),ao=Object(i.b)((function(e,t){return{loading:e.loading.ADD_OFFER,loadingContract:e.loading.FETCH_CONTRACT_DETAILS,alert:e.alert,contract:e.contracts.find((function(e){return e.id.toString()===t.match.params.id}))}}),{addOffer:function(e,t,a){return function(n){n({type:va}),Ia(e,t,a).then((function(t){n({type:Oa,payload:t}),m.push("/contracts/details/".concat(e))}),(function(e){n({type:Ca}),n(de.error(e.toString()))}))}},fetchContractDetails:Fa})(to),no=function(e,t,a,n){var r={method:"GET",headers:Y()};return fetch("".concat(Z,"/offers?betId=").concat(e,"&option=").concat(t,"&page=").concat(a,"&size=").concat(n),r).then((function(e){return V(e)}))},ro=function(e,t){var a={method:"POST",headers:Y()};return fetch("".concat(Z,"/offers/buy?offerId=").concat(e,"&shares=").concat(t),a).then((function(e){return X(e)}))},oo="FETCH_OFFERS_REQUEST",co="FETCH_OFFERS_SUCCESS",io="FETCH_OFFERS_FAILURE",lo="BUY_SHARES_REQUEST",so="BUY_SHARES_SUCCESS",uo="BUY_SHARES_FAILURE",po=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={shares:1},e.handleSubmit=function(t){t.preventDefault(),e.props.buyShares(e.props.id,e.state.shares)},e.onChangeShares=function(t){e.setState({shares:t.target.value})},e}return Object(A.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(Sr.a,{show:this.props.showModalForm,onHide:this.props.handleClose,backdrop:"static",keyboard:!1},r.a.createElement(Sr.a.Header,{closeButton:!0},r.a.createElement(Sr.a.Title,null,"Zakup akcji")),r.a.createElement(Sr.a.Body,null,r.a.createElement(I.a,{onSubmit:this.handleSubmit},r.a.createElement(I.a.Group,{controlId:"formBasicRange"},r.a.createElement(I.a.Label,null,r.a.createElement("h4",null,"Liczba akcji")),r.a.createElement("p",{className:"text-muted"},"Wprowad\u017a ile akcji chcesz kupi\u0107"),r.a.createElement(I.a.Control,{min:1,step:"1",max:this.props.maxValue,value:this.state.shares,onChange:this.onChangeShares,type:"number"}),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("div",{className:"mt-3"},r.a.createElement(O.a,{type:"submit",variant:"primary",className:"mr-3"},Oe(this.props.loading,"Zakup akcje")),r.a.createElement(O.a,{variant:"secondary",onClick:function(){return e.props.handleClose()}},"Zamknij"))),ge(this.props.alert))))}}]),a}(r.a.Component),mo=Object(i.b)((function(e){return{loading:e.loading.BUY_CONTRACT,alert:e.alert}}),{buyShares:function(e,t){return function(a){a({type:sa,payload:{offerId:e}}),ro(e,t).then((function(e){var t;a(function(e){return{type:ua,payload:e}}(e.boughtContract)),a((t=e.purchaser,{type:Zt,payload:t})),m.push("/contracts")}),(function(e){a({type:pa}),a(de.buyingError(e.toString()))}))}}})(po),ho="UPDATE_CURRENT_OFFER_PAGE",Eo=function(e){return{type:ho,payload:e}},fo=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showModalForm:!1,maxValue:1e3,id:0},e.handleClose=function(){e.setState({showModalForm:!1}),e.props.clear()},e.handleShow=function(t,a){e.setState({showModalForm:!0,maxValue:t,id:a})},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchOffers(this.props.match.params.id,this.props.match.params.option,this.props.filter.page,this.props.filter.pageSize)}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.props.filter)!==JSON.stringify(e.filter)&&this.props.fetchOffers(this.props.match.params.id,this.props.match.params.option,this.props.filter.page,this.props.filter.pageSize)}},{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"renderLoading",value:function(){if("undefined"!==typeof this.props.loading&&this.props.loading.pending)return r.a.createElement("div",{className:"text-center"},r.a.createElement(la.a,{type:"TailSpin",color:"black"}))}},{key:"renderFailedToFetch",value:function(){if(this.props.alert.payload&&"ALERT_BUYING"!==this.props.alert.type)return r.a.createElement("div",{className:"text-center"},r.a.createElement(Ce.a,{icon:je.c,size:"6x"}),r.a.createElement("h3",null,this.props.alert.payload))}},{key:"renderContent",value:function(){var e=this;if(this.props.offers&&"undefined"!==typeof this.props.loading&&!this.props.loading.pending)return r.a.createElement("div",null,r.a.createElement("div",{className:"table-responsive"},this.props.offers&&r.a.createElement(Ar.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Cena akcji [$]"),r.a.createElement("th",null,"Liczba akcji"),r.a.createElement("th",null,"Data wystawienia"),r.a.createElement("th",null,"Sprzedawca"),!zt.a.isEmpty(this.props.player)&&r.a.createElement("th",null,"Czynno\u015bci"))),r.a.createElement("tbody",null,this.props.offers.map((function(t){return r.a.createElement(zr,{key:t.id,isOwner:e.props.user&&e.props.user.username===t.dealer,user:t.user,dealer:t.dealer?t.dealer:"Organizator rynku",onClickShowModal:e.handleShow,offerId:t.id,shares:t.shares,price:t.price,createdDate:t.createdDate,contract:t.contractId})}))))),r.a.createElement(An,{paginationInfo:this.props.pagination,changePage:Eo}))}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement(Te,{title:"Oferty"}),r.a.createElement("hr",{className:"my-4"}),this.renderLoading(),this.renderContent(),this.renderFailedToFetch(),r.a.createElement(mo,{id:this.state.id,maxValue:this.state.maxValue,handleClose:this.handleClose,showModalForm:this.state.showModalForm}))}}]),a}(r.a.Component),yo=Object(i.b)((function(e){return{offers:e.offers,pagination:e.pagination.offersPagination,filter:e.filterOffers,user:e.login.user,player:e.player,loading:e.loading.FETCH_OFFERS,alert:e.alert}}),{fetchOffers:function(e,t,a,n){return function(r){r({type:oo}),no(e,t,a,n).then((function(e){var t;r((t=e.content,{type:co,payload:t})),r(At(zt.a.omit(e,["content"])))}),(function(e){r({type:io}),r(de.error(e.toString()))}))}},updateOfferPagination:At,clear:de.clear})(fo),ko="FETCH_RANKING_REQUEST",go="FETCH_RANKING_SUCCESS",bo="FETCH_RANKING_FAILURE",vo=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).renderLoading=function(){if("undefined"!==typeof e.props.loading&&e.props.loading.pending)return r.a.createElement("div",null,r.a.createElement(ve.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),r.a.createElement("h3",null,"Pobieranie rankingu"))},e.renderError=function(){if(e.props.alert.payload)return r.a.createElement("div",null,r.a.createElement("h3",null,"Wyst\u0105pi\u0142 b\u0142\u0105d"))},e}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchRanking()}},{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"renderRanking",value:function(){if(this.props.ranking.length>0)return r.a.createElement("div",null,r.a.createElement(Ar.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement(Ce.a,{className:"mr-1",icon:je.i}),"Pozycja"),r.a.createElement("th",null,"U\u017cytkownik"),r.a.createElement("th",null,"Bud\u017cet [$]"))),r.a.createElement("tbody",null,this.props.ranking.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.username),r.a.createElement("td",null,Math.round(100*(e.budget+Number.EPSILON))/100))})))))}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement(Te,{title:"Top 100 graczy"}),r.a.createElement("hr",{className:"my-4"}),this.renderLoading(),this.renderRanking(),this.renderError())}}]),a}(r.a.Component),Oo=Object(i.b)((function(e){return{loading:e.loading.FETCH_RANKING,alert:e.alert,ranking:e.ranking}}),{fetchRanking:function(){return function(e){e({type:ko}),Xt().then((function(t){e({type:go,payload:t})}),(function(t){e({type:bo}),e(de.error(t.toString()))}))}},clear:de.clear})(vo),Co="UPDATE_TRANSACTION_FILTERS",jo="CLEAR_TRANSACTION_FILTERS",So="UPDATE_CURRENT_TRANSACTION_PAGE",To=function(e){return{type:So,payload:e}},wo=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){var e;Object(w.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={selectedCategories:[],marketTitle:"",betTitle:"",page:0,contractStatus:"",pageSize:10,option:0,sortedBy:["transactionDate","desc"]},e.handleOption=function(t){e.setState({option:t.target.value})},e.handleSortOption=function(t){e.setState({sortedBy:t.target.value.split(",")})},e.renderContractOptionFilter=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Opcja kontraktu"),r.a.createElement(I.a.Control,{as:"select",onChange:e.handleOption},r.a.createElement("option",{value:0},"Wszystkie kontrakty"),r.a.createElement("option",{value:1},"Kontrakty na tak"),r.a.createElement("option",{value:2},"Kontrakty na nie")),r.a.createElement("hr",{className:"my-4"}))},e.renderMarketTitleFilter=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Tytu\u0142 rynku"),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Control,{onChange:e.handleMarketTitleChange,type:"text",placeholder:"Tytu\u0142 rynku"})),r.a.createElement("hr",{className:"my-4"}))},e.renderBetTitleFilter=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Tytu\u0142 zak\u0142adu"),r.a.createElement(I.a.Group,null,r.a.createElement(I.a.Control,{onChange:e.handleBetTitleChange,type:"text",placeholder:"Tytu\u0142 zak\u0142adu"})),r.a.createElement("hr",{className:"my-4"}))},e.renderSortFilter=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Sortuj wed\u0142ug"),r.a.createElement(I.a.Control,{as:"select",onChange:e.handleSortOption},r.a.createElement("option",{value:"transactionDate,desc"},"Od najnowszych"),r.a.createElement("option",{value:"transactionDate,asc"},"Od najstarszych")),r.a.createElement("hr",{className:"my-4"}))},e.handleCategory=function(t){e.state.selectedCategories.includes(t.target.value)?e.setState({selectedCategories:e.state.selectedCategories.filter((function(e){return e!==t.target.value}))}):e.setState({selectedCategories:[].concat(Object(Tn.a)(e.state.selectedCategories),[t.target.value])})},e.handleMarketTitleChange=function(t){e.setState({marketTitle:t.target.value})},e.handleContractStatus=function(t){e.setState({contractStatus:t.target.value})},e.handleBetTitleChange=function(t){e.setState({betTitle:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.updateTransactionFilters(e.state)},e}return Object(A.a)(a,[{key:"render",value:function(){return r.a.createElement(I.a,null,this.renderMarketTitleFilter(),this.renderBetTitleFilter(),this.renderSortFilter(),this.renderContractOptionFilter(),Lt(this.handleCategory),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(O.a,{onClick:this.handleSubmit,variant:"dark"},"Zatwierd\u017a"))}}]),a}(r.a.Component),Ao=Object(i.b)(null,{updateTransactionFilters:function(e){return{type:Co,payload:e}}})(wo),No=a(650),zo=function(e){return r.a.createElement(No.a,null,r.a.createElement(No.a.Image,{size:"medium",className:"img",src:mn(e.marketInfo.marketCover,e.marketInfo.marketCategory)}),r.a.createElement(No.a.Content,null,r.a.createElement(No.a.Header,null,e.marketInfo.topic),r.a.createElement(No.a.Meta,null,r.a.createElement("h4",null,e.bet.title),r.a.createElement("h5",null,e.option?"Opcja na tak":"Opcja na nie"),r.a.createElement("span",{className:"price"},r.a.createElement(Ce.a,{icon:je.d})," Liczba akcji: ",e.shares),r.a.createElement("span",{className:"stay"},r.a.createElement(Ce.a,{icon:je.d})," Cena za 1 akcj\u0119: ",e.price),r.a.createElement("hr",{className:"my-3"}),r.a.createElement("span",{className:"price"},r.a.createElement(Ce.a,{icon:je.b})," Data transakcji: ",e.transactionDate),r.a.createElement("hr",{className:"my-3"}),r.a.createElement("span",{className:"dealer"},r.a.createElement(Ce.a,{icon:je.f})," Kupuj\u0105cy:"," ",e.purchaser),r.a.createElement("hr",{className:"my-3"}),r.a.createElement("span",{className:"dealer"},r.a.createElement(Ce.a,{icon:je.f})," Sprzedawca:"," ",e.dealer)),r.a.createElement(No.a.Description,null)))},Io=(a(615),function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchFilteredTransactions(this.props.type,this.props.filter.option,this.props.filter.betTitle,this.props.filter.marketTitle,this.props.filter.selectedCategories,this.props.filter.page,this.props.filter.pageSize,this.props.filter.sortedBy)}},{key:"componentDidUpdate",value:function(e){JSON.stringify(this.props.filter)!==JSON.stringify(e.filter)&&this.props.fetchFilteredTransactions(this.props.type,this.props.filter.option,this.props.filter.betTitle,this.props.filter.marketTitle,this.props.filter.selectedCategories,this.props.filter.page,this.props.filter.pageSize,this.props.filter.sortedBy)}},{key:"componentWillUnmount",value:function(){this.props.clearFilters()}},{key:"renderNotFoundMessage",value:function(){if(!this.props.alert.payload)return r.a.createElement("div",{className:"text-center"},r.a.createElement(Ce.a,{icon:je.e,size:"6x"}),r.a.createElement("h2",null,"Nie znaleziono \u017cadnych transakcji"))}},{key:"renderPagination",value:function(){if(this.props.transactions.length>0)return r.a.createElement("div",null,r.a.createElement(An,{paginationInfo:this.props.pagination,changePage:To}))}},{key:"renderContent",value:function(){return"undefined"!==typeof this.props.loading&&this.props.loading.pending?r.a.createElement("div",{className:"text-center"},r.a.createElement(la.a,{type:"TailSpin",color:"black"})):r.a.createElement("div",null,this.renderList(),this.renderPagination())}},{key:"renderInfo",value:function(){if(this.props.alert.payload)return r.a.createElement("div",{className:"text-center"},r.a.createElement(Ce.a,{icon:je.c,size:"6x"}),r.a.createElement("h3",null,this.props.alert.payload))}},{key:"renderList",value:function(){return this.props.transactions.length>0?r.a.createElement(No.a.Group,{divided:!0},this.props.transactions.map((function(e){return r.a.createElement(zo,{key:e.id,transactionDate:e.transactionDate,purchaser:e.purchaser,dealer:e.dealer?e.dealer:"Organizator rynku",option:e.option,price:e.price,shares:e.shares,bet:e.bet,marketInfo:e.marketInfo})}))):r.a.createElement("div",null,this.renderNotFoundMessage())}},{key:"render",value:function(){return r.a.createElement("div",{className:"transaction-container"},r.a.createElement(g.a,null,r.a.createElement(b.a,{sm:3},r.a.createElement(Ao,null)),r.a.createElement(b.a,{sm:9},this.renderContent(),this.renderInfo())))}}]),a}(r.a.Component)),Po=Object(i.b)((function(e){return{loading:e.loading.FETCH_FILTERED_TRANSACTIONS,filter:e.transactionsFilter,transactions:e.transactions,alert:e.alert,pagination:e.pagination.transactionPagination}}),{fetchFilteredTransactions:function(e,t,a,n,r,o,c,i){return function(l){l({type:ar}),cr(e,t,a,n,r,o,c,i).then((function(e){var t,a;l((t=e.content,{type:nr,payload:t})),l((a=zt.a.omit(e,["content"]),{type:St,payload:a}))}),(function(e){l({type:rr}),l(de.error(e.toString()))}))}},clearFilters:function(){return{type:jo}},clearPagination:function(){return{type:Tt}}})(Io),Fo=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"componentWillUnmount",value:function(){this.props.clearTransactions()}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container"},r.a.createElement(Te,{title:"Transakcje"}),r.a.createElement(fn.a,{id:"controlled-tab-example",className:"mt-3"},r.a.createElement(yn.a,{eventKey:"home",title:"Zakup",unmountOnExit:!0},r.a.createElement(Po,{type:"purchaser"})),r.a.createElement(yn.a,{eventKey:"profile",title:"Sprzeda\u017c",unmountOnExit:!0},r.a.createElement(Po,{type:"dealer"}))))}}]),a}(r.a.Component),Mo=Object(i.b)(null,{clearTransactions:ir})(Fo),Ro=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement(Te,{title:"Twoje oferty"}),r.a.createElement("p",{className:"text-muted"},"Wybierz kontrakt w celu zarz\u0105dzania ofertami"),r.a.createElement("hr",{className:"my-4"}),r.a.createElement(g.a,null,r.a.createElement(b.a,{sm:12,md:3},r.a.createElement(Kr,{offerPage:!0})),r.a.createElement(b.a,{sm:12,md:9},r.a.createElement(Vr,{offerPage:!0}))))}}]),a}(r.a.Component),Lo=function(e){Object(N.a)(a,e);var t=Object(z.a)(a);function a(){return Object(w.a)(this,a),t.apply(this,arguments)}return Object(A.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchMarket(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"renderLoading",value:function(){if("undefined"!==typeof this.props.loadingMarket&&this.props.loadingMarket.pending&&!this.props.currentMarket)return r.a.createElement("div",{className:"text-center"},r.a.createElement(la.a,{type:"TailSpin",color:"black"}))}},{key:"renderFirstDeleteBetsInfo",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Aby usun\u0105\u0107 rynek najpierw usu\u0144 zak\u0142ady"),r.a.createElement(C.LinkContainer,{to:"/markets/editBets/".concat(this.props.match.params.id)},r.a.createElement(O.a,null,"Edytuj zak\u0142ady")))}},{key:"renderDeleteField",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h4",null,"Czy na pewno chcesz usun\u0105\u0107 rynek ?"),r.a.createElement(O.a,{onClick:function(){return e.props.deleteMarket(e.props.match.params.id)}},Oe(this.props.loading,"Usu\u0144 rynek")))}},{key:"renderFailedToFetch",value:function(){if(this.props.alert.payload)return r.a.createElement("div",{className:"text-center"},r.a.createElement(Ce.a,{icon:je.c,size:"6x"}),r.a.createElement("h3",null,this.props.alert.payload))}},{key:"renderContent",value:function(){if(this.props.currentMarket)return r.a.createElement("div",null,this.props.currentMarket.bets?r.a.createElement("div",null,this.renderFirstDeleteBetsInfo()):r.a.createElement("div",null,this.renderDeleteField()))}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"bg-light border rounded shadow-container create-market-container"},r.a.createElement(Te,{title:"Usuwanie rynku"}),r.a.createElement("hr",{className:"my-4"}),this.renderLoading(),this.renderContent(),this.renderFailedToFetch())}}]),a}(r.a.Component),Do=Object(i.b)((function(e,t){return{loadingMarket:e.loading.FETCH_MARKET,loading:e.loading.DELETE_MARKET,currentMarket:e.markets.find((function(e){return e.marketId.toString()===t.match.params.id})),alert:e.alert}}),{fetchMarket:It,deleteMarket:function(e){return function(t){t({type:nt}),dt(e).then((function(e){m.push("/markets"),t(function(e){return{type:rt,payload:e}}(e))}),(function(e){t({type:ot}),t(de.error(e.toString()))}))}},clear:de.clear})(Lo),Bo=a(643),_o=function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(u.HashRouter,{history:m},r.a.createElement(ea,null),r.a.createElement(p.g,null,r.a.createElement(p.d,{exact:!0,path:"/",component:T}),r.a.createElement(p.d,{path:"/login",component:Ne}),r.a.createElement(p.d,{path:"/register",component:oa}),r.a.createElement(p.d,{path:"/resetPassword",component:Ya}),r.a.createElement(p.d,{path:"/resetPasswordWithToken",component:tn}),r.a.createElement(p.d,{path:"/ranking",component:Oo}),r.a.createElement(y,{path:"/transactions",component:Mo}),r.a.createElement(p.d,{path:"/offers/bet/:id/:option",component:yo}),r.a.createElement(y,{path:"/offers/new/:id",component:ao}),r.a.createElement(y,{path:"/offers",component:Ro}),r.a.createElement(y,{path:"/editPassword",component:eo}),r.a.createElement(y,{path:"/profile",component:aa}),r.a.createElement(y,{path:"/contracts/details/:id",component:Mr}),r.a.createElement(y,{path:"/contracts",component:Xr}),r.a.createElement(y,{path:"/createMarket",component:_t}),r.a.createElement(p.d,{path:"/markets/details/:id",component:mr}),r.a.createElement(y,{path:"/markets/editCover/:id",component:Kt}),r.a.createElement(y,{path:"/markets/editBets/:id",component:Ha}),r.a.createElement(y,{path:"/markets/editMarket/:id",component:fr}),r.a.createElement(y,{path:"/markets/solveMarket/:id",component:jr}),r.a.createElement(y,{path:"/markets/makePublic/:id",component:En}),r.a.createElement(y,{path:"/markets/delete/:id",component:Do}),r.a.createElement(p.d,{path:"/markets",component:Xn}),r.a.createElement(p.c,{from:"*",to:"/"}))),r.a.createElement(Bo.a,{hidden:!0}))},xo=a(13),Uo=JSON.parse(localStorage.getItem("user")),Ko=Uo?{loggedIn:!0,user:Uo}:{},Ho=a(144);function Wo(e){return"string"!==typeof e?null:e.split("_").slice(0,-1).join("_")}var Go=function(e,t){var a=e.findIndex((function(e){return e.marketId===t.payload.marketId})),n=Object(Tn.a)(e);return n[a]=t.payload,n},Qo={marketTitle:"",selectedCategories:[],sortedBy:["createdDate","desc"],page:0,pageSize:10},Yo=a(653),Zo=function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id})),n=Object(Tn.a)(e);return n[a]=t.payload,n},Vo={marketTitle:"",betTitle:"",contractStatus:"",contractOption:0,selectedCategories:[],sortedBy:["modifiedDate","desc"],page:0,pageSize:10},Jo={marketTitle:"",betTitle:"",option:0,selectedCategories:[],sortedBy:["transactionDate","desc"],page:0,pageSize:10},Xo={page:0,pageSize:100},qo=Object(l.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ko,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loggedIn:!1,user:t.user};case B:return{loggedIn:!0,user:t.user};case _:case x:return{};case U:case K:case H:case W:case G:case Q:return Object(xo.a)({},e);case M:case R:case L:return{};default:return e}},form:Yo.a,markets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ke:return Object(Tn.a)(e);case He:return Object(Tn.a)(t.payload);case We:case Ze:return Object(Tn.a)(e);case Ve:return e.find((function(e){return e.marketId===t.payload.marketId}))?Object(Tn.a)(e):[].concat(Object(Tn.a)(e),[t.payload]);case Je:case Ge:return Object(Tn.a)(e);case Qe:return Go(e,t);case Ye:case ze:return Object(Tn.a)(e);case Ie:return Go(e,t);case Pe:case Le:return Object(Tn.a)(e);case De:return Go(e,t);case Be:case _e:return Object(Tn.a)(e);case xe:return Go(e,t);case Ue:case Xe:return Object(Tn.a)(e);case qe:return Go(e,t);case $e:case et:return Object(Tn.a)(e);case tt:return Go(e,t);case at:case Fe:case Me:return Object(Tn.a)(e);case Re:return Go(e,t);case nt:return Object(Tn.a)(e);case rt:return Go(e,t);case ot:return Object(Tn.a)(e);default:return e}},filterMarkets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nn:return Object(xo.a)(Object(xo.a)({},e),{},{selectedCategories:[].concat(Object(Tn.a)(e.selectedCategories),[t.payload]),page:0});case zn:return Object(xo.a)(Object(xo.a)({},e),{},{selectedCategories:e.selectedCategories.filter((function(e){return e!==t.payload})),page:0});case In:return Object(xo.a)(Object(xo.a)({},e),{},{marketTitle:t.payload,page:0});case Pn:return Object(xo.a)(Object(xo.a)({},e),{},{sortedBy:t.payload,page:0});case Mn:return Object(xo.a)(Object(xo.a)({},e),{},{pageSize:t.payload,page:0});case Fn:return Object(xo.a)(Object(xo.a)({},e),{},{page:t.payload});case Rn:return Object(xo.a)({},Qo);default:return e}},filterContracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Br:return Object(xo.a)(Object(xo.a)({},e),{},{contractStatus:"PENDING"});case Rr:return Object(xo.a)(Object(xo.a)({},e),t.payload);case Lr:return Object(xo.a)({},Vo);case Dr:return Object(xo.a)(Object(xo.a)({},e),{},{page:t.payload});default:return e}},alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return{type:ce,payload:t.payload};case ie:return"TypeError: Failed to fetch"===t.payload?{type:pe,payload:"Serwer nie odpowiada, spr\xf3buj ponownie p\xf3\u017aniej!"}:{type:ie,payload:t.payload};case se:return{type:se,payload:t.payload};case ue:return{type:ue,payload:t.payload};case le:return{};default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=Wo(a);return n?a.endsWith("_REQUEST")?Object(xo.a)(Object(xo.a)({},e),{},Object(Ho.a)({},n,{pending:!0})):a.endsWith("_SUCCESS")||a.endsWith("_FAILURE")?Object(xo.a)(Object(xo.a)({},e),{},Object(Ho.a)({},n,{pending:!1})):Object(xo.a)({},e):Object(xo.a)({},e)},pagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ot:return Object(xo.a)(Object(xo.a)({},e),{},{paginationInfo:t.payload});case Ct:return Object(xo.a)(Object(xo.a)({},e),{},{paginationContractInfo:t.payload});case St:return Object(xo.a)(Object(xo.a)({},e),{},{transactionPagination:t.payload});case jt:return Object(xo.a)(Object(xo.a)({},e),{},{offersPagination:t.payload});case Tt:return{};default:return e}},token:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Wa.SEND_TOKEN_REQUEST:return{email:t.payload,sended:!1};case Wa.SEND_TOKEN_SUCCESS:return{email:t.payload,sended:!0};case Wa.SEND_TOKEN_FAILURE:return{};case Wa.CHECK_TOKEN_REQUEST:return Object(xo.a)(Object(xo.a)({},e),{},{token:t.payload,tokenCorrect:!1});case Wa.CHECK_TOKEN_SUCCESS:return Object(xo.a)(Object(xo.a)({},e),{},{token:t.payload,tokenCorrect:!0});case Wa.CHECK_TOKEN_FAILURE:return Object(xo.a)(Object(xo.a)({},e),{},{tokenCorrect:!1});default:return e}},betPrice:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case kt:return Object(xo.a)({},e);case gt:return Object(xo.a)(Object(xo.a)({},e),zt.a.mapKeys([t.payload],"betId"));case bt:return Object(xo.a)({},e);case vt:return zt.a.omit(e,t.payload);default:return e}},player:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yt:return Object(xo.a)({},e);case Zt:return Object(xo.a)(Object(xo.a)({},e),t.payload);case Vt:case x:return{};default:return e}},contracts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case da:return Object(Tn.a)(e);case ma:return Object(Tn.a)(t.payload);case ha:case Ea:return Object(Tn.a)(e);case fa:return e.find((function(e){return e.id===t.payload.id}))?Object(Tn.a)(e):[].concat(Object(Tn.a)(e),[t.payload]);case ya:case sa:return Object(Tn.a)(e);case ua:return e.find((function(e){return e.id===t.payload.id}))?Object(Tn.a)(e):[].concat(Object(Tn.a)(e),[t.payload]);case pa:case ka:return Object(Tn.a)(e);case ga:return e.find((function(e){return e.id===t.payload.id}))?Object(Tn.a)(e):[].concat(Object(Tn.a)(e),[t.payload]);case ba:case va:return Object(Tn.a)(e);case Oa:return Zo(e,t);case Ca:case ja:return Object(Tn.a)(e);case Sa:return Zo(e,t);case Ta:return Object(Tn.a)(e);default:return e}},offers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oo:return Object(Tn.a)(e);case co:return Object(Tn.a)(t.payload);case io:case lo:case so:case uo:default:return Object(Tn.a)(e)}},ranking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ko:return Object(Tn.a)(e);case go:return Object(Tn.a)(t.payload);case bo:return Object(Tn.a)(e);default:return e}},transactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qn:return Object(Tn.a)(e);case $n:return Object(Tn.a)(t.payload);case er:case ar:return Object(Tn.a)(e);case nr:return Object(Tn.a)(t.payload);case rr:return Object(Tn.a)(e);case tr:return[];default:return Object(Tn.a)(e)}},transactionsFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Co:return Object(xo.a)(Object(xo.a)({},e),t.payload);case jo:return Object(xo.a)({},Jo);case So:return Object(xo.a)(Object(xo.a)({},e),{},{page:t.payload});default:return e}},filterOffers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ho:return Object(xo.a)(Object(xo.a)({},e),{},{page:t.payload});default:return e}}}),$o=(a(616),a(617),a(618),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d),ec=Object(l.e)(qo,$o(Object(l.a)(s.a)));c.a.render(r.a.createElement(i.a,{store:ec},r.a.createElement(_o,null)),document.querySelector("#root"))}},[[357,1,2]]]);
//# sourceMappingURL=main.ab6e200c.chunk.js.map